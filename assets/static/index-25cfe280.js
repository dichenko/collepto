var Us=Object.defineProperty;var Vs=(e,r,n)=>r in e?Us(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var Ke=(e,r,n)=>(Vs(e,typeof r!="symbol"?r+"":r,n),n);import{r as c,a as ar,R as or,b as qs,c as ne}from"./vendor-194d1c16.js";import{E as Ks,X as K,C as ut,a as ir,A as Me,b as ft,c as Hs,D as Ys,M as Xs,d as lr,e as Zs,S as At,F as Js,f as Qs,L as nt,U as en,I as cr,g as he,h as tn,i as It,P as at,j as rn,k as dr,l as sn,m as nn,n as an,o as Rt,p as kt,T as Tt,H as on}from"./ui-a0c2d6dc.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var ur={exports:{}},$e={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ln=c,cn=Symbol.for("react.element"),dn=Symbol.for("react.fragment"),un=Object.prototype.hasOwnProperty,fn=ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mn={key:!0,ref:!0,__self:!0,__source:!0};function fr(e,r,n){var s,a={},o=null,l=null;n!==void 0&&(o=""+n),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(l=r.ref);for(s in r)un.call(r,s)&&!mn.hasOwnProperty(s)&&(a[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps,r)a[s]===void 0&&(a[s]=r[s]);return{$$typeof:cn,type:e,key:o,ref:l,props:a,_owner:fn.current}}$e.Fragment=dn;$e.jsx=fr;$e.jsxs=fr;ur.exports=$e;var t=ur.exports,ot={},Pt=ar;ot.createRoot=Pt.createRoot,ot.hydrateRoot=Pt.hydrateRoot;function Dt(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function mr(...e){return r=>{let n=!1;const s=e.map(a=>{const o=Dt(a,r);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():Dt(e[a],null)}}}}function V(...e){return c.useCallback(mr(...e),e)}function Ae(e){const r=hn(e),n=c.forwardRef((s,a)=>{const{children:o,...l}=s,i=c.Children.toArray(o),f=i.find(pn);if(f){const d=f.props.children,u=i.map(m=>m===f?c.Children.count(d)>1?c.Children.only(null):c.isValidElement(d)?d.props.children:null:m);return t.jsx(r,{...l,ref:a,children:c.isValidElement(d)?c.cloneElement(d,void 0,u):null})}return t.jsx(r,{...l,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var hr=Ae("Slot");function hn(e){const r=c.forwardRef((n,s)=>{const{children:a,...o}=n;if(c.isValidElement(a)){const l=vn(a),i=xn(o,a.props);return a.type!==c.Fragment&&(i.ref=s?mr(s,l):l),c.cloneElement(a,i)}return c.Children.count(a)>1?c.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var gr=Symbol("radix.slottable");function gn(e){const r=({children:n})=>t.jsx(t.Fragment,{children:n});return r.displayName=`${e}.Slottable`,r.__radixId=gr,r}function pn(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gr}function xn(e,r){const n={...r};for(const s in r){const a=e[s],o=r[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...i)=>{const f=o(...i);return a(...i),f}:a&&(n[s]=a):s==="style"?n[s]={...a,...o}:s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function vn(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pr(e){var r,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(r=0;r<a;r++)e[r]&&(n=pr(e[r]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function xr(){for(var e,r,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(r=pr(e))&&(s&&(s+=" "),s+=r);return s}const Ot=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_t=xr,mt=(e,r)=>n=>{var s;if((r==null?void 0:r.variants)==null)return _t(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=r,l=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],m=o==null?void 0:o[d];if(u===null)return null;const g=Ot(u)||Ot(m);return a[d][g]}),i=n&&Object.entries(n).reduce((d,u)=>{let[m,g]=u;return g===void 0||(d[m]=g),d},{}),f=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:m,className:g,...b}=u;return Object.entries(b).every(C=>{let[h,p]=C;return Array.isArray(p)?p.includes({...o,...i}[h]):{...o,...i}[h]===p})?[...d,m,g]:d},[]);return _t(e,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},ht="-",bn=e=>{const r=jn(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const i=l.split(ht);return i[0]===""&&i.length!==1&&i.shift(),vr(i,r)||yn(l)},getConflictingClassGroupIds:(l,i)=>{const f=n[l]||[];return i&&s[l]?[...f,...s[l]]:f}}},vr=(e,r)=>{var l;if(e.length===0)return r.classGroupId;const n=e[0],s=r.nextPart.get(n),a=s?vr(e.slice(1),s):void 0;if(a)return a;if(r.validators.length===0)return;const o=e.join(ht);return(l=r.validators.find(({validator:i})=>i(o)))==null?void 0:l.classGroupId},Mt=/^\[(.+)\]$/,yn=e=>{if(Mt.test(e)){const r=Mt.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},jn=e=>{const{theme:r,prefix:n}=e,s={nextPart:new Map,validators:[]};return wn(Object.entries(e.classGroups),n).forEach(([o,l])=>{it(l,s,o,r)}),s},it=(e,r,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?r:Lt(r,a);o.classGroupId=n;return}if(typeof a=="function"){if(Nn(a)){it(a(s),r,n,s);return}r.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,l])=>{it(l,Lt(r,o),n,s)})})},Lt=(e,r)=>{let n=e;return r.split(ht).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Nn=e=>e.isThemeGetter,wn=(e,r)=>r?e.map(([n,s])=>{const a=s.map(o=>typeof o=="string"?r+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,i])=>[r+l,i])):o);return[n,a]}):e,Cn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,s=new Map;const a=(o,l)=>{n.set(o,l),r++,r>e&&(r=0,s=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return a(o,l),l},set(o,l){n.has(o)?n.set(o,l):a(o,l)}}},br="!",Sn=e=>{const{separator:r,experimentalParseClassName:n}=e,s=r.length===1,a=r[0],o=r.length,l=i=>{const f=[];let d=0,u=0,m;for(let p=0;p<i.length;p++){let j=i[p];if(d===0){if(j===a&&(s||i.slice(p,p+o)===r)){f.push(i.slice(u,p)),u=p+o;continue}if(j==="/"){m=p;continue}}j==="["?d++:j==="]"&&d--}const g=f.length===0?i:i.substring(u),b=g.startsWith(br),C=b?g.substring(1):g,h=m&&m>u?m-u:void 0;return{modifiers:f,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:h}};return n?i=>n({className:i,parseClassName:l}):l},En=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(s=>{s[0]==="["?(r.push(...n.sort(),s),n=[]):n.push(s)}),r.push(...n.sort()),r},An=e=>({cache:Cn(e.cacheSize),parseClassName:Sn(e),...bn(e)}),In=/\s+/,Rn=(e,r)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=r,o=[],l=e.trim().split(In);let i="";for(let f=l.length-1;f>=0;f-=1){const d=l[f],{modifiers:u,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:b}=n(d);let C=!!b,h=s(C?g.substring(0,b):g);if(!h){if(!C){i=d+(i.length>0?" "+i:i);continue}if(h=s(g),!h){i=d+(i.length>0?" "+i:i);continue}C=!1}const p=En(u).join(":"),j=m?p+br:p,S=j+h;if(o.includes(S))continue;o.push(S);const E=a(h,C);for(let N=0;N<E.length;++N){const R=E[N];o.push(j+R)}i=d+(i.length>0?" "+i:i)}return i};function kn(){let e=0,r,n,s="";for(;e<arguments.length;)(r=arguments[e++])&&(n=yr(r))&&(s&&(s+=" "),s+=n);return s}const yr=e=>{if(typeof e=="string")return e;let r,n="";for(let s=0;s<e.length;s++)e[s]&&(r=yr(e[s]))&&(n&&(n+=" "),n+=r);return n};function Tn(e,...r){let n,s,a,o=l;function l(f){const d=r.reduce((u,m)=>m(u),e());return n=An(d),s=n.cache.get,a=n.cache.set,o=i,i(f)}function i(f){const d=s(f);if(d)return d;const u=Rn(f,n);return a(f,u),u}return function(){return o(kn.apply(null,arguments))}}const O=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},jr=/^\[(?:([a-z-]+):)?(.+)\]$/i,Pn=/^\d+\/\d+$/,Dn=new Set(["px","full","screen"]),On=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_n=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ln=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Z=e=>ge(e)||Dn.has(e)||Pn.test(e),re=e=>je(e,"length",qn),ge=e=>!!e&&!Number.isNaN(Number(e)),He=e=>je(e,"number",ge),Ce=e=>!!e&&Number.isInteger(Number(e)),$n=e=>e.endsWith("%")&&ge(e.slice(0,-1)),T=e=>jr.test(e),se=e=>On.test(e),zn=new Set(["length","size","percentage"]),Bn=e=>je(e,zn,Nr),Wn=e=>je(e,"position",Nr),Gn=new Set(["image","url"]),Un=e=>je(e,Gn,Hn),Vn=e=>je(e,"",Kn),Se=()=>!0,je=(e,r,n)=>{const s=jr.exec(e);return s?s[1]?typeof r=="string"?s[1]===r:r.has(s[1]):n(s[2]):!1},qn=e=>_n.test(e)&&!Mn.test(e),Nr=()=>!1,Kn=e=>Ln.test(e),Hn=e=>Fn.test(e),Yn=()=>{const e=O("colors"),r=O("spacing"),n=O("blur"),s=O("brightness"),a=O("borderColor"),o=O("borderRadius"),l=O("borderSpacing"),i=O("borderWidth"),f=O("contrast"),d=O("grayscale"),u=O("hueRotate"),m=O("invert"),g=O("gap"),b=O("gradientColorStops"),C=O("gradientColorStopPositions"),h=O("inset"),p=O("margin"),j=O("opacity"),S=O("padding"),E=O("saturate"),N=O("scale"),R=O("sepia"),x=O("skew"),v=O("space"),A=O("translate"),P=()=>["auto","contain","none"],y=()=>["auto","hidden","clip","visible","scroll"],w=()=>["auto",T,r],I=()=>[T,r],G=()=>["",Z,re],te=()=>["auto",ge,T],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],St=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],qe=()=>["start","end","center","between","around","evenly","stretch"],we=()=>["","0",T],Et=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[ge,T];return{cacheSize:500,separator:":",theme:{colors:[Se],spacing:[Z,re],blur:["none","",se,T],brightness:X(),borderColor:[e],borderRadius:["none","","full",se,T],borderSpacing:I(),borderWidth:G(),contrast:X(),grayscale:we(),hueRotate:X(),invert:we(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[$n,re],inset:w(),margin:w(),opacity:X(),padding:I(),saturate:X(),scale:X(),sepia:we(),skew:X(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",T]}],container:["container"],columns:[{columns:[se]}],"break-after":[{"break-after":Et()}],"break-before":[{"break-before":Et()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),T]}],overflow:[{overflow:y()}],"overflow-x":[{"overflow-x":y()}],"overflow-y":[{"overflow-y":y()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ce,T]}],basis:[{basis:w()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",T]}],grow:[{grow:we()}],shrink:[{shrink:we()}],order:[{order:["first","last","none",Ce,T]}],"grid-cols":[{"grid-cols":[Se]}],"col-start-end":[{col:["auto",{span:["full",Ce,T]},T]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[Se]}],"row-start-end":[{row:["auto",{span:[Ce,T]},T]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",T]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",T]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...qe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...qe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...qe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[v]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[v]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",T,r]}],"min-w":[{"min-w":[T,r,"min","max","fit"]}],"max-w":[{"max-w":[T,r,"none","full","min","max","fit","prose",{screen:[se]},se]}],h:[{h:[T,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[T,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[T,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[T,r,"auto","min","max","fit"]}],"font-size":[{text:["base",se,re]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",He]}],"font-family":[{font:[Se]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",T]}],"line-clamp":[{"line-clamp":["none",ge,He]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Z,T]}],"list-image":[{"list-image":["none",T]}],"list-style-type":[{list:["none","disc","decimal",T]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Z,re]}],"underline-offset":[{"underline-offset":["auto",Z,T]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",T]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",T]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),Wn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Un]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:q()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Z,T]}],"outline-w":[{outline:[Z,re]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Z,re]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",se,Vn]}],"shadow-color":[{shadow:[Se]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...St(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":St()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",se,T]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[E]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",T]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",T]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",T]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ce,T]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",T]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",T]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",T]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Z,re,He]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Xn=Tn(Yn);function D(...e){return Xn(xr(e))}const gt=mt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function k({className:e,variant:r,size:n,asChild:s=!1,...a}){const o=s?hr:"button";return t.jsx(o,{"data-slot":"button",className:D(gt({variant:r,size:n,className:e})),...a})}const Zn=mt("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function M({className:e,variant:r,asChild:n=!1,...s}){const a=n?hr:"span";return t.jsx(a,{"data-slot":"badge",className:D(Zn({variant:r}),e),...s})}const Jn={theme:"system",setTheme:()=>null},Qn=c.createContext(Jn);function Ee({children:e,defaultTheme:r="system",storageKey:n="vite-ui-theme",...s}){const[a,o]=c.useState(()=>localStorage.getItem(n)||r);c.useEffect(()=>{const i=window.document.documentElement;if(i.classList.remove("light","dark"),a==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i.classList.add(f);return}i.classList.add(a)},[a]);const l={theme:a,setTheme:i=>{localStorage.setItem(n,i),o(i)}};return t.jsx(Qn.Provider,{...s,value:l,children:e})}function F({className:e,...r}){return t.jsx("div",{"data-slot":"card",className:D("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...r})}function U({className:e,...r}){return t.jsx("div",{"data-slot":"card-header",className:D("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function J({className:e,...r}){return t.jsx("h4",{"data-slot":"card-title",className:D("leading-none",e),...r})}function B({className:e,...r}){return t.jsx("div",{"data-slot":"card-content",className:D("px-6 [&:last-child]:pb-6",e),...r})}function ea({className:e,...r}){return t.jsx("div",{"data-slot":"card-footer",className:D("flex items-center px-6 pb-6 [.border-t]:pt-6",e),...r})}const ta="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Q(e){const[r,n]=c.useState(!1),s=()=>{n(!0)},{src:a,alt:o,style:l,className:i,...f}=e;return r?t.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${i??""}`,style:l,children:t.jsx("div",{className:"flex items-center justify-center w-full h-full",children:t.jsx("img",{src:ta,alt:"Error loading image",...f,"data-original-url":a})})}):t.jsx("img",{src:a,alt:o,className:i,style:l,...f,onError:s})}function ra({id:e,category:r,photos:n=[],title:s,description:a,year:o,tags:l=[],onMoreDetails:i,onTagClick:f,onCategoryClick:d}){const[u,m]=c.useState(0),[g,b]=c.useState(!1),C=h=>{if(!n.length)return;const p=h.currentTarget.getBoundingClientRect(),j=h.clientX-p.left,S=p.width,E=Math.floor(j/S*n.length);m(Math.max(0,Math.min(E,n.length-1)))};return t.jsxs(F,{className:"h-full flex flex-col transition-all duration-200 hover:shadow-lg",children:[t.jsx(U,{className:"p-0",children:t.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-t-lg cursor-pointer",onMouseMove:C,onMouseEnter:()=>b(!0),onMouseLeave:()=>{b(!1),m(0)},children:[t.jsx(Q,{src:n.length>0?n[u]||n[0]:"/placeholder-image.jpg",alt:s,className:"w-full h-full object-cover transition-all duration-300"}),t.jsx("div",{className:"absolute top-2 left-2",children:t.jsx(M,{variant:"secondary",className:"bg-white/90 text-primary cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:h=>{h.stopPropagation(),d==null||d(r)},children:r})}),n.length>1&&g&&t.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-1",children:n.map((h,p)=>t.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-200 ${p===u?"bg-white scale-110":"bg-white/50 hover:bg-white/75"}`},p))})]})}),t.jsxs(B,{className:"flex-1 p-4 space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx("h3",{className:"line-clamp-2 leading-tight",children:s}),t.jsx("span",{className:"text-muted-foreground text-sm shrink-0",children:o})]}),t.jsx("p",{className:"text-muted-foreground text-sm line-clamp-3 leading-relaxed",children:a})]}),t.jsx("div",{className:"space-y-2",children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.slice(0,4).map((h,p)=>t.jsx(M,{variant:"outline",className:"text-xs cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:()=>f==null?void 0:f(h),children:h},p)),l.length>4&&t.jsxs(M,{variant:"outline",className:"text-xs cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:()=>{const h=l.slice(4).join(", ");alert(`Остальные теги: ${h}`)},children:["+",l.length-4]})]})})]}),t.jsx(ea,{className:"p-4 pt-0",children:t.jsxs(k,{variant:"outline",size:"sm",onClick:()=>i==null?void 0:i(e),className:"w-full gap-2",children:[t.jsx(Ks,{className:"w-4 h-4"}),"Подробнее"]})})]})}function W(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function sa(e,r){const n=c.createContext(r),s=o=>{const{children:l,...i}=o,f=c.useMemo(()=>i,Object.values(i));return t.jsx(n.Provider,{value:f,children:l})};s.displayName=e+"Provider";function a(o){const l=c.useContext(n);if(l)return l;if(r!==void 0)return r;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function ce(e,r=[]){let n=[];function s(o,l){const i=c.createContext(l),f=n.length;n=[...n,l];const d=m=>{var j;const{scope:g,children:b,...C}=m,h=((j=g==null?void 0:g[e])==null?void 0:j[f])||i,p=c.useMemo(()=>C,Object.values(C));return t.jsx(h.Provider,{value:p,children:b})};d.displayName=o+"Provider";function u(m,g){var h;const b=((h=g==null?void 0:g[e])==null?void 0:h[f])||i,C=c.useContext(b);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=n.map(l=>c.createContext(l));return function(i){const f=(i==null?void 0:i[e])||o;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:f}}),[i,f])}};return a.scopeName=e,[s,na(a,...r)]}function na(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=s.reduce((i,{useScope:f,scopeName:d})=>{const m=f(o)[`__scope${d}`];return{...i,...m}},{});return c.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return n.scopeName=r.scopeName,n}var be=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},aa=or[" useId ".trim().toString()]||(()=>{}),oa=0;function pe(e){const[r,n]=c.useState(aa());return be(()=>{e||n(s=>s??String(oa++))},[e]),e||(r?`radix-${r}`:"")}var ia=or[" useInsertionEffect ".trim().toString()]||be;function ze({prop:e,defaultProp:r,onChange:n=()=>{},caller:s}){const[a,o,l]=la({defaultProp:r,onChange:n}),i=e!==void 0,f=i?e:a;{const u=c.useRef(e!==void 0);c.useEffect(()=>{const m=u.current;m!==i&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=i},[i,s])}const d=c.useCallback(u=>{var m;if(i){const g=ca(u)?u(e):u;g!==e&&((m=l.current)==null||m.call(l,g))}else o(u)},[i,e,o,l]);return[f,d]}function la({defaultProp:e,onChange:r}){const[n,s]=c.useState(e),a=c.useRef(n),o=c.useRef(r);return ia(()=>{o.current=r},[r]),c.useEffect(()=>{var l;a.current!==n&&((l=o.current)==null||l.call(o,n),a.current=n)},[n,a]),[n,s,o]}function ca(e){return typeof e=="function"}var da=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$=da.reduce((e,r)=>{const n=Ae(`Primitive.${r}`),s=c.forwardRef((a,o)=>{const{asChild:l,...i}=a,f=l?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(f,{...i,ref:o})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function ua(e,r){e&&ar.flushSync(()=>e.dispatchEvent(r))}function ye(e){const r=c.useRef(e);return c.useEffect(()=>{r.current=e}),c.useMemo(()=>(...n)=>{var s;return(s=r.current)==null?void 0:s.call(r,...n)},[])}function fa(e,r=globalThis==null?void 0:globalThis.document){const n=ye(e);c.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var ma="DismissableLayer",lt="dismissableLayer.update",ha="dismissableLayer.pointerDownOutside",ga="dismissableLayer.focusOutside",Ft,wr=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cr=c.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:i,...f}=e,d=c.useContext(wr),[u,m]=c.useState(null),g=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=c.useState({}),C=V(r,v=>m(v)),h=Array.from(d.layers),[p]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=h.indexOf(p),S=u?h.indexOf(u):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,N=S>=j,R=va(v=>{const A=v.target,P=[...d.branches].some(y=>y.contains(A));!N||P||(a==null||a(v),l==null||l(v),v.defaultPrevented||i==null||i())},g),x=ba(v=>{const A=v.target;[...d.branches].some(y=>y.contains(A))||(o==null||o(v),l==null||l(v),v.defaultPrevented||i==null||i())},g);return fa(v=>{S===d.layers.size-1&&(s==null||s(v),!v.defaultPrevented&&i&&(v.preventDefault(),i()))},g),c.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ft=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),$t(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Ft)}},[u,g,n,d]),c.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),$t())},[u,d]),c.useEffect(()=>{const v=()=>b({});return document.addEventListener(lt,v),()=>document.removeEventListener(lt,v)},[]),t.jsx($.div,{...f,ref:C,style:{pointerEvents:E?N?"auto":"none":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,x.onFocusCapture),onBlurCapture:W(e.onBlurCapture,x.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,R.onPointerDownCapture)})});Cr.displayName=ma;var pa="DismissableLayerBranch",xa=c.forwardRef((e,r)=>{const n=c.useContext(wr),s=c.useRef(null),a=V(r,s);return c.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),t.jsx($.div,{...e,ref:a})});xa.displayName=pa;function va(e,r=globalThis==null?void 0:globalThis.document){const n=ye(e),s=c.useRef(!1),a=c.useRef(()=>{});return c.useEffect(()=>{const o=i=>{if(i.target&&!s.current){let f=function(){Sr(ha,n,d,{discrete:!0})};const d={originalEvent:i};i.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=f,r.addEventListener("click",a.current,{once:!0})):f()}else r.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{r.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",o),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function ba(e,r=globalThis==null?void 0:globalThis.document){const n=ye(e),s=c.useRef(!1);return c.useEffect(()=>{const a=o=>{o.target&&!s.current&&Sr(ga,n,{originalEvent:o},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function $t(){const e=new CustomEvent(lt);document.dispatchEvent(e)}function Sr(e,r,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?ua(a,o):a.dispatchEvent(o)}var Ye="focusScope.autoFocusOnMount",Xe="focusScope.autoFocusOnUnmount",zt={bubbles:!1,cancelable:!0},ya="FocusScope",Er=c.forwardRef((e,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...l}=e,[i,f]=c.useState(null),d=ye(a),u=ye(o),m=c.useRef(null),g=V(r,h=>f(h)),b=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(s){let h=function(E){if(b.paused||!i)return;const N=E.target;i.contains(N)?m.current=N:ae(m.current,{select:!0})},p=function(E){if(b.paused||!i)return;const N=E.relatedTarget;N!==null&&(i.contains(N)||ae(m.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&ae(i)};document.addEventListener("focusin",h),document.addEventListener("focusout",p);const S=new MutationObserver(j);return i&&S.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",p),S.disconnect()}}},[s,i,b.paused]),c.useEffect(()=>{if(i){Wt.add(b);const h=document.activeElement;if(!i.contains(h)){const j=new CustomEvent(Ye,zt);i.addEventListener(Ye,d),i.dispatchEvent(j),j.defaultPrevented||(ja(Ea(Ar(i)),{select:!0}),document.activeElement===h&&ae(i))}return()=>{i.removeEventListener(Ye,d),setTimeout(()=>{const j=new CustomEvent(Xe,zt);i.addEventListener(Xe,u),i.dispatchEvent(j),j.defaultPrevented||ae(h??document.body,{select:!0}),i.removeEventListener(Xe,u),Wt.remove(b)},0)}}},[i,d,u,b]);const C=c.useCallback(h=>{if(!n&&!s||b.paused)return;const p=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,j=document.activeElement;if(p&&j){const S=h.currentTarget,[E,N]=Na(S);E&&N?!h.shiftKey&&j===N?(h.preventDefault(),n&&ae(E,{select:!0})):h.shiftKey&&j===E&&(h.preventDefault(),n&&ae(N,{select:!0})):j===S&&h.preventDefault()}},[n,s,b.paused]);return t.jsx($.div,{tabIndex:-1,...l,ref:g,onKeyDown:C})});Er.displayName=ya;function ja(e,{select:r=!1}={}){const n=document.activeElement;for(const s of e)if(ae(s,{select:r}),document.activeElement!==n)return}function Na(e){const r=Ar(e),n=Bt(r,e),s=Bt(r.reverse(),e);return[n,s]}function Ar(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function Bt(e,r){for(const n of e)if(!wa(n,{upTo:r}))return n}function wa(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ca(e){return e instanceof HTMLInputElement&&"select"in e}function ae(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ca(e)&&r&&e.select()}}var Wt=Sa();function Sa(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=Gt(e,r),e.unshift(r)},remove(r){var n;e=Gt(e,r),(n=e[0])==null||n.resume()}}}function Gt(e,r){const n=[...e],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function Ea(e){return e.filter(r=>r.tagName!=="A")}var Aa="Portal",Ir=c.forwardRef((e,r)=>{var i;const{container:n,...s}=e,[a,o]=c.useState(!1);be(()=>o(!0),[]);const l=n||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return l?qs.createPortal(t.jsx($.div,{...s,ref:r}),l):null});Ir.displayName=Aa;function Ia(e,r){return c.useReducer((n,s)=>r[n][s]??n,e)}var Ne=e=>{const{present:r,children:n}=e,s=Ra(r),a=typeof n=="function"?n({present:s.isPresent}):c.Children.only(n),o=V(s.ref,ka(a));return typeof n=="function"||s.isPresent?c.cloneElement(a,{ref:o}):null};Ne.displayName="Presence";function Ra(e){const[r,n]=c.useState(),s=c.useRef(null),a=c.useRef(e),o=c.useRef("none"),l=e?"mounted":"unmounted",[i,f]=Ia(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const d=Re(s.current);o.current=i==="mounted"?d:"none"},[i]),be(()=>{const d=s.current,u=a.current;if(u!==e){const g=o.current,b=Re(d);e?f("MOUNT"):b==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(u&&g!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),be(()=>{if(r){let d;const u=r.ownerDocument.defaultView??window,m=b=>{const h=Re(s.current).includes(b.animationName);if(b.target===r&&h&&(f("ANIMATION_END"),!a.current)){const p=r.style.animationFillMode;r.style.animationFillMode="forwards",d=u.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=p)})}},g=b=>{b.target===r&&(o.current=Re(s.current))};return r.addEventListener("animationstart",g),r.addEventListener("animationcancel",m),r.addEventListener("animationend",m),()=>{u.clearTimeout(d),r.removeEventListener("animationstart",g),r.removeEventListener("animationcancel",m),r.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[r,f]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:c.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function Re(e){return(e==null?void 0:e.animationName)||"none"}function ka(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ze=0;function Ta(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ut()),document.body.insertAdjacentElement("beforeend",e[1]??Ut()),Ze++,()=>{Ze===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ze--}},[])}function Ut(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Y=function(){return Y=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Y.apply(this,arguments)};function Rr(e,r){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Pa(e,r,n){if(n||arguments.length===2)for(var s=0,a=r.length,o;s<a;s++)(o||!(s in r))&&(o||(o=Array.prototype.slice.call(r,0,s)),o[s]=r[s]);return e.concat(o||Array.prototype.slice.call(r))}var Oe="right-scroll-bar-position",_e="width-before-scroll-bar",Da="with-scroll-bars-hidden",Oa="--removed-body-scroll-bar-size";function Je(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function _a(e,r){var n=c.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var Ma=typeof window<"u"?c.useLayoutEffect:c.useEffect,Vt=new WeakMap;function La(e,r){var n=_a(r||null,function(s){return e.forEach(function(a){return Je(a,s)})});return Ma(function(){var s=Vt.get(n);if(s){var a=new Set(s),o=new Set(e),l=n.current;a.forEach(function(i){o.has(i)||Je(i,null)}),o.forEach(function(i){a.has(i)||Je(i,l)})}Vt.set(n,e)},[e]),n}function Fa(e){return e}function $a(e,r){r===void 0&&(r=Fa);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=r(o,s);return n.push(l),function(){n=n.filter(function(i){return i!==l})}},assignSyncMedium:function(o){for(s=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){s=!0;var l=[];if(n.length){var i=n;n=[],i.forEach(o),l=n}var f=function(){var u=l;l=[],u.forEach(o)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(u){l.push(u),d()},filter:function(u){return l=l.filter(u),n}}}};return a}function za(e){e===void 0&&(e={});var r=$a(null);return r.options=Y({async:!0,ssr:!1},e),r}var kr=function(e){var r=e.sideCar,n=Rr(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return c.createElement(s,Y({},n))};kr.isSideCarExport=!0;function Ba(e,r){return e.useMedium(r),kr}var Tr=za(),Qe=function(){},Be=c.forwardRef(function(e,r){var n=c.useRef(null),s=c.useState({onScrollCapture:Qe,onWheelCapture:Qe,onTouchMoveCapture:Qe}),a=s[0],o=s[1],l=e.forwardProps,i=e.children,f=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,g=e.sideCar,b=e.noRelative,C=e.noIsolation,h=e.inert,p=e.allowPinchZoom,j=e.as,S=j===void 0?"div":j,E=e.gapMode,N=Rr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,x=La([n,r]),v=Y(Y({},N),a);return c.createElement(c.Fragment,null,u&&c.createElement(R,{sideCar:Tr,removeScrollBar:d,shards:m,noRelative:b,noIsolation:C,inert:h,setCallbacks:o,allowPinchZoom:!!p,lockRef:n,gapMode:E}),l?c.cloneElement(c.Children.only(i),Y(Y({},v),{ref:x})):c.createElement(S,Y({},v,{className:f,ref:x}),i))});Be.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Be.classNames={fullWidth:_e,zeroRight:Oe};var qt,Wa=function(){if(qt)return qt;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ga(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=Wa();return r&&e.setAttribute("nonce",r),e}function Ua(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function Va(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var qa=function(){var e=0,r=null;return{add:function(n){e==0&&(r=Ga())&&(Ua(r,n),Va(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Ka=function(){var e=qa();return function(r,n){c.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},Pr=function(){var e=Ka(),r=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return r},Ha={left:0,top:0,right:0,gap:0},et=function(e){return parseInt(e||"",10)||0},Ya=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],a=r[e==="padding"?"paddingRight":"marginRight"];return[et(n),et(s),et(a)]},Xa=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ha;var r=Ya(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},Za=Pr(),xe="data-scroll-locked",Ja=function(e,r,n,s){var a=e.left,o=e.top,l=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Da,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(i,"px ").concat(s,`;
  }
  body[`).concat(xe,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oe,` {
    right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(_e,` {
    margin-right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(Oe," .").concat(Oe,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(_e," .").concat(_e,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(xe,`] {
    `).concat(Oa,": ").concat(i,`px;
  }
`)},Kt=function(){var e=parseInt(document.body.getAttribute(xe)||"0",10);return isFinite(e)?e:0},Qa=function(){c.useEffect(function(){return document.body.setAttribute(xe,(Kt()+1).toString()),function(){var e=Kt()-1;e<=0?document.body.removeAttribute(xe):document.body.setAttribute(xe,e.toString())}},[])},eo=function(e){var r=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;Qa();var o=c.useMemo(function(){return Xa(a)},[a]);return c.createElement(Za,{styles:Ja(o,!r,a,n?"":"!important")})},ct=!1;if(typeof window<"u")try{var ke=Object.defineProperty({},"passive",{get:function(){return ct=!0,!0}});window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch{ct=!1}var ue=ct?{passive:!1}:!1,to=function(e){return e.tagName==="TEXTAREA"},Dr=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!to(e)&&n[r]==="visible")},ro=function(e){return Dr(e,"overflowY")},so=function(e){return Dr(e,"overflowX")},Ht=function(e,r){var n=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=Or(e,s);if(a){var o=_r(e,s),l=o[1],i=o[2];if(l>i)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},no=function(e){var r=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[r,n,s]},ao=function(e){var r=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[r,n,s]},Or=function(e,r){return e==="v"?ro(r):so(r)},_r=function(e,r){return e==="v"?no(r):ao(r)},oo=function(e,r){return e==="h"&&r==="rtl"?-1:1},io=function(e,r,n,s,a){var o=oo(e,window.getComputedStyle(r).direction),l=o*s,i=n.target,f=r.contains(i),d=!1,u=l>0,m=0,g=0;do{if(!i)break;var b=_r(e,i),C=b[0],h=b[1],p=b[2],j=h-p-o*C;(C||j)&&Or(e,i)&&(m+=j,g+=C);var S=i.parentNode;i=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!f&&i!==document.body||f&&(r.contains(i)||r===i));return(u&&(a&&Math.abs(m)<1||!a&&l>m)||!u&&(a&&Math.abs(g)<1||!a&&-l>g))&&(d=!0),d},Te=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Yt=function(e){return[e.deltaX,e.deltaY]},Xt=function(e){return e&&"current"in e?e.current:e},lo=function(e,r){return e[0]===r[0]&&e[1]===r[1]},co=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uo=0,fe=[];function fo(e){var r=c.useRef([]),n=c.useRef([0,0]),s=c.useRef(),a=c.useState(uo++)[0],o=c.useState(Pr)[0],l=c.useRef(e);c.useEffect(function(){l.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var h=Pa([e.lockRef.current],(e.shards||[]).map(Xt),!0).filter(Boolean);return h.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),h.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=c.useCallback(function(h,p){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!l.current.allowPinchZoom;var j=Te(h),S=n.current,E="deltaX"in h?h.deltaX:S[0]-j[0],N="deltaY"in h?h.deltaY:S[1]-j[1],R,x=h.target,v=Math.abs(E)>Math.abs(N)?"h":"v";if("touches"in h&&v==="h"&&x.type==="range")return!1;var A=Ht(v,x);if(!A)return!0;if(A?R=v:(R=v==="v"?"h":"v",A=Ht(v,x)),!A)return!1;if(!s.current&&"changedTouches"in h&&(E||N)&&(s.current=R),!R)return!0;var P=s.current||R;return io(P,p,h,P==="h"?E:N,!0)},[]),f=c.useCallback(function(h){var p=h;if(!(!fe.length||fe[fe.length-1]!==o)){var j="deltaY"in p?Yt(p):Te(p),S=r.current.filter(function(R){return R.name===p.type&&(R.target===p.target||p.target===R.shadowParent)&&lo(R.delta,j)})[0];if(S&&S.should){p.cancelable&&p.preventDefault();return}if(!S){var E=(l.current.shards||[]).map(Xt).filter(Boolean).filter(function(R){return R.contains(p.target)}),N=E.length>0?i(p,E[0]):!l.current.noIsolation;N&&p.cancelable&&p.preventDefault()}}},[]),d=c.useCallback(function(h,p,j,S){var E={name:h,delta:p,target:j,should:S,shadowParent:mo(j)};r.current.push(E),setTimeout(function(){r.current=r.current.filter(function(N){return N!==E})},1)},[]),u=c.useCallback(function(h){n.current=Te(h),s.current=void 0},[]),m=c.useCallback(function(h){d(h.type,Yt(h),h.target,i(h,e.lockRef.current))},[]),g=c.useCallback(function(h){d(h.type,Te(h),h.target,i(h,e.lockRef.current))},[]);c.useEffect(function(){return fe.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",f,ue),document.addEventListener("touchmove",f,ue),document.addEventListener("touchstart",u,ue),function(){fe=fe.filter(function(h){return h!==o}),document.removeEventListener("wheel",f,ue),document.removeEventListener("touchmove",f,ue),document.removeEventListener("touchstart",u,ue)}},[]);var b=e.removeScrollBar,C=e.inert;return c.createElement(c.Fragment,null,C?c.createElement(o,{styles:co(a)}):null,b?c.createElement(eo,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function mo(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const ho=Ba(Tr,fo);var Mr=c.forwardRef(function(e,r){return c.createElement(Be,Y({},e,{ref:r,sideCar:ho}))});Mr.classNames=Be.classNames;const go=Mr;var po=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},me=new WeakMap,Pe=new WeakMap,De={},tt=0,Lr=function(e){return e&&(e.host||Lr(e.parentNode))},xo=function(e,r){return r.map(function(n){if(e.contains(n))return n;var s=Lr(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vo=function(e,r,n,s){var a=xo(r,Array.isArray(e)?e:[e]);De[n]||(De[n]=new WeakMap);var o=De[n],l=[],i=new Set,f=new Set(a),d=function(m){!m||i.has(m)||(i.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(g){if(i.has(g))u(g);else try{var b=g.getAttribute(s),C=b!==null&&b!=="false",h=(me.get(g)||0)+1,p=(o.get(g)||0)+1;me.set(g,h),o.set(g,p),l.push(g),h===1&&C&&Pe.set(g,!0),p===1&&g.setAttribute(n,"true"),C||g.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",g,j)}})};return u(r),i.clear(),tt++,function(){l.forEach(function(m){var g=me.get(m)-1,b=o.get(m)-1;me.set(m,g),o.set(m,b),g||(Pe.has(m)||m.removeAttribute(s),Pe.delete(m)),b||m.removeAttribute(n)}),tt--,tt||(me=new WeakMap,me=new WeakMap,Pe=new WeakMap,De={})}},bo=function(e,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=r||po(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),vo(s,a,n,"aria-hidden")):function(){return null}},We="Dialog",[Fr,$r]=ce(We),[yo,H]=Fr(We),zr=e=>{const{__scopeDialog:r,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,i=c.useRef(null),f=c.useRef(null),[d,u]=ze({prop:s,defaultProp:a??!1,onChange:o,caller:We});return t.jsx(yo,{scope:r,triggerRef:i,contentRef:f,contentId:pe(),titleId:pe(),descriptionId:pe(),open:d,onOpenChange:u,onOpenToggle:c.useCallback(()=>u(m=>!m),[u]),modal:l,children:n})};zr.displayName=We;var Br="DialogTrigger",Wr=c.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=H(Br,n),o=V(r,a.triggerRef);return t.jsx($.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vt(a.open),...s,ref:o,onClick:W(e.onClick,a.onOpenToggle)})});Wr.displayName=Br;var pt="DialogPortal",[jo,Gr]=Fr(pt,{forceMount:void 0}),Ur=e=>{const{__scopeDialog:r,forceMount:n,children:s,container:a}=e,o=H(pt,r);return t.jsx(jo,{scope:r,forceMount:n,children:c.Children.map(s,l=>t.jsx(Ne,{present:n||o.open,children:t.jsx(Ir,{asChild:!0,container:a,children:l})}))})};Ur.displayName=pt;var Le="DialogOverlay",Vr=c.forwardRef((e,r)=>{const n=Gr(Le,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,o=H(Le,e.__scopeDialog);return o.modal?t.jsx(Ne,{present:s||o.open,children:t.jsx(wo,{...a,ref:r})}):null});Vr.displayName=Le;var No=Ae("DialogOverlay.RemoveScroll"),wo=c.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=H(Le,n);return t.jsx(go,{as:No,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx($.div,{"data-state":vt(a.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),le="DialogContent",qr=c.forwardRef((e,r)=>{const n=Gr(le,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,o=H(le,e.__scopeDialog);return t.jsx(Ne,{present:s||o.open,children:o.modal?t.jsx(Co,{...a,ref:r}):t.jsx(So,{...a,ref:r})})});qr.displayName=le;var Co=c.forwardRef((e,r)=>{const n=H(le,e.__scopeDialog),s=c.useRef(null),a=V(r,n.contentRef,s);return c.useEffect(()=>{const o=s.current;if(o)return bo(o)},[]),t.jsx(Kr,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:W(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,i=l.button===0&&l.ctrlKey===!0;(l.button===2||i)&&o.preventDefault()}),onFocusOutside:W(e.onFocusOutside,o=>o.preventDefault())})}),So=c.forwardRef((e,r)=>{const n=H(le,e.__scopeDialog),s=c.useRef(!1),a=c.useRef(!1);return t.jsx(Kr,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,i;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var f,d;(f=e.onInteractOutside)==null||f.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Kr=c.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,i=H(le,n),f=c.useRef(null),d=V(r,f);return Ta(),t.jsxs(t.Fragment,{children:[t.jsx(Er,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:t.jsx(Cr,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":vt(i.open),...l,ref:d,onDismiss:()=>i.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Ao,{titleId:i.titleId}),t.jsx(Ro,{contentRef:f,descriptionId:i.descriptionId})]})]})}),xt="DialogTitle",Hr=c.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=H(xt,n);return t.jsx($.h2,{id:a.titleId,...s,ref:r})});Hr.displayName=xt;var Yr="DialogDescription",Xr=c.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=H(Yr,n);return t.jsx($.p,{id:a.descriptionId,...s,ref:r})});Xr.displayName=Yr;var Zr="DialogClose",Jr=c.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=H(Zr,n);return t.jsx($.button,{type:"button",...s,ref:r,onClick:W(e.onClick,()=>a.onOpenChange(!1))})});Jr.displayName=Zr;function vt(e){return e?"open":"closed"}var Qr="DialogTitleWarning",[Eo,es]=sa(Qr,{contentName:le,titleName:xt,docsSlug:"dialog"}),Ao=({titleId:e})=>{const r=es(Qr),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Io="DialogDescriptionWarning",Ro=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${es(Io).contentName}}.`;return c.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},ts=zr,ko=Wr,rs=Ur,ss=Vr,ns=qr,To=Hr,Po=Xr,Ge=Jr;function Do({...e}){return t.jsx(ts,{"data-slot":"dialog",...e})}function Oo({...e}){return t.jsx(rs,{"data-slot":"dialog-portal",...e})}function _o({...e}){return t.jsx(Ge,{"data-slot":"dialog-close",...e})}function Mo({className:e,...r}){return t.jsx(ss,{"data-slot":"dialog-overlay",className:D("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function Lo({className:e,children:r,...n}){return t.jsxs(Oo,{"data-slot":"dialog-portal",children:[t.jsx(Mo,{}),t.jsxs(ns,{"data-slot":"dialog-content",className:D("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[r,t.jsxs(Ge,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(K,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Fo({photos:e,itemTitle:r}){const[n,s]=c.useState(null);if(!e||e.length===0)return null;const a=d=>{s(d)},o=()=>{s(null)},l=()=>{n!==null&&s((n+1)%e.length)},i=()=>{n!==null&&s(n===0?e.length-1:n-1)},f=d=>{n!==null&&(d.key==="ArrowLeft"?i():d.key==="ArrowRight"?l():d.key==="Escape"&&o())};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold",children:["Фотографии (",e.length,")"]}),e.length===1?t.jsxs("div",{className:"relative w-full aspect-[4/3] rounded-lg overflow-hidden cursor-pointer group",onClick:()=>a(0),children:[t.jsx(Q,{src:e[0],alt:`${r} - фото 1`,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:t.jsx("div",{className:"bg-black/50 text-white px-3 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Увеличить"})})]}):e.length===2?t.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map((d,u)=>t.jsxs("div",{className:"relative aspect-[4/3] rounded-lg overflow-hidden cursor-pointer group",onClick:()=>a(u),children:[t.jsx(Q,{src:d,alt:`${r} - фото ${u+1}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]},u))}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.slice(0,6).map((d,u)=>t.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden cursor-pointer group",onClick:()=>a(u),children:[t.jsx(Q,{src:d,alt:`${r} - фото ${u+1}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),u===5&&e.length>6&&t.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:t.jsxs("span",{className:"text-white text-lg font-semibold",children:["+",e.length-6]})}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]},u))})]}),t.jsx(Do,{open:n!==null,onOpenChange:d=>!d&&o(),children:t.jsx(Lo,{className:"max-w-[95vw] max-h-[95vh] p-0 border-0 bg-black/90",onKeyDown:f,children:t.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[t.jsx(_o,{asChild:!0,children:t.jsx(k,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 z-10 text-white hover:bg-white/20",children:t.jsx(K,{className:"w-4 h-4"})})}),e.length>1&&n!==null&&t.jsxs(t.Fragment,{children:[t.jsx(k,{variant:"ghost",size:"sm",className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 text-white hover:bg-white/20",onClick:i,children:t.jsx(ut,{className:"w-6 h-6"})}),t.jsx(k,{variant:"ghost",size:"sm",className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 text-white hover:bg-white/20",onClick:l,children:t.jsx(ir,{className:"w-6 h-6"})})]}),n!==null&&t.jsxs("div",{className:"relative max-w-full max-h-full",children:[t.jsx(Q,{src:e[n],alt:`${r} - фото ${n+1}`,className:"max-w-full max-h-[90vh] object-contain"}),t.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-3 py-1 rounded text-sm",children:[n+1," из ",e.length]})]})]})})})]})}function $o({item:e,onBack:r,onTagClick:n,onCategoryClick:s,allItems:a,onItemClick:o}){const l=a.filter(i=>i.id!==e.id&&i.category===e.category).slice(0,3);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(k,{variant:"outline",onClick:r,className:"gap-2",children:[t.jsx(Me,{className:"w-4 h-4"}),"Назад к коллекции"]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(Fo,{photos:e.photos,itemTitle:e.title}),t.jsx("div",{className:"flex justify-start",children:t.jsx(M,{variant:"secondary",className:"cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:()=>{s(e.category),r()},children:e.category})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(F,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ft,{className:"w-5 h-5 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Год"}),t.jsx("p",{className:"font-medium",children:e.year})]})]})}),e.condition&&t.jsx(F,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Hs,{className:"w-5 h-5 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Состояние"}),t.jsx("p",{className:"font-medium text-sm",children:e.condition})]})]})}),e.value&&t.jsx(F,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ys,{className:"w-5 h-5 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Стоимость"}),t.jsx("p",{className:"font-medium text-sm",children:e.value})]})]})}),e.acquisition&&t.jsx(F,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Xs,{className:"w-5 h-5 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Приобретение"}),t.jsx("p",{className:"font-medium text-sm",children:e.acquisition})]})]})})]})]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h1",{className:"text-3xl leading-tight",children:e.title}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2",children:"Краткое описание"}),t.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.description})]}),e.fullDescription&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2",children:"Подробное описание"}),t.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.fullDescription})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"Теги"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((i,f)=>t.jsx(M,{variant:"outline",className:"cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:()=>{n(i),r()},children:i},f))})]})]})})]}),l.length>0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{children:"Похожие предметы"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(i=>t.jsxs(F,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105",onClick:()=>o(i.id),children:[t.jsx(U,{className:"p-0",children:t.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-t-lg",children:[t.jsx(Q,{src:i.photos[0],alt:i.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-2 left-2",children:t.jsx(M,{variant:"secondary",className:"bg-white/90 text-primary cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:f=>{f.stopPropagation(),s(i.category),r()},children:i.category})})]})}),t.jsxs(B,{className:"p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx("h4",{className:"line-clamp-2 leading-tight",children:i.title}),t.jsx("span",{className:"text-muted-foreground text-sm shrink-0",children:i.year})]}),t.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 leading-relaxed",children:i.description})]})]},i.id))})]})]})}const rt=5;function zo({items:e,blogPosts:r,onItemClick:n,onPostClick:s}){const[a,o]=c.useState(1),l=Math.ceil(r.length/rt),i=(a-1)*rt,f=r.slice(i,i+rt),d=m=>new Date(m).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),u=m=>e.filter(g=>m.includes(g.id));return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h1",{children:"Блог коллекционера"}),t.jsx("p",{className:"text-muted-foreground",children:"Истории, размышления и экспертные мнения о мире коллекционирования"})]}),t.jsx("div",{className:"space-y-8",children:f.map(m=>{const g=u(m.relatedItems);return t.jsxs(F,{className:"overflow-hidden",children:[t.jsx(U,{className:"pb-4",children:t.jsx("div",{className:"flex items-start justify-between gap-4",children:t.jsxs("div",{className:"space-y-3 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ft,{className:"w-4 h-4"}),d(m.publishDate)]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(lr,{className:"w-4 h-4"}),m.readTime," мин чтения"]}),t.jsx(M,{variant:"outline",className:"text-xs",children:m.category})]}),t.jsx("h2",{className:"text-2xl leading-tight",children:m.title}),t.jsx("p",{className:"text-muted-foreground leading-relaxed",children:m.excerpt})]})})}),t.jsxs(B,{className:"space-y-4",children:[g.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Связанные предметы:"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(b=>t.jsxs("div",{className:"group cursor-pointer transition-all duration-200 hover:scale-105",onClick:()=>n(b.id),children:[t.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-lg",children:[t.jsx(Q,{src:b.photos[0],alt:b.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),t.jsx("div",{className:"absolute top-2 left-2",children:t.jsx(M,{variant:"secondary",className:"bg-white/90 text-primary text-xs",children:b.category})})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[t.jsx("h5",{className:"text-sm font-medium line-clamp-1 group-hover:text-primary transition-colors",children:b.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:b.year})]})]},b.id))})]}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:g.length>0&&`${g.length} связанных предмета`}),t.jsxs(k,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>s(m.id),children:["Читать полностью",t.jsx(Zs,{className:"w-4 h-4"})]})]})]})]},m.id)})}),l>1&&t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",onClick:()=>o(m=>Math.max(1,m-1)),disabled:a===1,className:"gap-2",children:[t.jsx(ut,{className:"w-4 h-4"}),"Предыдущая"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:l},(m,g)=>g+1).map(m=>t.jsx(k,{variant:a===m?"default":"outline",size:"sm",onClick:()=>o(m),className:"w-8 h-8 p-0",children:m},m))}),t.jsxs(k,{variant:"outline",size:"sm",onClick:()=>o(m=>Math.min(l,m+1)),disabled:a===l,className:"gap-2",children:["Следующая",t.jsx(ir,{className:"w-4 h-4"})]})]})]})}function Bo({postId:e,items:r,blogPosts:n,onBack:s,onItemClick:a,onPostClick:o}){const l=n.find(u=>u.id===e);if(!l)return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-muted-foreground",children:"Пост не найден"}),t.jsxs(k,{variant:"outline",onClick:s,className:"mt-4",children:[t.jsx(Me,{className:"w-4 h-4 mr-2"}),"Назад к блогу"]})]});const i=u=>r.filter(m=>u.includes(m.id)),f=u=>new Date(u).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),d=i(l.relatedItems);return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[t.jsxs(k,{variant:"ghost",onClick:s,className:"gap-2",children:[t.jsx(Me,{className:"w-4 h-4"}),"Назад к блогу"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(M,{variant:"secondary",children:l.category}),t.jsx("h1",{className:"text-4xl font-bold leading-tight",children:l.title}),t.jsxs("div",{className:"flex items-center gap-6 text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ft,{className:"w-4 h-4"}),t.jsx("span",{children:f(l.publishDate)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(lr,{className:"w-4 h-4"}),t.jsxs("span",{children:[l.readTime," мин. чтения"]})]})]})]}),t.jsx(F,{children:t.jsx(B,{className:"prose prose-gray max-w-none pt-6",children:t.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:l.content.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})})}),d.length>0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-2xl font-semibold",children:"Связанные предметы"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(u=>t.jsxs(F,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>a(u.id),children:[t.jsx("div",{className:"aspect-square overflow-hidden rounded-t-lg",children:t.jsx(Q,{src:u.photos[0],alt:u.title,className:"w-full h-full object-cover"})}),t.jsxs(U,{className:"pb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(M,{variant:"outline",children:u.category}),t.jsx("span",{className:"text-sm text-muted-foreground",children:u.year})]}),t.jsx("h3",{className:"font-semibold line-clamp-2",children:u.title})]}),t.jsxs(B,{className:"pt-0",children:[t.jsx("p",{className:"text-muted-foreground line-clamp-2 text-sm",children:u.description}),u.tags.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[u.tags.slice(0,3).map(m=>t.jsx(M,{variant:"secondary",className:"text-xs",children:m},m)),u.tags.length>3&&t.jsxs(M,{variant:"secondary",className:"text-xs",children:["+",u.tags.length-3]})]})]})]},u.id))})]}),t.jsxs("div",{className:"flex justify-between items-center pt-8 border-t",children:[t.jsxs(k,{variant:"outline",onClick:s,className:"gap-2",children:[t.jsx(ut,{className:"w-4 h-4"}),"К списку постов"]}),t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"Понравился пост? Поделитесь им!"})}),t.jsx("div",{className:"w-32"})," "]})]})}function z({className:e,type:r,...n}){return t.jsx("input",{type:r,"data-slot":"input",className:D("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var Wo="Label",as=c.forwardRef((e,r)=>t.jsx($.label,{...e,ref:r,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));as.displayName=Wo;var Go=as;function L({className:e,...r}){return t.jsx(Go,{"data-slot":"label",className:D("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}var Ue="Collapsible",[Uo,bl]=ce(Ue),[Vo,bt]=Uo(Ue),os=c.forwardRef((e,r)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:o,onOpenChange:l,...i}=e,[f,d]=ze({prop:s,defaultProp:a??!1,onChange:l,caller:Ue});return t.jsx(Vo,{scope:n,disabled:o,contentId:pe(),open:f,onOpenToggle:c.useCallback(()=>d(u=>!u),[d]),children:t.jsx($.div,{"data-state":jt(f),"data-disabled":o?"":void 0,...i,ref:r})})});os.displayName=Ue;var is="CollapsibleTrigger",ls=c.forwardRef((e,r)=>{const{__scopeCollapsible:n,...s}=e,a=bt(is,n);return t.jsx($.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":jt(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:r,onClick:W(e.onClick,a.onOpenToggle)})});ls.displayName=is;var yt="CollapsibleContent",cs=c.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=bt(yt,e.__scopeCollapsible);return t.jsx(Ne,{present:n||a.open,children:({present:o})=>t.jsx(qo,{...s,ref:r,present:o})})});cs.displayName=yt;var qo=c.forwardRef((e,r)=>{const{__scopeCollapsible:n,present:s,children:a,...o}=e,l=bt(yt,n),[i,f]=c.useState(s),d=c.useRef(null),u=V(r,d),m=c.useRef(0),g=m.current,b=c.useRef(0),C=b.current,h=l.open||i,p=c.useRef(h),j=c.useRef(void 0);return c.useEffect(()=>{const S=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(S)},[]),be(()=>{const S=d.current;if(S){j.current=j.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const E=S.getBoundingClientRect();m.current=E.height,b.current=E.width,p.current||(S.style.transitionDuration=j.current.transitionDuration,S.style.animationName=j.current.animationName),f(s)}},[l.open,s]),t.jsx($.div,{"data-state":jt(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!h,...o,ref:u,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:h&&a})});function jt(e){return e?"open":"closed"}var Ko=os;function Zt({...e}){return t.jsx(Ko,{"data-slot":"collapsible",...e})}function Ho({...e}){return t.jsx(ls,{"data-slot":"collapsible-trigger",...e})}function Yo({...e}){return t.jsx(cs,{"data-slot":"collapsible-content",...e})}function Xo({onSearch:e,availableTags:r,availableCategories:n,initialFilters:s}){var N,R;const[a,o]=c.useState((s==null?void 0:s.title)||""),[l,i]=c.useState(((N=s==null?void 0:s.yearFrom)==null?void 0:N.toString())||""),[f,d]=c.useState(((R=s==null?void 0:s.yearTo)==null?void 0:R.toString())||""),[u,m]=c.useState((s==null?void 0:s.tags)||[]),[g,b]=c.useState((s==null?void 0:s.category)||""),[C,h]=c.useState(!1);c.useEffect(()=>{var x,v;s&&(o(s.title||""),i(((x=s.yearFrom)==null?void 0:x.toString())||""),d(((v=s.yearTo)==null?void 0:v.toString())||""),m(s.tags||[]),b(s.category||""),(s.tags&&s.tags.length>0||s.category)&&h(!0))},[s]);const p=()=>{e({title:a,yearFrom:l?parseInt(l):null,yearTo:f?parseInt(f):null,tags:u,category:g})},j=x=>{m(v=>v.includes(x)?v.filter(A=>A!==x):[...v,x])},S=()=>{o(""),i(""),d(""),m([]),b(""),e({title:"",yearFrom:null,yearTo:null,tags:[],category:""})},E=a||l||f||u.length>0||g;return t.jsx(F,{className:"w-full",children:t.jsxs(B,{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),t.jsx(z,{placeholder:"Search by title...",value:a,onChange:x=>o(x.target.value),className:"pl-10",onKeyPress:x=>x.key==="Enter"&&p()})]}),t.jsx(Zt,{open:C,onOpenChange:h,children:t.jsx(Ho,{asChild:!0,children:t.jsxs(k,{variant:"outline",className:"gap-2",children:[t.jsx(Js,{className:"w-4 h-4"}),"Filters",E&&t.jsx(M,{variant:"secondary",className:"ml-1 px-1.5 py-0.5 text-xs",children:[a&&"title",l&&"year",u.length&&"tags",g&&"category"].filter(Boolean).length})]})})}),t.jsxs(k,{onClick:p,className:"gap-2",children:[t.jsx(At,{className:"w-4 h-4"}),"Search"]}),E&&t.jsxs(k,{variant:"outline",onClick:S,className:"gap-2",children:[t.jsx(K,{className:"w-4 h-4"}),"Clear"]})]}),t.jsx(Zt,{open:C,onOpenChange:h,children:t.jsxs(Yo,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"year-from",children:"Year From"}),t.jsx(z,{id:"year-from",type:"number",placeholder:"1900",value:l,onChange:x=>i(x.target.value),min:"1800",max:"2030"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"year-to",children:"Year To"}),t.jsx(z,{id:"year-to",type:"number",placeholder:"2030",value:f,onChange:x=>d(x.target.value),min:"1800",max:"2030"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{children:"Filter by Category"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(x=>t.jsxs(k,{variant:g===x?"default":"outline",size:"sm",onClick:()=>b(g===x?"":x),className:"h-auto py-1 px-3 text-sm transition-all duration-200 hover:scale-105 active:scale-95 active:transition-none",children:[x,g===x&&t.jsx(K,{className:"w-3 h-3 ml-1"})]},x))}),g&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{children:"Selected Category:"}),t.jsxs(M,{variant:"secondary",className:"gap-1",children:[g,t.jsx("button",{onClick:()=>b(""),className:"hover:bg-secondary-foreground/20 rounded-full p-0.5",children:t.jsx(K,{className:"w-3 h-3"})})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{children:"Filter by Tags"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(x=>t.jsxs(k,{variant:u.includes(x)?"default":"outline",size:"sm",onClick:()=>j(x),className:"h-auto py-1 px-3 text-sm transition-all duration-200 hover:scale-105 active:scale-95 active:transition-none",children:[x,u.includes(x)&&t.jsx(K,{className:"w-3 h-3 ml-1"})]},x))})]}),u.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{children:"Selected Tags:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(x=>t.jsxs(M,{variant:"secondary",className:"gap-1",children:[x,t.jsx("button",{onClick:()=>j(x),className:"hover:bg-secondary-foreground/20 rounded-full p-0.5",children:t.jsx(K,{className:"w-3 h-3"})})]},x))})]})]})})]})})}const Zo="https://collepto.3451881.workers.dev/api";class Jo{constructor(r){Ke(this,"baseUrl");Ke(this,"sessionToken",null);this.baseUrl=r,this.sessionToken=localStorage.getItem("collepto_session")}async request(r,n={}){const s={...n,headers:{"Content-Type":"application/json",...n.headers}};this.sessionToken&&(s.headers={...s.headers,Authorization:`Bearer ${this.sessionToken}`});try{const a=await fetch(`${this.baseUrl}${r}`,s),o=await a.json();if(!a.ok)throw new Error(o.error||`HTTP ${a.status}`);return o}catch(a){return console.error("API request failed:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}async login(r,n){const s=btoa(`${r}:${n}`),a=await this.request("/auth/login",{method:"POST",headers:{Authorization:`Basic ${s}`}});return a.success&&a.data&&(this.sessionToken=a.data.sessionId,localStorage.setItem("collepto_session",this.sessionToken)),a}async logout(){const r=await this.request("/auth/logout",{method:"POST"});return this.sessionToken=null,localStorage.removeItem("collepto_session"),r}async checkAuthStatus(){return this.request("/auth/status")}async getItems(){return this.request("/items")}async getItem(r){return this.request(`/items/${r}`)}async searchItems(r){const n=new URLSearchParams;return r.q&&n.append("q",r.q),r.category&&n.append("category",r.category),r.yearFrom&&n.append("yearFrom",r.yearFrom.toString()),r.yearTo&&n.append("yearTo",r.yearTo.toString()),r.tags&&r.tags.length>0&&n.append("tags",r.tags.join(",")),this.request(`/items/search?${n.toString()}`)}async getBlogPosts(){return this.request("/blog")}async getBlogPost(r){return this.request(`/blog/${r}`)}async createItem(r){return this.request("/admin/items",{method:"POST",body:JSON.stringify(r)})}async updateItem(r,n){return this.request(`/admin/items/${r}`,{method:"PUT",body:JSON.stringify(n)})}async deleteItem(r){return this.request(`/admin/items/${r}`,{method:"DELETE"})}async createBlogPost(r){return this.request("/admin/blog",{method:"POST",body:JSON.stringify(r)})}async updateBlogPost(r,n){return this.request(`/admin/blog/${r}`,{method:"PUT",body:JSON.stringify(n)})}async deleteBlogPost(r){return this.request(`/admin/blog/${r}`,{method:"DELETE"})}async publishBlogPost(r,n){return this.request(`/admin/blog/${r}/publish`,{method:"POST",body:JSON.stringify({published:n})})}async uploadPhoto(r,n){const s=new FormData;s.append("photo",n);const a={method:"POST",body:s};this.sessionToken&&(a.headers={Authorization:`Bearer ${this.sessionToken}`});try{const o=await fetch(`${this.baseUrl}/admin/photos/item/${r}/upload`,a),l=await o.json();if(!o.ok)throw new Error(l.error||`HTTP ${o.status}`);return l}catch(o){return console.error("Photo upload failed:",o),{success:!1,error:o instanceof Error?o.message:"Upload failed"}}}async deletePhoto(r){return this.request(`/admin/photos/${r}`,{method:"DELETE"})}async exportData(){return this.request("/admin/export")}async downloadExport(){if(!this.sessionToken)throw new Error("Authentication required");const r=await fetch(`${this.baseUrl}/admin/export/download`,{headers:{Authorization:`Bearer ${this.sessionToken}`}});if(!r.ok)throw new Error("Export download failed");const n=await r.blob(),s=window.URL.createObjectURL(n),a=document.createElement("a");a.href=s,a.download=`collepto_export_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(s),document.body.removeChild(a)}isAuthenticated(){return!!this.sessionToken}clearSession(){this.sessionToken=null,localStorage.removeItem("collepto_session")}}const _=new Jo(Zo);function Qo(){const[e,r]=c.useState("collection"),[n,s]=c.useState(null),[a,o]=c.useState(null),[l,i]=c.useState([]),[f,d]=c.useState([]),[u,m]=c.useState([]),[g,b]=c.useState(!0),[C,h]=c.useState(null),[p,j]=c.useState({title:"",yearFrom:null,yearTo:null,tags:[],category:""}),S=()=>{const w=l.flatMap(I=>I.tags);return[...new Set(w)].sort()},E=()=>{const w=l.map(I=>I.category).filter(Boolean);return[...new Set(w)].sort()};c.useEffect(()=>{(async()=>{b(!0),h(null);try{const[I,G]=await Promise.all([_.getItems(),_.getBlogPosts()]);if(!I.success)throw new Error(I.error||"Failed to load items");if(!G.success)throw new Error(G.error||"Failed to load blog posts");const te=I.data||[],de=G.data||[];i(te),d(te),m(de)}catch(I){console.error("Failed to load data:",I),h(I instanceof Error?I.message:"Failed to load data")}finally{b(!1)}})()},[]);const N=async w=>{const I={...w,category:w.category||""};j(I);try{if(w.title||w.category||w.yearFrom||w.yearTo||w.tags.length>0){const G=await _.searchItems({q:w.title||void 0,category:w.category||void 0,yearFrom:w.yearFrom||void 0,yearTo:w.yearTo||void 0,tags:w.tags.length>0?w.tags:void 0});G.success&&G.data?d(G.data):(console.error("Search failed:",G.error),d([]))}else d(l)}catch(G){console.error("Search error:",G),d([])}},R=()=>{j({title:"",yearFrom:null,yearTo:null,tags:[],category:""}),d(l)},x=w=>{s(w),r("item")},v=w=>{o(w),r("post")},A=w=>{const I={...p,tags:[w]};N(I)},P=w=>{const I={...p,category:w};N(I)},y=()=>{window.location.href="/admin"};return g?t.jsx(Ee,{defaultTheme:"light",storageKey:"collepto-theme",children:t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading collection..."})]})})}):C?t.jsx(Ee,{defaultTheme:"light",storageKey:"collepto-theme",children:t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-destructive text-lg mb-4",children:["Error: ",C]}),t.jsx(k,{onClick:()=>window.location.reload(),children:"Reload Page"})]})})}):t.jsx(Ee,{defaultTheme:"light",storageKey:"collepto-theme",children:t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:t.jsxs("div",{className:"container flex h-14 items-center",children:[t.jsx("div",{className:"mr-4 flex",children:t.jsx("button",{className:"flex items-center space-x-2 font-bold text-xl hover:text-primary transition-colors",onClick:()=>{r("collection"),s(null),o(null)},children:t.jsx("span",{children:"Collepto"})})}),t.jsxs("nav",{className:"flex items-center space-x-6 text-sm font-medium",children:[t.jsx("button",{className:`transition-colors hover:text-primary ${e==="collection"?"text-primary":"text-muted-foreground"}`,onClick:()=>{r("collection"),s(null),o(null)},children:"Collection"}),t.jsx("button",{className:`transition-colors hover:text-primary ${e==="blog"||e==="post"?"text-primary":"text-muted-foreground"}`,onClick:()=>{r("blog"),s(null),o(null)},children:"Blog"})]}),t.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:t.jsxs(k,{variant:"ghost",size:"sm",onClick:y,className:"gap-2",children:[t.jsx(Qs,{className:"w-4 h-4"}),"Admin"]})})]})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e==="collection"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Винтажная коллекция"}),t.jsx("p",{className:"text-muted-foreground",children:"Исследуйте уникальные винтажные предметы, собранные с любовью за годы коллекционирования"})]}),t.jsx(Xo,{onSearch:N,availableTags:S(),availableCategories:E(),initialFilters:p}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("p",{className:"text-muted-foreground",children:["Показано ",f.length," из ",l.length," предметов"]}),p.category&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Категория:"}),t.jsxs(M,{variant:"secondary",className:"gap-1",children:[p.category,t.jsx(K,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>{const w={...p,category:""};N(w)}})]})]}),(p.title||p.yearFrom||p.yearTo||p.tags.length>0||p.category)&&t.jsxs(k,{variant:"outline",size:"sm",onClick:R,className:"gap-2",children:[t.jsx(K,{className:"w-4 h-4"}),"Очистить фильтры"]})]})}),f.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-muted-foreground",children:"Нет предметов, соответствующих вашим фильтрам."}),t.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Попробуйте изменить критерии поиска или очистить фильтры."})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(w=>t.jsx(ra,{...w,onMoreDetails:x,onTagClick:A,onCategoryClick:P},w.id))})]}),e==="blog"&&t.jsx(zo,{items:l,blogPosts:u,onItemClick:x,onPostClick:v}),e==="item"&&n&&(()=>{const w=l.find(I=>I.id===n);return w?t.jsx($o,{item:w,onBack:()=>r("collection"),onTagClick:A,onCategoryClick:P,allItems:l,onItemClick:x}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-muted-foreground",children:"Предмет не найден"}),t.jsx(k,{onClick:()=>r("collection"),children:"Вернуться к коллекции"})]})})(),e==="post"&&a&&t.jsx(Bo,{postId:a,items:l,blogPosts:u,onBack:()=>r("blog"),onItemClick:x,onPostClick:v})]})]})})}const ei=mt("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function oe({className:e,variant:r,...n}){return t.jsx("div",{"data-slot":"alert",role:"alert",className:D(ei({variant:r}),e),...n})}function ie({className:e,...r}){return t.jsx("div",{"data-slot":"alert-description",className:D("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...r})}function ti({onAuthSuccess:e}){const[r,n]=c.useState(""),[s,a]=c.useState(""),[o,l]=c.useState(!1),[i,f]=c.useState(null),[d,u]=c.useState(!0);c.useEffect(()=>{(async()=>{var b;try{const C=await _.checkAuthStatus();if(C.success&&((b=C.data)!=null&&b.authenticated)){e();return}}catch(C){console.error("Auth check failed:",C)}finally{u(!1)}})()},[e]);const m=async g=>{g.preventDefault(),l(!0),f(null);try{const b=await _.login(r,s);b.success?e():f(b.error||"Ошибка авторизации")}catch{f("Не удалось подключиться к серверу")}finally{l(!1)}};return d?t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nt,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Проверка авторизации..."})]})}):t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:t.jsxs(F,{className:"w-full max-w-md",children:[t.jsx(U,{children:t.jsx(J,{className:"text-center",children:"Админка Collepto"})}),t.jsx(B,{children:t.jsxs("form",{onSubmit:m,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"username",children:"Логин"}),t.jsx(z,{id:"username",type:"text",value:r,onChange:g=>n(g.target.value),required:!0,disabled:o})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"password",children:"Пароль"}),t.jsx(z,{id:"password",type:"password",value:s,onChange:g=>a(g.target.value),required:!0,disabled:o})]}),i&&t.jsx(oe,{variant:"destructive",children:t.jsx(ie,{children:i})}),t.jsxs(k,{type:"submit",className:"w-full",disabled:o,children:[o&&t.jsx(nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Войти"]})]})})]})})}function ri(e){const r=e+"CollectionProvider",[n,s]=ce(r),[a,o]=n(r,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:p,children:j}=h,S=ne.useRef(null),E=ne.useRef(new Map).current;return t.jsx(a,{scope:p,itemMap:E,collectionRef:S,children:j})};l.displayName=r;const i=e+"CollectionSlot",f=Ae(i),d=ne.forwardRef((h,p)=>{const{scope:j,children:S}=h,E=o(i,j),N=V(p,E.collectionRef);return t.jsx(f,{ref:N,children:S})});d.displayName=i;const u=e+"CollectionItemSlot",m="data-radix-collection-item",g=Ae(u),b=ne.forwardRef((h,p)=>{const{scope:j,children:S,...E}=h,N=ne.useRef(null),R=V(p,N),x=o(u,j);return ne.useEffect(()=>(x.itemMap.set(N,{ref:N,...E}),()=>void x.itemMap.delete(N))),t.jsx(g,{[m]:"",ref:R,children:S})});b.displayName=u;function C(h){const p=o(e+"CollectionConsumer",h);return ne.useCallback(()=>{const S=p.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${m}]`));return Array.from(p.itemMap.values()).sort((x,v)=>E.indexOf(x.ref.current)-E.indexOf(v.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:l,Slot:d,ItemSlot:b},C,s]}var si=c.createContext(void 0);function ds(e){const r=c.useContext(si);return e||r||"ltr"}var st="rovingFocusGroup.onEntryFocus",ni={bubbles:!1,cancelable:!0},Ie="RovingFocusGroup",[dt,us,ai]=ri(Ie),[oi,fs]=ce(Ie,[ai]),[ii,li]=oi(Ie),ms=c.forwardRef((e,r)=>t.jsx(dt.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(dt.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(ci,{...e,ref:r})})}));ms.displayName=Ie;var ci=c.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:f,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,g=c.useRef(null),b=V(r,g),C=ds(o),[h,p]=ze({prop:l,defaultProp:i??null,onChange:f,caller:Ie}),[j,S]=c.useState(!1),E=ye(d),N=us(n),R=c.useRef(!1),[x,v]=c.useState(0);return c.useEffect(()=>{const A=g.current;if(A)return A.addEventListener(st,E),()=>A.removeEventListener(st,E)},[E]),t.jsx(ii,{scope:n,orientation:s,dir:C,loop:a,currentTabStopId:h,onItemFocus:c.useCallback(A=>p(A),[p]),onItemShiftTab:c.useCallback(()=>S(!0),[]),onFocusableItemAdd:c.useCallback(()=>v(A=>A+1),[]),onFocusableItemRemove:c.useCallback(()=>v(A=>A-1),[]),children:t.jsx($.div,{tabIndex:j||x===0?-1:0,"data-orientation":s,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:W(e.onMouseDown,()=>{R.current=!0}),onFocus:W(e.onFocus,A=>{const P=!R.current;if(A.target===A.currentTarget&&P&&!j){const y=new CustomEvent(st,ni);if(A.currentTarget.dispatchEvent(y),!y.defaultPrevented){const w=N().filter(q=>q.focusable),I=w.find(q=>q.active),G=w.find(q=>q.id===h),de=[I,G,...w].filter(Boolean).map(q=>q.ref.current);ps(de,u)}}R.current=!1}),onBlur:W(e.onBlur,()=>S(!1))})})}),hs="RovingFocusGroupItem",gs=c.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:o,children:l,...i}=e,f=pe(),d=o||f,u=li(hs,n),m=u.currentTabStopId===d,g=us(n),{onFocusableItemAdd:b,onFocusableItemRemove:C,currentTabStopId:h}=u;return c.useEffect(()=>{if(s)return b(),()=>C()},[s,b,C]),t.jsx(dt.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:t.jsx($.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...i,ref:r,onMouseDown:W(e.onMouseDown,p=>{s?u.onItemFocus(d):p.preventDefault()}),onFocus:W(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:W(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const j=fi(p,u.orientation,u.dir);if(j!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let E=g().filter(N=>N.focusable).map(N=>N.ref.current);if(j==="last")E.reverse();else if(j==="prev"||j==="next"){j==="prev"&&E.reverse();const N=E.indexOf(p.currentTarget);E=u.loop?mi(E,N+1):E.slice(N+1)}setTimeout(()=>ps(E))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:h!=null}):l})})});gs.displayName=hs;var di={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ui(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fi(e,r,n){const s=ui(e.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return di[s]}function ps(e,r=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:r}),document.activeElement!==n))return}function mi(e,r){return e.map((n,s)=>e[(r+s)%e.length])}var hi=ms,gi=gs,Ve="Tabs",[pi,yl]=ce(Ve,[fs]),xs=fs(),[xi,Nt]=pi(Ve),vs=c.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:o,orientation:l="horizontal",dir:i,activationMode:f="automatic",...d}=e,u=ds(i),[m,g]=ze({prop:s,onChange:a,defaultProp:o??"",caller:Ve});return t.jsx(xi,{scope:n,baseId:pe(),value:m,onValueChange:g,orientation:l,dir:u,activationMode:f,children:t.jsx($.div,{dir:u,"data-orientation":l,...d,ref:r})})});vs.displayName=Ve;var bs="TabsList",ys=c.forwardRef((e,r)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,o=Nt(bs,n),l=xs(n);return t.jsx(hi,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:s,children:t.jsx($.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:r})})});ys.displayName=bs;var js="TabsTrigger",Ns=c.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...o}=e,l=Nt(js,n),i=xs(n),f=Ss(l.baseId,s),d=Es(l.baseId,s),u=s===l.value;return t.jsx(gi,{asChild:!0,...i,focusable:!a,active:u,children:t.jsx($.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:f,...o,ref:r,onMouseDown:W(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?l.onValueChange(s):m.preventDefault()}),onKeyDown:W(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(s)}),onFocus:W(e.onFocus,()=>{const m=l.activationMode!=="manual";!u&&!a&&m&&l.onValueChange(s)})})})});Ns.displayName=js;var ws="TabsContent",Cs=c.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,forceMount:a,children:o,...l}=e,i=Nt(ws,n),f=Ss(i.baseId,s),d=Es(i.baseId,s),u=s===i.value,m=c.useRef(u);return c.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),t.jsx(Ne,{present:a||u,children:({present:g})=>t.jsx($.div,{"data-state":u?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":f,hidden:!g,id:d,tabIndex:0,...l,ref:r,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&o})})});Cs.displayName=ws;function Ss(e,r){return`${e}-trigger-${r}`}function Es(e,r){return`${e}-content-${r}`}var vi=vs,bi=ys,yi=Ns,ji=Cs;function Ni({className:e,...r}){return t.jsx(vi,{"data-slot":"tabs",className:D("flex flex-col gap-2",e),...r})}function wi({className:e,...r}){return t.jsx(bi,{"data-slot":"tabs-list",className:D("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...r})}function Jt({className:e,...r}){return t.jsx(yi,{"data-slot":"tabs-trigger",className:D("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function Qt({className:e,...r}){return t.jsx(ji,{"data-slot":"tabs-content",className:D("flex-1 outline-none",e),...r})}var As="AlertDialog",[Ci,jl]=ce(As,[$r]),ee=$r(),Is=e=>{const{__scopeAlertDialog:r,...n}=e,s=ee(r);return t.jsx(ts,{...s,...n,modal:!0})};Is.displayName=As;var Si="AlertDialogTrigger",Ei=c.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=ee(n);return t.jsx(ko,{...a,...s,ref:r})});Ei.displayName=Si;var Ai="AlertDialogPortal",Rs=e=>{const{__scopeAlertDialog:r,...n}=e,s=ee(r);return t.jsx(rs,{...s,...n})};Rs.displayName=Ai;var Ii="AlertDialogOverlay",ks=c.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=ee(n);return t.jsx(ss,{...a,...s,ref:r})});ks.displayName=Ii;var ve="AlertDialogContent",[Ri,ki]=Ci(ve),Ti=gn("AlertDialogContent"),Ts=c.forwardRef((e,r)=>{const{__scopeAlertDialog:n,children:s,...a}=e,o=ee(n),l=c.useRef(null),i=V(r,l),f=c.useRef(null);return t.jsx(Eo,{contentName:ve,titleName:Ps,docsSlug:"alert-dialog",children:t.jsx(Ri,{scope:n,cancelRef:f,children:t.jsxs(ns,{role:"alertdialog",...o,...a,ref:i,onOpenAutoFocus:W(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=f.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[t.jsx(Ti,{children:s}),t.jsx(Di,{contentRef:l})]})})})});Ts.displayName=ve;var Ps="AlertDialogTitle",Ds=c.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=ee(n);return t.jsx(To,{...a,...s,ref:r})});Ds.displayName=Ps;var Os="AlertDialogDescription",_s=c.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=ee(n);return t.jsx(Po,{...a,...s,ref:r})});_s.displayName=Os;var Pi="AlertDialogAction",Ms=c.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,a=ee(n);return t.jsx(Ge,{...a,...s,ref:r})});Ms.displayName=Pi;var Ls="AlertDialogCancel",Fs=c.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:a}=ki(Ls,n),o=ee(n),l=V(r,a);return t.jsx(Ge,{...o,...s,ref:l})});Fs.displayName=Ls;var Di=({contentRef:e})=>{const r=`\`${ve}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ve}\` by passing a \`${Os}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ve}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},Oi=Is,_i=Rs,Mi=ks,Li=Ts,Fi=Ms,$i=Fs,zi=Ds,Bi=_s;function Wi({...e}){return t.jsx(Oi,{"data-slot":"alert-dialog",...e})}function Gi({...e}){return t.jsx(_i,{"data-slot":"alert-dialog-portal",...e})}function Ui({className:e,...r}){return t.jsx(Mi,{"data-slot":"alert-dialog-overlay",className:D("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function Vi({className:e,...r}){return t.jsxs(Gi,{children:[t.jsx(Ui,{}),t.jsx(Li,{"data-slot":"alert-dialog-content",className:D("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r})]})}function qi({className:e,...r}){return t.jsx("div",{"data-slot":"alert-dialog-header",className:D("flex flex-col gap-2 text-center sm:text-left",e),...r})}function Ki({className:e,...r}){return t.jsx("div",{"data-slot":"alert-dialog-footer",className:D("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function Hi({className:e,...r}){return t.jsx(zi,{"data-slot":"alert-dialog-title",className:D("text-lg font-semibold",e),...r})}function Yi({className:e,...r}){return t.jsx(Bi,{"data-slot":"alert-dialog-description",className:D("text-muted-foreground text-sm",e),...r})}function Xi({className:e,...r}){return t.jsx(Fi,{className:D(gt(),e),...r})}function Zi({className:e,...r}){return t.jsx($i,{className:D(gt({variant:"outline"}),e),...r})}function er({className:e,...r}){return t.jsx("textarea",{"data-slot":"textarea",className:D("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var Ji="Separator",tr="horizontal",Qi=["horizontal","vertical"],$s=c.forwardRef((e,r)=>{const{decorative:n,orientation:s=tr,...a}=e,o=el(s)?s:tr,i=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return t.jsx($.div,{"data-orientation":o,...i,...a,ref:r})});$s.displayName=Ji;function el(e){return Qi.includes(e)}var tl=$s;function rr({className:e,orientation:r="horizontal",decorative:n=!0,...s}){return t.jsx(tl,{"data-slot":"separator-root",decorative:n,orientation:r,className:D("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}var wt="Progress",Ct=100,[rl,Nl]=ce(wt),[sl,nl]=rl(wt),zs=c.forwardRef((e,r)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:o=al,...l}=e;(a||a===0)&&!sr(a)&&console.error(ol(`${a}`,"Progress"));const i=sr(a)?a:Ct;s!==null&&!nr(s,i)&&console.error(il(`${s}`,"Progress"));const f=nr(s,i)?s:null,d=Fe(f)?o(f,i):void 0;return t.jsx(sl,{scope:n,value:f,max:i,children:t.jsx($.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":Fe(f)?f:void 0,"aria-valuetext":d,role:"progressbar","data-state":Gs(f,i),"data-value":f??void 0,"data-max":i,...l,ref:r})})});zs.displayName=wt;var Bs="ProgressIndicator",Ws=c.forwardRef((e,r)=>{const{__scopeProgress:n,...s}=e,a=nl(Bs,n);return t.jsx($.div,{"data-state":Gs(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:r})});Ws.displayName=Bs;function al(e,r){return`${Math.round(e/r*100)}%`}function Gs(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function Fe(e){return typeof e=="number"}function sr(e){return Fe(e)&&!isNaN(e)&&e>0}function nr(e,r){return Fe(e)&&!isNaN(e)&&e<=r&&e>=0}function ol(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ct}\`.`}function il(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ct} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ll=zs,cl=Ws;function dl({className:e,value:r,...n}){return t.jsx(ll,{"data-slot":"progress",className:D("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:t.jsx(cl,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}function ul({itemId:e,existingPhotos:r=[],onPhotosUpdated:n,maxPhotos:s=10}){const[a,o]=c.useState(!1),[l,i]=c.useState([]),[f,d]=c.useState(null),u=r.length+l.filter(x=>x.status==="success").length<s,m=s-r.length-l.filter(x=>x.status==="success").length,g=x=>{if(!x.type.startsWith("image/"))return"Файл должен быть изображением";const v=25*1024*1024;return x.size>v?"Размер файла не должен превышать 25MB":["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/tiff"].includes(x.type.toLowerCase())?null:"Неподдерживаемый формат изображения"},b=async x=>{i(v=>[...v,{file:x,progress:0,status:"uploading"}]);try{const v=setInterval(()=>{i(P=>P.map(y=>y.file===x&&y.status==="uploading"?{...y,progress:Math.min(y.progress+10,90)}:y))},200),A=await _.uploadPhoto(e,x);if(clearInterval(v),A.success&&A.data)i(P=>P.map(y=>y.file===x?{...y,progress:100,status:"success",url:A.data.publicUrl,id:A.data.id}:y)),n==null||n();else throw new Error(A.error||"Ошибка загрузки")}catch(v){const A=v instanceof Error?v.message:"Ошибка загрузки";i(P=>P.map(y=>y.file===x?{...y,progress:0,status:"error",error:A}:y))}},C=c.useCallback(x=>{d(null);const v=Array.from(x);if(v.length>m){d(`Можно загрузить только ${m} фото. Максимум ${s} фото на предмет.`);return}const A=[],P=[];if(v.forEach(y=>{const w=g(y);w?P.push(`${y.name}: ${w}`):A.push(y)}),P.length>0){d(P.join(`
`));return}A.forEach(y=>{b(y)})},[e,m,s]),h=c.useCallback(x=>{x.preventDefault(),o(!0)},[]),p=c.useCallback(x=>{x.preventDefault(),o(!1)},[]),j=c.useCallback(x=>{x.preventDefault(),o(!1),u&&C(x.dataTransfer.files)},[u,C]),S=c.useCallback(x=>{x.target.files&&u&&C(x.target.files)},[u,C]),E=x=>{i(v=>v.filter(A=>A.file!==x))},N=x=>{i(v=>v.filter(A=>A.file!==x)),b(x)},R=async x=>{try{d(null);const v=await _.deletePhoto(x);v.success?n==null||n():d(v.error||"Ошибка удаления фото")}catch(v){d(v instanceof Error?v.message:"Ошибка удаления фото")}};return t.jsxs("div",{className:"space-y-4",children:[u&&t.jsx(F,{className:`border-2 border-dashed transition-colors ${a?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,onDragOver:h,onDragLeave:p,onDrop:j,children:t.jsx(B,{className:"p-8",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(en,{className:"w-6 h-6 text-primary"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:"Загрузите фотографии"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Перетащите файлы сюда или нажмите для выбора"}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Можно загрузить ещё ",m," из ",s," фото"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:S,className:"hidden",id:`photo-upload-${e}`}),t.jsx("label",{htmlFor:`photo-upload-${e}`,children:t.jsx(k,{variant:"outline",className:"gap-2",asChild:!0,children:t.jsxs("span",{children:[t.jsx(cr,{className:"w-4 h-4"}),"Выбрать файлы"]})})}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Поддерживаемые форматы: JPEG, PNG, GIF, WebP, BMP, TIFF",t.jsx("br",{}),"Максимальный размер: 25MB"]})]})]})})}),f&&t.jsxs(oe,{variant:"destructive",children:[t.jsx(he,{className:"h-4 w-4"}),t.jsx(ie,{className:"whitespace-pre-line",children:f})]}),l.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium",children:"Загрузка файлов"}),l.map((x,v)=>t.jsx(F,{children:t.jsx(B,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsxs("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:[x.status==="uploading"&&t.jsx(nt,{className:"w-4 h-4 animate-spin"}),x.status==="success"&&t.jsx(tn,{className:"w-4 h-4 text-green-600"}),x.status==="error"&&t.jsx(he,{className:"w-4 h-4 text-red-600"})]}),t.jsxs("div",{className:"flex-1 space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium truncate",children:x.file.name}),t.jsx(M,{variant:x.status==="success"?"default":x.status==="error"?"destructive":"secondary",children:x.status==="uploading"?"Загрузка...":x.status==="success"?"Готово":"Ошибка"})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[(x.file.size/1024/1024).toFixed(1)," MB"]}),x.status==="uploading"&&t.jsx(dl,{value:x.progress,className:"h-1"}),x.status==="error"&&x.error&&t.jsx("p",{className:"text-xs text-red-600",children:x.error})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[x.status==="error"&&t.jsx(k,{variant:"outline",size:"sm",onClick:()=>N(x.file),children:"Повторить"}),t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>E(x.file),children:t.jsx(K,{className:"w-4 h-4"})})]})]})})},v))]}),r.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"font-medium",children:["Загруженные фото (",r.length,")"]}),t.jsxs(M,{variant:"secondary",children:[r.length,"/",s]})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(x=>t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:t.jsx(Q,{src:x.url,alt:x.filename,className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors rounded-lg flex items-center justify-center",children:t.jsx(k,{variant:"destructive",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>R(x.id),children:t.jsx(K,{className:"w-4 h-4"})})})]},x.id))})]}),!u&&t.jsxs(oe,{children:[t.jsx(he,{className:"h-4 w-4"}),t.jsxs(ie,{children:["Достигнут лимит в ",s," фотографий для этого предмета."]})]})]})}function fl({itemId:e,onSave:r,onCancel:n}){var P;const[s,a]=c.useState({title:"",description:"",fullDescription:"",year:new Date().getFullYear(),yearFrom:void 0,yearTo:void 0,country:"",organization:"",size:"",edition:"",series:"",tags:[],category:"",condition:"",acquisition:"",value:"",photos:[]}),[o,l]=c.useState(""),[i,f]=c.useState(!1),[d,u]=c.useState(!1),[m,g]=c.useState(null),[b,C]=c.useState({}),[h,p]=c.useState(!1);c.useEffect(()=>{e&&j()},[e]);const j=async()=>{if(e){f(!0),g(null);try{const y=await _.getItem(e);y.success&&y.data?a(y.data):g(y.error||"Не удалось загрузить предмет")}catch{g("Ошибка загрузки предмета")}finally{f(!1)}}},S=()=>{var w,I;const y={};return(w=s.title)!=null&&w.trim()||(y.title="Название обязательно"),(I=s.category)!=null&&I.trim()||(y.category="Категория обязательна"),(!s.year||s.year<1800||s.year>2030)&&(y.year="Год должен быть между 1800 и 2030"),s.yearFrom&&s.yearTo&&s.yearFrom>s.yearTo&&(y.yearRange='Год "от" не может быть больше года "до"'),C(y),Object.keys(y).length===0},E=async()=>{var y;if(S()){u(!0),g(null);try{let w;if(e){if(w=await _.updateItem(e,s),w.success){const I=await _.getItem(e);I.success&&I.data&&r(I.data)}}else if(w=await _.createItem(s),w.success&&((y=w.data)!=null&&y.id)){const I=await _.getItem(w.data.id);I.success&&I.data&&(a(I.data),p(!0))}w.success||g(w.error||"Ошибка сохранения")}catch{g("Ошибка сохранения предмета")}finally{u(!1)}}},N=(y,w)=>{a(I=>({...I,[y]:w})),b[y]&&C(I=>{const G={...I};return delete G[y],G})},R=()=>{var y;o.trim()&&!((y=s.tags)!=null&&y.includes(o.trim()))&&(N("tags",[...s.tags||[],o.trim()]),l(""))},x=y=>{var w;N("tags",((w=s.tags)==null?void 0:w.filter(I=>I!==y))||[])},v=y=>{y.key==="Enter"&&(y.preventDefault(),R())},A=()=>{s.id&&r(s)};return i?t.jsx("div",{className:"p-8 text-center",children:t.jsx("div",{className:"text-lg font-medium",children:"Загрузка предмета..."})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(k,{variant:"outline",onClick:n,className:"gap-2",children:[t.jsx(Me,{className:"w-4 h-4"}),"Назад"]}),t.jsx("h1",{className:"text-2xl font-semibold",children:s.id&&!e?"Новый предмет создан":e?"Редактировать предмет":"Новый предмет"})]}),t.jsx("div",{className:"flex gap-2",children:h?t.jsxs(t.Fragment,{children:[t.jsxs(k,{onClick:E,disabled:d,variant:"outline",className:"gap-2",children:[t.jsx(It,{className:"w-4 h-4"}),d?"Сохранение...":"Сохранить изменения"]}),t.jsx(k,{onClick:A,className:"gap-2",children:"Завершить"})]}):t.jsxs(k,{onClick:E,disabled:d,className:"gap-2",children:[t.jsx(It,{className:"w-4 h-4"}),d?"Сохранение...":"Сохранить"]})})]}),h&&t.jsxs(oe,{className:"border-green-200 bg-green-50",children:[t.jsx(he,{className:"h-4 w-4 text-green-600"}),t.jsx(ie,{className:"text-green-800",children:"Предмет успешно создан! Теперь вы можете загрузить фотографии и внести дополнительные изменения."})]}),m&&t.jsxs(oe,{variant:"destructive",children:[t.jsx(he,{className:"h-4 w-4"}),t.jsx(ie,{children:m})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(F,{children:[t.jsx(U,{children:t.jsx(J,{children:"Основная информация"})}),t.jsxs(B,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"title",children:"Название *"}),t.jsx(z,{id:"title",value:s.title||"",onChange:y=>N("title",y.target.value),placeholder:"Введите название предмета"}),b.title&&t.jsx("p",{className:"text-sm text-red-600",children:b.title})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"category",children:"Категория *"}),t.jsx(z,{id:"category",value:s.category||"",onChange:y=>N("category",y.target.value),placeholder:"Например: Винтажные камеры"}),b.category&&t.jsx("p",{className:"text-sm text-red-600",children:b.category})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"description",children:"Краткое описание"}),t.jsx(er,{id:"description",value:s.description||"",onChange:y=>N("description",y.target.value),placeholder:"Краткое описание предмета",rows:3})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"fullDescription",children:"Подробное описание"}),t.jsx(er,{id:"fullDescription",value:s.fullDescription||"",onChange:y=>N("fullDescription",y.target.value),placeholder:"Подробное описание с историей и деталями",rows:5})]})]})]}),t.jsxs(F,{children:[t.jsx(U,{children:t.jsx(J,{children:"Детали"})}),t.jsxs(B,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"year",children:"Год *"}),t.jsx(z,{id:"year",type:"number",min:"1800",max:"2024",value:s.year||"",onChange:y=>N("year",parseInt(y.target.value)||"")}),b.year&&t.jsx("p",{className:"text-sm text-red-600",children:b.year})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"country",children:"Страна"}),t.jsx(z,{id:"country",value:s.country||"",onChange:y=>N("country",y.target.value),placeholder:"Страна производства"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"yearFrom",children:"Год от"}),t.jsx(z,{id:"yearFrom",type:"number",min:"1800",max:"2024",value:s.yearFrom||"",onChange:y=>N("yearFrom",parseInt(y.target.value)||void 0),placeholder:"Начало диапазона"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"yearTo",children:"Год до"}),t.jsx(z,{id:"yearTo",type:"number",min:"1800",max:"2024",value:s.yearTo||"",onChange:y=>N("yearTo",parseInt(y.target.value)||void 0),placeholder:"Конец диапазона"})]})]}),b.yearRange&&t.jsx("p",{className:"text-sm text-red-600",children:b.yearRange}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"organization",children:"Организация/Издатель"}),t.jsx(z,{id:"organization",value:s.organization||"",onChange:y=>N("organization",y.target.value),placeholder:"Производитель или издатель"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"size",children:"Размер"}),t.jsx(z,{id:"size",value:s.size||"",onChange:y=>N("size",y.target.value),placeholder:"Размеры предмета"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"edition",children:"Тираж"}),t.jsx(z,{id:"edition",value:s.edition||"",onChange:y=>N("edition",y.target.value),placeholder:"Тираж или серийность"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"series",children:"Серия"}),t.jsx(z,{id:"series",value:s.series||"",onChange:y=>N("series",y.target.value),placeholder:"Серия или коллекция"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"condition",children:"Состояние"}),t.jsx(z,{id:"condition",value:s.condition||"",onChange:y=>N("condition",y.target.value),placeholder:"Состояние предмета"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"acquisition",children:"Как приобретен"}),t.jsx(z,{id:"acquisition",value:s.acquisition||"",onChange:y=>N("acquisition",y.target.value),placeholder:"История приобретения"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(L,{htmlFor:"value",children:"Стоимость"}),t.jsx(z,{id:"value",value:s.value||"",onChange:y=>N("value",y.target.value),placeholder:"Примерная стоимость"})]})]})]})]}),t.jsxs(F,{children:[t.jsx(U,{children:t.jsx(J,{children:"Теги"})}),t.jsxs(B,{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{value:o,onChange:y=>l(y.target.value),onKeyPress:v,placeholder:"Добавить тег",className:"flex-1"}),t.jsx(k,{onClick:R,disabled:!o.trim(),children:t.jsx(at,{className:"w-4 h-4"})})]}),s.tags&&s.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((y,w)=>t.jsxs(M,{variant:"secondary",className:"gap-1",children:[y,t.jsx("button",{onClick:()=>x(y),className:"hover:bg-secondary-foreground/20 rounded-full p-0.5",children:t.jsx(K,{className:"w-3 h-3"})})]},w))})]})]}),(e||s.id)&&t.jsxs(t.Fragment,{children:[t.jsx(rr,{}),t.jsxs(F,{children:[t.jsx(U,{children:t.jsx(J,{children:"Управление фотографиями"})}),t.jsx(B,{children:t.jsx(ul,{itemId:e||s.id,existingPhotos:((P=s.photos)==null?void 0:P.map((y,w)=>({id:`photo-${w}`,url:y,filename:`photo-${w+1}.jpg`})))||[],onPhotosUpdated:()=>{e?j():s.id&&(async()=>{try{const w=await _.getItem(s.id);w.success&&w.data&&a(w.data)}catch(w){console.error("Failed to reload item:",w)}})()}})})]})]}),!e&&!s.id&&t.jsxs(t.Fragment,{children:[t.jsx(rr,{}),t.jsxs(oe,{children:[t.jsx(he,{className:"h-4 w-4"}),t.jsx(ie,{children:"Загрузка фотографий будет доступна после сохранения предмета."})]})]})]})}function ml(){const[e,r]=c.useState([]),[n,s]=c.useState([]),[a,o]=c.useState(!0),[l,i]=c.useState(null),[f,d]=c.useState("dashboard"),[u,m]=c.useState(),[g,b]=c.useState(!1),[C,h]=c.useState(null);c.useEffect(()=>{p()},[]);const p=async()=>{o(!0),i(null);try{const[v,A]=await Promise.all([_.getItems(),_.getBlogPosts()]);v.success&&v.data&&r(v.data),A.success&&A.data&&s(A.data)}catch{i("Ошибка загрузки данных")}finally{o(!1)}},j=async()=>{try{await _.logout(),window.location.reload()}catch(v){console.error("Logout failed:",v),_.clearSession(),window.location.reload()}},S=async()=>{try{await _.downloadExport()}catch(v){alert("Ошибка экспорта: "+(v instanceof Error?v.message:"Неизвестная ошибка"))}},E=()=>{m(void 0),d("item-editor")},N=async()=>{if(C)try{const v=await _.deleteItem(C.id);v.success?(r(A=>A.filter(P=>P.id!==C.id)),b(!1),h(null)):alert("Ошибка удаления: "+(v.error||"Неизвестная ошибка"))}catch(v){alert("Ошибка удаления: "+(v instanceof Error?v.message:"Неизвестная ошибка"))}},R=v=>{r(A=>{const P=A.findIndex(y=>y.id===v.id);if(P>=0){const y=[...A];return y[P]=v,y}else return[v,...A]}),d("dashboard")},x=()=>{d("dashboard"),m(void 0)};return f==="item-editor"?t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx("div",{className:"container mx-auto max-w-7xl p-4",children:t.jsx(fl,{itemId:u,onSave:R,onCancel:x})})}):a?t.jsx("div",{className:"min-h-screen bg-background p-4",children:t.jsx("div",{className:"container mx-auto max-w-7xl",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h1",{children:"Админка"}),t.jsx("p",{className:"text-muted-foreground mt-2",children:"Загрузка данных..."})]})})}):t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",children:t.jsx("div",{className:"container mx-auto max-w-7xl px-4 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h1",{className:"text-xl font-semibold",children:"Админка Collepto"}),t.jsx(M,{variant:"secondary",children:"Администратор"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(k,{onClick:S,variant:"outline",size:"sm",className:"gap-2",children:[t.jsx(rn,{className:"w-4 h-4"}),"Экспорт"]}),t.jsxs(k,{onClick:j,variant:"outline",size:"sm",className:"gap-2",children:[t.jsx(dr,{className:"w-4 h-4"}),"Выйти"]})]})]})})}),t.jsxs("div",{className:"container mx-auto max-w-7xl p-4",children:[l&&t.jsx(oe,{variant:"destructive",className:"mb-6",children:t.jsx(ie,{children:l})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs(F,{children:[t.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(J,{className:"text-sm font-medium",children:"Предметы"}),t.jsx(sn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(B,{children:[t.jsx("div",{className:"text-2xl font-bold",children:e.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"в коллекции"})]})]}),t.jsxs(F,{children:[t.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(J,{className:"text-sm font-medium",children:"Посты блога"}),t.jsx(nn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(B,{children:[t.jsx("div",{className:"text-2xl font-bold",children:n.length}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.filter(v=>v.published).length," опубликовано"]})]})]}),t.jsxs(F,{children:[t.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(J,{className:"text-sm font-medium",children:"Категории"}),t.jsx(an,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(B,{children:[t.jsx("div",{className:"text-2xl font-bold",children:new Set(e.map(v=>v.category)).size}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"уникальных"})]})]}),t.jsxs(F,{children:[t.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(J,{className:"text-sm font-medium",children:"Фотографии"}),t.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(B,{children:[t.jsx("div",{className:"text-2xl font-bold",children:e.reduce((v,A)=>{var P;return v+(((P=A.photos)==null?void 0:P.length)||0)},0)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"всего загружено"})]})]})]}),t.jsxs(Ni,{defaultValue:"items",className:"w-full",children:[t.jsxs(wi,{className:"grid w-full grid-cols-2",children:[t.jsx(Jt,{value:"items",children:"Предметы коллекции"}),t.jsx(Jt,{value:"blog",children:"Блог"})]}),t.jsxs(Qt,{value:"items",className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Управление предметами"}),t.jsxs(k,{onClick:E,className:"gap-2",children:[t.jsx(at,{className:"w-4 h-4"}),"Добавить предмет"]})]}),t.jsx("div",{className:"grid gap-4",children:e.map(v=>{var A,P;return t.jsx(F,{children:t.jsx(B,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h3",{className:"font-medium",children:v.title}),t.jsx(M,{variant:"outline",children:v.category}),t.jsx(M,{variant:"secondary",children:v.year})]}),t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:v.description}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[t.jsxs("span",{children:[((A=v.photos)==null?void 0:A.length)||0," фото"]}),t.jsxs("span",{children:[((P=v.tags)==null?void 0:P.length)||0," тегов"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",className:"gap-1",children:[t.jsx(Rt,{className:"w-3 h-3"}),"Просмотр"]}),t.jsxs(k,{variant:"outline",size:"sm",className:"gap-1",children:[t.jsx(kt,{className:"w-3 h-3"}),"Изменить"]}),t.jsxs(k,{variant:"outline",size:"sm",className:"gap-1 text-destructive",children:[t.jsx(Tt,{className:"w-3 h-3"}),"Удалить"]})]})]})})},v.id)})})]}),t.jsxs(Qt,{value:"blog",className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Управление блогом"}),t.jsxs(k,{className:"gap-2",children:[t.jsx(at,{className:"w-4 h-4"}),"Новый пост"]})]}),t.jsx("div",{className:"grid gap-4",children:n.map(v=>{var A;return t.jsx(F,{children:t.jsx(B,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h3",{className:"font-medium",children:v.title}),t.jsx(M,{variant:v.published?"default":"secondary",children:v.published?"Опубликован":"Черновик"}),t.jsx(M,{variant:"outline",children:v.category})]}),t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:v.excerpt}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[t.jsx("span",{children:new Date(v.publishDate).toLocaleDateString("ru-RU")}),t.jsxs("span",{children:[v.readTime," мин чтения"]}),t.jsxs("span",{children:[((A=v.relatedItems)==null?void 0:A.length)||0," связанных предметов"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",className:"gap-1",children:[t.jsx(Rt,{className:"w-3 h-3"}),"Просмотр"]}),t.jsxs(k,{variant:"outline",size:"sm",className:"gap-1",children:[t.jsx(kt,{className:"w-3 h-3"}),"Изменить"]}),t.jsxs(k,{variant:"outline",size:"sm",className:"gap-1 text-destructive",children:[t.jsx(Tt,{className:"w-3 h-3"}),"Удалить"]})]})]})})},v.id)})})]})]})]}),t.jsx(Wi,{open:g,onOpenChange:b,children:t.jsxs(Vi,{children:[t.jsxs(qi,{children:[t.jsx(Hi,{children:"Удалить предмет?"}),t.jsxs(Yi,{children:['Вы уверены, что хотите удалить предмет "',C==null?void 0:C.title,'"? Это действие нельзя отменить. Все связанные фотографии также будут удалены.']})]}),t.jsxs(Ki,{children:[t.jsx(Zi,{onClick:()=>b(!1),children:"Отмена"}),t.jsx(Xi,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Удалить"})]})]})})]})}function hl(){const[e,r]=c.useState("admin-auth"),[n,s]=c.useState(!1),[a,o]=c.useState(!0);c.useEffect(()=>{(async()=>{var u;if(_.isAuthenticated())try{const m=await _.checkAuthStatus();m.success&&((u=m.data)!=null&&u.authenticated)?(s(!0),r("admin")):(_.clearSession(),s(!1),r("admin-auth"))}catch(m){console.error("Auth check failed:",m),_.clearSession(),s(!1),r("admin-auth")}else s(!1),r("admin-auth");o(!1)})()},[]);const l=()=>{s(!0),r("admin")},i=async()=>{try{await _.logout()}catch(d){console.error("Logout error:",d)}finally{s(!1),r("admin-auth")}},f=()=>{window.location.href="/"};return a?t.jsx(Ee,{defaultTheme:"light",storageKey:"collepto-theme",children:t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking authentication..."})]})})}):t.jsx(Ee,{defaultTheme:"light",storageKey:"collepto-theme",children:t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:t.jsxs("div",{className:"container flex h-14 items-center",children:[t.jsx("div",{className:"mr-4 flex",children:t.jsx("button",{className:"flex items-center space-x-2 font-bold text-xl hover:text-primary transition-colors",onClick:f,children:t.jsx("span",{children:"Collepto Admin"})})}),t.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-2",children:[t.jsxs(k,{variant:"ghost",size:"sm",onClick:f,className:"gap-2",children:[t.jsx(on,{className:"w-4 h-4"}),"Main Site"]}),n&&t.jsxs(k,{variant:"ghost",size:"sm",onClick:i,className:"gap-2",children:[t.jsx(dr,{className:"w-4 h-4"}),"Logout"]})]})]})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e==="admin-auth"&&t.jsx(ti,{onAuthSuccess:l}),e==="admin"&&n&&t.jsx(ml,{})]})]})})}function gl(){return window.location.pathname.startsWith("/admin")?t.jsx(hl,{}):t.jsx(Qo,{})}ot.createRoot(document.getElementById("root")).render(t.jsx(ne.StrictMode,{children:t.jsx(gl,{})}));
