var Gs=Object.defineProperty;var Vs=(e,t,n)=>t in e?Gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pt=(e,t,n)=>(Vs(e,typeof t!="symbol"?t+"":t,n),n);import{r as l,a as Wr,R as Gr,b as ue,c as Hs}from"./vendor-5fe3892a.js";import{E as qs,S as or,F as Ks,X as he,a as Ys,A as se,C as Ft,b as Vr,c as zt,d as Js,D as Xs,M as Zs,e as Hr,f as Qs,L as Pt,U as qr,I as Bt,g as Ne,h as ea,i as ta,P as kt,j as ra,k as Kr,l as na,m as sa,n as aa,o as ir,p as lr,T as cr,H as oa}from"./ui-ae3e51b4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var Yr={exports:{}},at={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=l,la=Symbol.for("react.element"),ca=Symbol.for("react.fragment"),ua=Object.prototype.hasOwnProperty,da=ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fa={key:!0,ref:!0,__self:!0,__source:!0};function Jr(e,t,n){var s,a={},o=null,c=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(c=t.ref);for(s in t)ua.call(t,s)&&!fa.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:la,type:e,key:o,ref:c,props:a,_owner:da.current}}at.Fragment=ca;at.jsx=Jr;at.jsxs=Jr;Yr.exports=at;var r=Yr.exports,It={},ur=Wr;It.createRoot=ur.createRoot,It.hydrateRoot=ur.hydrateRoot;const ma="modulepreload",ha=function(e){return"/"+e},dr={},pa=function(t,n,s){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=ha(o),o in dr)return;dr[o]=!0;const c=o.endsWith(".css"),i=c?'[rel="stylesheet"]':"";if(!!s)for(let f=a.length-1;f>=0;f--){const m=a[f];if(m.href===o&&(!c||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${i}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":ma,c||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),c)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o})};var fr="popstate";function ga(e={}){function t(s,a){let{pathname:o,search:c,hash:i}=s.location;return At("",{pathname:o,search:c,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Fe(a)}return va(t,n,null,e)}function M(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function K(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xa(){return Math.random().toString(36).substring(2,10)}function mr(e,t){return{usr:e.state,key:e.key,idx:t}}function At(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ie(t):t,state:n,key:t&&t.key||s||xa()}}function Fe({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ie(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function va(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,i="POP",d=null,u=f();u==null&&(u=0,c.replaceState({...c.state,idx:u},""));function f(){return(c.state||{idx:null}).idx}function m(){i="POP";let b=f(),v=b==null?null:b-u;u=b,d&&d({action:i,location:g.location,delta:v})}function h(b,v){i="PUSH";let p=At(g.location,b,v);n&&n(p,b),u=f()+1;let w=mr(p,u),y=g.createHref(p);try{c.pushState(w,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(y)}o&&d&&d({action:i,location:g.location,delta:1})}function j(b,v){i="REPLACE";let p=At(g.location,b,v);n&&n(p,b),u=f();let w=mr(p,u),y=g.createHref(p);c.replaceState(w,"",y),o&&d&&d({action:i,location:g.location,delta:0})}function C(b){return ba(b)}let g={get action(){return i},get location(){return e(a,c)},listen(b){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(fr,m),d=b,()=>{a.removeEventListener(fr,m),d=null}},createHref(b){return t(a,b)},createURL:C,encodeLocation(b){let v=C(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:j,go(b){return c.go(b)}};return g}function ba(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),M(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Fe(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Xr(e,t,n="/"){return ya(e,t,n,!1)}function ya(e,t,n,s){let a=typeof t=="string"?Ie(t):t,o=ae(a.pathname||"/",n);if(o==null)return null;let c=Zr(e);ja(c);let i=null;for(let d=0;i==null&&d<c.length;++d){let u=Ta(o);i=Ia(c[d],u,s)}return i}function Zr(e,t=[],n=[],s=""){let a=(o,c,i)=>{let d={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(M(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let u=ne([s,d.relativePath]),f=n.concat(d);o.children&&o.children.length>0&&(M(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Zr(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Pa(u,o.index),routesMeta:f})};return e.forEach((o,c)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,c);else for(let d of Qr(o.path))a(o,c,d)}),t}function Qr(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=Qr(s.join("/")),i=[];return i.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&i.push(...c),i.map(d=>e.startsWith("/")&&d===""?"/":d)}function ja(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ka(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wa=/^:[\w-]+$/,Na=3,Ca=2,Ea=1,Sa=10,Ra=-2,hr=e=>e==="*";function Pa(e,t){let n=e.split("/"),s=n.length;return n.some(hr)&&(s+=Ra),t&&(s+=Ca),n.filter(a=>!hr(a)).reduce((a,o)=>a+(wa.test(o)?Na:o===""?Ea:Sa),s)}function ka(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Ia(e,t,n=!1){let{routesMeta:s}=e,a={},o="/",c=[];for(let i=0;i<s.length;++i){let d=s[i],u=i===s.length-1,f=o==="/"?t:t.slice(o.length)||"/",m=tt({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},f),h=d.route;if(!m&&u&&n&&!s[s.length-1].route.index&&(m=tt({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),c.push({params:a,pathname:ne([o,m.pathname]),pathnameBase:Ma(ne([o,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(o=ne([o,m.pathnameBase]))}return c}function tt(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Aa(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:s.reduce((u,{paramName:f,isOptional:m},h)=>{if(f==="*"){let C=i[h]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const j=i[h];return m&&!j?u[f]=void 0:u[f]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:c,pattern:e}}function Aa(e,t=!1,n=!0){K(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,i,d)=>(s.push({paramName:i,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Ta(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return K(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ae(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Da(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ie(e):e;return{pathname:n?n.startsWith("/")?n:La(n,t):t,search:$a(s),hash:_a(a)}}function La(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gt(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Oa(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function en(e){let t=Oa(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function tn(e,t,n,s=!1){let a;typeof e=="string"?a=Ie(e):(a={...e},M(!a.pathname||!a.pathname.includes("?"),gt("?","pathname","search",a)),M(!a.pathname||!a.pathname.includes("#"),gt("#","pathname","hash",a)),M(!a.search||!a.search.includes("#"),gt("#","search","hash",a)));let o=e===""||a.pathname==="",c=o?"/":a.pathname,i;if(c==null)i=n;else{let m=t.length-1;if(!s&&c.startsWith("..")){let h=c.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}i=m>=0?t[m]:"/"}let d=Da(a,i),u=c&&c!=="/"&&c.endsWith("/"),f=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||f)&&(d.pathname+="/"),d}var ne=e=>e.join("/").replace(/\/\/+/g,"/"),Ma=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$a=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_a=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fa(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var rn=["POST","PUT","PATCH","DELETE"];new Set(rn);var za=["GET",...rn];new Set(za);var Ae=l.createContext(null);Ae.displayName="DataRouter";var ot=l.createContext(null);ot.displayName="DataRouterState";l.createContext(!1);var nn=l.createContext({isTransitioning:!1});nn.displayName="ViewTransition";var Ba=l.createContext(new Map);Ba.displayName="Fetchers";var Ua=l.createContext(null);Ua.displayName="Await";var Z=l.createContext(null);Z.displayName="Navigation";var Be=l.createContext(null);Be.displayName="Location";var Q=l.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var Ut=l.createContext(null);Ut.displayName="RouteError";function Wa(e,{relative:t}={}){M(Ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=l.useContext(Z),{hash:a,pathname:o,search:c}=We(e,{relative:t}),i=o;return n!=="/"&&(i=o==="/"?n:ne([n,o])),s.createHref({pathname:i,search:c,hash:a})}function Ue(){return l.useContext(Be)!=null}function oe(){return M(Ue(),"useLocation() may be used only in the context of a <Router> component."),l.useContext(Be).location}var sn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function an(e){l.useContext(Z).static||l.useLayoutEffect(e)}function it(){let{isDataRoute:e}=l.useContext(Q);return e?ro():Ga()}function Ga(){M(Ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=l.useContext(Ae),{basename:t,navigator:n}=l.useContext(Z),{matches:s}=l.useContext(Q),{pathname:a}=oe(),o=JSON.stringify(en(s)),c=l.useRef(!1);return an(()=>{c.current=!0}),l.useCallback((d,u={})=>{if(K(c.current,sn),!c.current)return;if(typeof d=="number"){n.go(d);return}let f=tn(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ne([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,a,e])}l.createContext(null);function on(){let{matches:e}=l.useContext(Q),t=e[e.length-1];return t?t.params:{}}function We(e,{relative:t}={}){let{matches:n}=l.useContext(Q),{pathname:s}=oe(),a=JSON.stringify(en(n));return l.useMemo(()=>tn(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function Va(e,t){return ln(e,t)}function ln(e,t,n,s){var v;M(Ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=l.useContext(Z),{matches:o}=l.useContext(Q),c=o[o.length-1],i=c?c.params:{},d=c?c.pathname:"/",u=c?c.pathnameBase:"/",f=c&&c.route;{let p=f&&f.path||"";cn(d,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let m=oe(),h;if(t){let p=typeof t=="string"?Ie(t):t;M(u==="/"||((v=p.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),h=p}else h=m;let j=h.pathname||"/",C=j;if(u!=="/"){let p=u.replace(/^\//,"").split("/");C="/"+j.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=Xr(e,{pathname:C});K(f||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),K(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Ja(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},i,p.params),pathname:ne([u,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:ne([u,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,s);return t&&b?l.createElement(Be.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},b):b}function Ha(){let e=to(),t=Fa(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=l.createElement(l.Fragment,null,l.createElement("p",null,"💿 Hey developer 👋"),l.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",l.createElement("code",{style:o},"ErrorBoundary")," or"," ",l.createElement("code",{style:o},"errorElement")," prop on your route.")),l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:a},n):null,c)}var qa=l.createElement(Ha,null),Ka=class extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?l.createElement(Q.Provider,{value:this.props.routeContext},l.createElement(Ut.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ya({routeContext:e,match:t,children:n}){let s=l.useContext(Ae);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),l.createElement(Q.Provider,{value:e},n)}function Ja(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);M(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,i=-1;if(n)for(let d=0;d<a.length;d++){let u=a[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=d),u.route.id){let{loaderData:f,errors:m}=n,h=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||h){c=!0,i>=0?a=a.slice(0,i+1):a=[a[0]];break}}}return a.reduceRight((d,u,f)=>{let m,h=!1,j=null,C=null;n&&(m=o&&u.route.id?o[u.route.id]:void 0,j=u.route.errorElement||qa,c&&(i<0&&f===0?(cn("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,C=null):i===f&&(h=!0,C=u.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),b=()=>{let v;return m?v=j:h?v=C:u.route.Component?v=l.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=d,l.createElement(Ya,{match:u,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?l.createElement(Ka,{location:n.location,revalidation:n.revalidation,component:j,error:m,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}function Wt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xa(e){let t=l.useContext(Ae);return M(t,Wt(e)),t}function Za(e){let t=l.useContext(ot);return M(t,Wt(e)),t}function Qa(e){let t=l.useContext(Q);return M(t,Wt(e)),t}function Gt(e){let t=Qa(e),n=t.matches[t.matches.length-1];return M(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function eo(){return Gt("useRouteId")}function to(){var s;let e=l.useContext(Ut),t=Za("useRouteError"),n=Gt("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function ro(){let{router:e}=Xa("useNavigate"),t=Gt("useNavigate"),n=l.useRef(!1);return an(()=>{n.current=!0}),l.useCallback(async(a,o={})=>{K(n.current,sn),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var pr={};function cn(e,t,n){!t&&!pr[e]&&(pr[e]=!0,K(!1,n))}l.memo(no);function no({routes:e,future:t,state:n}){return ln(e,void 0,n,t)}function we(e){M(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function so({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){M(!Ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),i=l.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=Ie(n));let{pathname:d="/",search:u="",hash:f="",state:m=null,key:h="default"}=n,j=l.useMemo(()=>{let C=ae(d,c);return C==null?null:{location:{pathname:C,search:u,hash:f,state:m,key:h},navigationType:s}},[c,d,u,f,m,h,s]);return K(j!=null,`<Router basename="${c}"> is not able to match the URL "${d}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:l.createElement(Z.Provider,{value:i},l.createElement(Be.Provider,{children:t,value:j}))}function ao({children:e,location:t}){return Va(Tt(e),t)}function Tt(e,t=[]){let n=[];return l.Children.forEach(e,(s,a)=>{if(!l.isValidElement(s))return;let o=[...t,a];if(s.type===l.Fragment){n.push.apply(n,Tt(s.props.children,o));return}M(s.type===we,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),M(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Tt(s.props.children,o)),n.push(c)}),n}var Xe="get",Ze="application/x-www-form-urlencoded";function lt(e){return e!=null&&typeof e.tagName=="string"}function oo(e){return lt(e)&&e.tagName.toLowerCase()==="button"}function io(e){return lt(e)&&e.tagName.toLowerCase()==="form"}function lo(e){return lt(e)&&e.tagName.toLowerCase()==="input"}function co(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uo(e,t){return e.button===0&&(!t||t==="_self")&&!co(e)}function Dt(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function fo(e,t){let n=Dt(e);return t&&t.forEach((s,a)=>{n.has(a)||t.getAll(a).forEach(o=>{n.append(a,o)})}),n}var Ve=null;function mo(){if(Ve===null)try{new FormData(document.createElement("form"),0),Ve=!1}catch{Ve=!0}return Ve}var ho=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xt(e){return e!=null&&!ho.has(e)?(K(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ze}"`),null):e}function po(e,t){let n,s,a,o,c;if(io(e)){let i=e.getAttribute("action");s=i?ae(i,t):null,n=e.getAttribute("method")||Xe,a=xt(e.getAttribute("enctype"))||Ze,o=new FormData(e)}else if(oo(e)||lo(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||i.getAttribute("action");if(s=d?ae(d,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Xe,a=xt(e.getAttribute("formenctype"))||xt(i.getAttribute("enctype"))||Ze,o=new FormData(i,e),!mo()){let{name:u,type:f,value:m}=e;if(f==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,m)}}else{if(lt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xe,s=null,a=Ze,c=e}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function go(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&ae(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function xo(e,t){if(e.id in t)return t[e.id];try{let n=await pa(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vo(e){return e!=null&&typeof e.page=="string"}function bo(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yo(e,t,n){let s=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let c=await xo(o,n);return c.links?c.links():[]}return[]}));return Co(s.flat(1).filter(bo).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gr(e,t,n,s,a,o){let c=(d,u)=>n[u]?d.route.id!==n[u].route.id:!0,i=(d,u)=>{var f;return n[u].pathname!==d.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,u)=>c(d,u)||i(d,u)):o==="data"?t.filter((d,u)=>{var m;let f=s.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(c(d,u)||i(d,u))return!0;if(d.route.shouldRevalidate){let h=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function jo(e,t,{includeHydrateFallback:n}={}){return wo(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function wo(e){return[...new Set(e)]}function No(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function Co(e,t){let n=new Set,s=new Set(t);return e.reduce((a,o)=>{if(t&&!vo(o)&&o.as==="script"&&o.href&&s.has(o.href))return a;let i=JSON.stringify(No(o));return n.has(i)||(n.add(i),a.push({key:i,link:o})),a},[])}function un(){let e=l.useContext(Ae);return Vt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Eo(){let e=l.useContext(ot);return Vt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ht=l.createContext(void 0);Ht.displayName="FrameworkContext";function dn(){let e=l.useContext(Ht);return Vt(e,"You must render this element inside a <HydratedRouter> element"),e}function So(e,t){let n=l.useContext(Ht),[s,a]=l.useState(!1),[o,c]=l.useState(!1),{onFocus:i,onBlur:d,onMouseEnter:u,onMouseLeave:f,onTouchStart:m}=t,h=l.useRef(null);l.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let g=v=>{v.forEach(p=>{c(p.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),l.useEffect(()=>{if(s){let g=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(g)}}},[s]);let j=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?e!=="intent"?[o,h,{}]:[o,h,{onFocus:Me(i,j),onBlur:Me(d,C),onMouseEnter:Me(u,j),onMouseLeave:Me(f,C),onTouchStart:Me(m,j)}]:[!1,h,{}]}function Me(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ro({page:e,...t}){let{router:n}=un(),s=l.useMemo(()=>Xr(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?l.createElement(ko,{page:e,matches:s,...t}):null}function Po(e){let{manifest:t,routeModules:n}=dn(),[s,a]=l.useState([]);return l.useEffect(()=>{let o=!1;return yo(e,t,n).then(c=>{o||a(c)}),()=>{o=!0}},[e,t,n]),s}function ko({page:e,matches:t,...n}){let s=oe(),{manifest:a,routeModules:o}=dn(),{basename:c}=un(),{loaderData:i,matches:d}=Eo(),u=l.useMemo(()=>gr(e,t,d,a,s,"data"),[e,t,d,a,s]),f=l.useMemo(()=>gr(e,t,d,a,s,"assets"),[e,t,d,a,s]),m=l.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let C=new Set,g=!1;if(t.forEach(v=>{var w;let p=a.routes[v.route.id];!p||!p.hasLoader||(!u.some(y=>y.route.id===v.route.id)&&v.route.id in i&&((w=o[v.route.id])!=null&&w.shouldRevalidate)||p.hasClientLoader?g=!0:C.add(v.route.id))}),C.size===0)return[];let b=go(e,c,"data");return g&&C.size>0&&b.searchParams.set("_routes",t.filter(v=>C.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[c,i,s,a,u,t,e,o]),h=l.useMemo(()=>jo(f,a),[f,a]),j=Po(f);return l.createElement(l.Fragment,null,m.map(C=>l.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),h.map(C=>l.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),j.map(({key:C,link:g})=>l.createElement("link",{key:C,...g})))}function Io(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fn&&(window.__reactRouterVersion="7.7.1")}catch{}function Ao({basename:e,children:t,window:n}){let s=l.useRef();s.current==null&&(s.current=ga({window:n,v5Compat:!0}));let a=s.current,[o,c]=l.useState({action:a.action,location:a.location}),i=l.useCallback(d=>{l.startTransition(()=>c(d))},[c]);return l.useLayoutEffect(()=>a.listen(i),[a,i]),l.createElement(so,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var mn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=l.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:i,target:d,to:u,preventScrollReset:f,viewTransition:m,...h},j){let{basename:C}=l.useContext(Z),g=typeof u=="string"&&mn.test(u),b,v=!1;if(typeof u=="string"&&g&&(b=u,fn))try{let N=new URL(window.location.href),P=u.startsWith("//")?new URL(N.protocol+u):new URL(u),k=ae(P.pathname,C);P.origin===N.origin&&k!=null?u=k+P.search+P.hash:v=!0}catch{K(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=Wa(u,{relative:a}),[w,y,S]=So(s,h),A=Oo(u,{replace:c,state:i,target:d,preventScrollReset:f,relative:a,viewTransition:m});function x(N){t&&t(N),N.defaultPrevented||A(N)}let E=l.createElement("a",{...h,...S,href:b||p,onClick:v||o?t:x,ref:Io(j,y),target:d,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?l.createElement(l.Fragment,null,E,l.createElement(Ro,{page:p})):E});fe.displayName="Link";var To=l.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:i,children:d,...u},f){let m=We(c,{relative:u.relative}),h=oe(),j=l.useContext(ot),{navigator:C,basename:g}=l.useContext(Z),b=j!=null&&Bo(m)&&i===!0,v=C.encodeLocation?C.encodeLocation(m).pathname:m.pathname,p=h.pathname,w=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(p=p.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&g&&(w=ae(w,g)||w);const y=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=p===v||!a&&p.startsWith(v)&&p.charAt(y)==="/",A=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),x={isActive:S,isPending:A,isTransitioning:b},E=S?t:void 0,N;typeof s=="function"?N=s(x):N=[s,S?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(x):o;return l.createElement(fe,{...u,"aria-current":E,className:N,ref:f,style:P,to:c,viewTransition:i},typeof d=="function"?d(x):d)});To.displayName="NavLink";var Do=l.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:o,method:c=Xe,action:i,onSubmit:d,relative:u,preventScrollReset:f,viewTransition:m,...h},j)=>{let C=Fo(),g=zo(i,{relative:u}),b=c.toLowerCase()==="get"?"get":"post",v=typeof i=="string"&&mn.test(i),p=w=>{if(d&&d(w),w.defaultPrevented)return;w.preventDefault();let y=w.nativeEvent.submitter,S=(y==null?void 0:y.getAttribute("formmethod"))||c;C(y||w.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:a,state:o,relative:u,preventScrollReset:f,viewTransition:m})};return l.createElement("form",{ref:j,method:b,action:g,onSubmit:s?d:p,...h,"data-discover":!v&&e==="render"?"true":void 0})});Do.displayName="Form";function Lo(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hn(e){let t=l.useContext(Ae);return M(t,Lo(e)),t}function Oo(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:c}={}){let i=it(),d=oe(),u=We(e,{relative:o});return l.useCallback(f=>{if(uo(f,t)){f.preventDefault();let m=n!==void 0?n:Fe(d)===Fe(u);i(e,{replace:m,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[d,i,u,n,s,t,e,a,o,c])}function Mo(e){K(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=l.useRef(Dt(e)),n=l.useRef(!1),s=oe(),a=l.useMemo(()=>fo(s.search,n.current?null:t.current),[s.search]),o=it(),c=l.useCallback((i,d)=>{const u=Dt(typeof i=="function"?i(new URLSearchParams(a)):i);n.current=!0,o("?"+u,d)},[o,a]);return[a,c]}var $o=0,_o=()=>`__${String(++$o)}__`;function Fo(){let{router:e}=hn("useSubmit"),{basename:t}=l.useContext(Z),n=eo();return l.useCallback(async(s,a={})=>{let{action:o,method:c,encType:i,formData:d,body:u}=po(s,t);if(a.navigate===!1){let f=a.fetcherKey||_o();await e.fetch(f,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||c,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||c,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function zo(e,{relative:t}={}){let{basename:n}=l.useContext(Z),s=l.useContext(Q);M(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...We(e||".",{relative:t})},c=oe();if(e==null){o.search=c.search;let i=new URLSearchParams(o.search),d=i.getAll("index");if(d.some(f=>f==="")){i.delete("index"),d.filter(m=>m).forEach(m=>i.append("index",m));let f=i.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ne([n,o.pathname])),Fe(o)}function Bo(e,{relative:t}={}){let n=l.useContext(nn);M(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hn("useViewTransitionState"),a=We(e,{relative:t});if(!n.isTransitioning)return!1;let o=ae(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ae(n.nextLocation.pathname,s)||n.nextLocation.pathname;return tt(a.pathname,c)!=null||tt(a.pathname,o)!=null}const Uo={theme:"system",setTheme:()=>null},Wo=l.createContext(Uo);function Lt({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...s}){const[a,o]=l.useState(()=>localStorage.getItem(n)||t);l.useEffect(()=>{const i=window.document.documentElement;if(i.classList.remove("light","dark"),a==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i.classList.add(d);return}i.classList.add(a)},[a]);const c={theme:a,setTheme:i=>{localStorage.setItem(n,i),o(i)}};return r.jsx(Wo.Provider,{...s,value:c,children:e})}function xr(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pn(...e){return t=>{let n=!1;const s=e.map(a=>{const o=xr(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():xr(e[a],null)}}}}function H(...e){return l.useCallback(pn(...e),e)}function ze(e){const t=Go(e),n=l.forwardRef((s,a)=>{const{children:o,...c}=s,i=l.Children.toArray(o),d=i.find(Ho);if(d){const u=d.props.children,f=i.map(m=>m===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:m);return r.jsx(t,{...c,ref:a,children:l.isValidElement(u)?l.cloneElement(u,void 0,f):null})}return r.jsx(t,{...c,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var gn=ze("Slot");function Go(e){const t=l.forwardRef((n,s)=>{const{children:a,...o}=n;if(l.isValidElement(a)){const c=Ko(a),i=qo(o,a.props);return a.type!==l.Fragment&&(i.ref=s?pn(s,c):c),l.cloneElement(a,i)}return l.Children.count(a)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xn=Symbol("radix.slottable");function Vo(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=xn,t}function Ho(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xn}function qo(e,t){const n={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...i)=>{const d=o(...i);return a(...i),d}:a&&(n[s]=a):s==="style"?n[s]={...a,...o}:s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function Ko(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function vn(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=vn(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function bn(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=vn(e))&&(s&&(s+=" "),s+=t);return s}const vr=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,br=bn,qt=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return br(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,c=Object.keys(a).map(u=>{const f=n==null?void 0:n[u],m=o==null?void 0:o[u];if(f===null)return null;const h=vr(f)||vr(m);return a[u][h]}),i=n&&Object.entries(n).reduce((u,f)=>{let[m,h]=f;return h===void 0||(u[m]=h),u},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,f)=>{let{class:m,className:h,...j}=f;return Object.entries(j).every(C=>{let[g,b]=C;return Array.isArray(b)?b.includes({...o,...i}[g]):{...o,...i}[g]===b})?[...u,m,h]:u},[]);return br(e,c,d,n==null?void 0:n.class,n==null?void 0:n.className)},Kt="-",Yo=e=>{const t=Xo(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const i=c.split(Kt);return i[0]===""&&i.length!==1&&i.shift(),yn(i,t)||Jo(c)},getConflictingClassGroupIds:(c,i)=>{const d=n[c]||[];return i&&s[c]?[...d,...s[c]]:d}}},yn=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?yn(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Kt);return(c=t.validators.find(({validator:i})=>i(o)))==null?void 0:c.classGroupId},yr=/^\[(.+)\]$/,Jo=e=>{if(yr.test(e)){const t=yr.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Xo=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return Qo(Object.entries(e.classGroups),n).forEach(([o,c])=>{Ot(c,s,o,t)}),s},Ot=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:jr(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(Zo(a)){Ot(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,c])=>{Ot(c,jr(t,o),n,s)})})},jr=(e,t)=>{let n=e;return t.split(Kt).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Zo=e=>e.isThemeGetter,Qo=(e,t)=>t?e.map(([n,s])=>{const a=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,i])=>[t+c,i])):o);return[n,a]}):e,ei=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,c)=>{n.set(o,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=s.get(o))!==void 0)return a(o,c),c},set(o,c){n.has(o)?n.set(o,c):a(o,c)}}},jn="!",ti=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],o=t.length,c=i=>{const d=[];let u=0,f=0,m;for(let b=0;b<i.length;b++){let v=i[b];if(u===0){if(v===a&&(s||i.slice(b,b+o)===t)){d.push(i.slice(f,b)),f=b+o;continue}if(v==="/"){m=b;continue}}v==="["?u++:v==="]"&&u--}const h=d.length===0?i:i.substring(f),j=h.startsWith(jn),C=j?h.substring(1):h,g=m&&m>f?m-f:void 0;return{modifiers:d,hasImportantModifier:j,baseClassName:C,maybePostfixModifierPosition:g}};return n?i=>n({className:i,parseClassName:c}):c},ri=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},ni=e=>({cache:ei(e.cacheSize),parseClassName:ti(e),...Yo(e)}),si=/\s+/,ai=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,o=[],c=e.trim().split(si);let i="";for(let d=c.length-1;d>=0;d-=1){const u=c[d],{modifiers:f,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:j}=n(u);let C=!!j,g=s(C?h.substring(0,j):h);if(!g){if(!C){i=u+(i.length>0?" "+i:i);continue}if(g=s(h),!g){i=u+(i.length>0?" "+i:i);continue}C=!1}const b=ri(f).join(":"),v=m?b+jn:b,p=v+g;if(o.includes(p))continue;o.push(p);const w=a(g,C);for(let y=0;y<w.length;++y){const S=w[y];o.push(v+S)}i=u+(i.length>0?" "+i:i)}return i};function oi(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=wn(t))&&(s&&(s+=" "),s+=n);return s}const wn=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=wn(e[s]))&&(n&&(n+=" "),n+=t);return n};function ii(e,...t){let n,s,a,o=c;function c(d){const u=t.reduce((f,m)=>m(f),e());return n=ni(u),s=n.cache.get,a=n.cache.set,o=i,i(d)}function i(d){const u=s(d);if(u)return u;const f=ai(d,n);return a(d,f),f}return function(){return o(oi.apply(null,arguments))}}const L=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Nn=/^\[(?:([a-z-]+):)?(.+)\]$/i,li=/^\d+\/\d+$/,ci=new Set(["px","full","screen"]),ui=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,di=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fi=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mi=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hi=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,te=e=>Ce(e)||ci.has(e)||li.test(e),le=e=>Te(e,"length",wi),Ce=e=>!!e&&!Number.isNaN(Number(e)),vt=e=>Te(e,"number",Ce),$e=e=>!!e&&Number.isInteger(Number(e)),pi=e=>e.endsWith("%")&&Ce(e.slice(0,-1)),T=e=>Nn.test(e),ce=e=>ui.test(e),gi=new Set(["length","size","percentage"]),xi=e=>Te(e,gi,Cn),vi=e=>Te(e,"position",Cn),bi=new Set(["image","url"]),yi=e=>Te(e,bi,Ci),ji=e=>Te(e,"",Ni),_e=()=>!0,Te=(e,t,n)=>{const s=Nn.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},wi=e=>di.test(e)&&!fi.test(e),Cn=()=>!1,Ni=e=>mi.test(e),Ci=e=>hi.test(e),Ei=()=>{const e=L("colors"),t=L("spacing"),n=L("blur"),s=L("brightness"),a=L("borderColor"),o=L("borderRadius"),c=L("borderSpacing"),i=L("borderWidth"),d=L("contrast"),u=L("grayscale"),f=L("hueRotate"),m=L("invert"),h=L("gap"),j=L("gradientColorStops"),C=L("gradientColorStopPositions"),g=L("inset"),b=L("margin"),v=L("opacity"),p=L("padding"),w=L("saturate"),y=L("scale"),S=L("sepia"),A=L("skew"),x=L("space"),E=L("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",T,t],R=()=>[T,t],z=()=>["",te,le],J=()=>["auto",Ce,T],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ht=()=>["start","end","center","between","around","evenly","stretch"],Oe=()=>["","0",T],ar=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Ce,T];return{cacheSize:500,separator:":",theme:{colors:[_e],spacing:[te,le],blur:["none","",ce,T],brightness:ee(),borderColor:[e],borderRadius:["none","","full",ce,T],borderSpacing:R(),borderWidth:z(),contrast:ee(),grayscale:Oe(),hueRotate:ee(),invert:Oe(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[pi,le],inset:k(),margin:k(),opacity:ee(),padding:R(),saturate:ee(),scale:ee(),sepia:Oe(),skew:ee(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",T]}],container:["container"],columns:[{columns:[ce]}],"break-after":[{"break-after":ar()}],"break-before":[{"break-before":ar()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),T]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$e,T]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",T]}],grow:[{grow:Oe()}],shrink:[{shrink:Oe()}],order:[{order:["first","last","none",$e,T]}],"grid-cols":[{"grid-cols":[_e]}],"col-start-end":[{col:["auto",{span:["full",$e,T]},T]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[_e]}],"row-start-end":[{row:["auto",{span:[$e,T]},T]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",T]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",T]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...ht()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ht(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ht(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",T,t]}],"min-w":[{"min-w":[T,t,"min","max","fit"]}],"max-w":[{"max-w":[T,t,"none","full","min","max","fit","prose",{screen:[ce]},ce]}],h:[{h:[T,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[T,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[T,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[T,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ce,le]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vt]}],"font-family":[{font:[_e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",T]}],"line-clamp":[{"line-clamp":["none",Ce,vt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",te,T]}],"list-image":[{"list-image":["none",T]}],"list-style-type":[{list:["none","disc","decimal",T]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",te,le]}],"underline-offset":[{"underline-offset":["auto",te,T]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",T]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",T]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),vi]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xi]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yi]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[te,T]}],"outline-w":[{outline:[te,le]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[te,le]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ce,ji]}],"shadow-color":[{shadow:[_e]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ce,T]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",T]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",T]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",T]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[$e,T]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",T]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",T]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",T]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[te,le,vt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Si=ii(Ei);function D(...e){return Si(bn(e))}const Yt=qt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function I({className:e,variant:t,size:n,asChild:s=!1,...a}){const o=s?gn:"button";return r.jsx(o,{"data-slot":"button",className:D(Yt({variant:t,size:n,className:e})),...a})}const Ri=qt("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function U({className:e,variant:t,asChild:n=!1,...s}){const a=n?gn:"span";return r.jsx(a,{"data-slot":"badge",className:D(Ri({variant:t}),e),...s})}function $({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:D("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function q({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:D("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function re({className:e,...t}){return r.jsx("h4",{"data-slot":"card-title",className:D("leading-none",e),...t})}function G({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:D("px-6 [&:last-child]:pb-6",e),...t})}function Pi({className:e,...t}){return r.jsx("div",{"data-slot":"card-footer",className:D("flex items-center px-6 pb-6 [.border-t]:pt-6",e),...t})}const ki="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function rt(e){const[t,n]=l.useState(!1),s=()=>{n(!0)},{src:a,alt:o,style:c,className:i,...d}=e;return t?r.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${i??""}`,style:c,children:r.jsx("div",{className:"flex items-center justify-center w-full h-full",children:r.jsx("img",{src:ki,alt:"Error loading image",...d,"data-original-url":a})})}):r.jsx("img",{src:a,alt:o,className:i,style:c,...d,onError:s})}function Ii({item:e,onTagClick:t,onCategoryClick:n}){const[s,a]=l.useState(0),[o,c]=l.useState(!1),i=d=>{if(!e.photos.length)return;const u=d.currentTarget.getBoundingClientRect(),f=d.clientX-u.left,m=u.width,h=Math.floor(f/m*e.photos.length);a(Math.max(0,Math.min(h,e.photos.length-1)))};return r.jsxs($,{className:"h-full flex flex-col card-refined",children:[r.jsx(q,{className:"p-0",children:r.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-t-md cursor-pointer",onMouseMove:i,onMouseEnter:()=>c(!0),onMouseLeave:()=>{c(!1),a(0)},children:[r.jsx(rt,{src:e.photos.length>0?e.photos[s]||e.photos[0]:"/placeholder-image.jpg",alt:e.title,className:"w-full h-full object-cover transition-all duration-300"}),r.jsx("div",{className:"absolute top-2 left-2",children:r.jsx(U,{variant:"secondary",className:"bg-white/90 text-primary cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:d=>{d.stopPropagation(),n==null||n(e.category)},children:e.category})}),e.photos.length>1&&o&&r.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-1",children:e.photos.map((d,u)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-200 ${u===s?"bg-white scale-110":"bg-white/50 hover:bg-white/75"}`},u))})]})}),r.jsxs(G,{className:"flex-1 p-4 space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsx("h3",{className:"line-clamp-2 leading-tight",children:e.title}),r.jsx("span",{className:"text-muted-foreground text-sm shrink-0",children:e.year})]}),r.jsx("p",{className:"text-muted-foreground text-sm line-clamp-3 leading-relaxed",children:e.description})]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,4).map((d,u)=>r.jsx(U,{variant:"outline",className:"text-xs cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:()=>t==null?void 0:t(d),children:d},u)),e.tags.length>4&&r.jsxs(U,{variant:"outline",className:"text-xs cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:()=>{const d=e.tags.slice(4).join(", ");alert(`Остальные теги: ${d}`)},children:["+",e.tags.length-4]})]})})]}),r.jsx(Pi,{className:"p-4 pt-0",children:r.jsxs(I,{variant:"outline",size:"sm",className:"w-full gap-2 btn-refined",children:[r.jsx(qs,{className:"w-4 h-4"}),"Подробнее"]})})]})}function B({className:e,type:t,...n}){return r.jsx("input",{type:t,"data-slot":"input",className:D("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var Ai=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_=Ai.reduce((e,t)=>{const n=ze(`Primitive.${t}`),s=l.forwardRef((a,o)=>{const{asChild:c,...i}=a,d=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...i,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Ti(e,t){e&&Wr.flushSync(()=>e.dispatchEvent(t))}var Di="Label",En=l.forwardRef((e,t)=>r.jsx(_.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));En.displayName=Di;var Li=En;function F({className:e,...t}){return r.jsx(Li,{"data-slot":"label",className:D("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function W(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Oi(e,t){const n=l.createContext(t),s=o=>{const{children:c,...i}=o,d=l.useMemo(()=>i,Object.values(i));return r.jsx(n.Provider,{value:d,children:c})};s.displayName=e+"Provider";function a(o){const c=l.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function ve(e,t=[]){let n=[];function s(o,c){const i=l.createContext(c),d=n.length;n=[...n,c];const u=m=>{var v;const{scope:h,children:j,...C}=m,g=((v=h==null?void 0:h[e])==null?void 0:v[d])||i,b=l.useMemo(()=>C,Object.values(C));return r.jsx(g.Provider,{value:b,children:j})};u.displayName=o+"Provider";function f(m,h){var g;const j=((g=h==null?void 0:h[e])==null?void 0:g[d])||i,C=l.useContext(j);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,f]}const a=()=>{const o=n.map(c=>l.createContext(c));return function(i){const d=(i==null?void 0:i[e])||o;return l.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return a.scopeName=e,[s,Mi(a,...t)]}function Mi(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=s.reduce((i,{useScope:d,scopeName:u})=>{const m=d(o)[`__scope${u}`];return{...i,...m}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var Pe=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},$i=Gr[" useInsertionEffect ".trim().toString()]||Pe;function ct({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,c]=_i({defaultProp:t,onChange:n}),i=e!==void 0,d=i?e:a;{const f=l.useRef(e!==void 0);l.useEffect(()=>{const m=f.current;m!==i&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=i},[i,s])}const u=l.useCallback(f=>{var m;if(i){const h=Fi(f)?f(e):f;h!==e&&((m=c.current)==null||m.call(c,h))}else o(f)},[i,e,o,c]);return[d,u]}function _i({defaultProp:e,onChange:t}){const[n,s]=l.useState(e),a=l.useRef(n),o=l.useRef(t);return $i(()=>{o.current=t},[t]),l.useEffect(()=>{var c;a.current!==n&&((c=o.current)==null||c.call(o,n),a.current=n)},[n,a]),[n,s,o]}function Fi(e){return typeof e=="function"}function zi(e,t){return l.useReducer((n,s)=>t[n][s]??n,e)}var De=e=>{const{present:t,children:n}=e,s=Bi(t),a=typeof n=="function"?n({present:s.isPresent}):l.Children.only(n),o=H(s.ref,Ui(a));return typeof n=="function"||s.isPresent?l.cloneElement(a,{ref:o}):null};De.displayName="Presence";function Bi(e){const[t,n]=l.useState(),s=l.useRef(null),a=l.useRef(e),o=l.useRef("none"),c=e?"mounted":"unmounted",[i,d]=zi(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=He(s.current);o.current=i==="mounted"?u:"none"},[i]),Pe(()=>{const u=s.current,f=a.current;if(f!==e){const h=o.current,j=He(u);e?d("MOUNT"):j==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&h!==j?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Pe(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,m=j=>{const g=He(s.current).includes(j.animationName);if(j.target===t&&g&&(d("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=j=>{j.target===t&&(o.current=He(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:l.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function He(e){return(e==null?void 0:e.animationName)||"none"}function Ui(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wi=Gr[" useId ".trim().toString()]||(()=>{}),Gi=0;function Ee(e){const[t,n]=l.useState(Wi());return Pe(()=>{e||n(s=>s??String(Gi++))},[e]),e||(t?`radix-${t}`:"")}var ut="Collapsible",[Vi,Qu]=ve(ut),[Hi,Jt]=Vi(ut),Sn=l.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:o,onOpenChange:c,...i}=e,[d,u]=ct({prop:s,defaultProp:a??!1,onChange:c,caller:ut});return r.jsx(Hi,{scope:n,disabled:o,contentId:Ee(),open:d,onOpenToggle:l.useCallback(()=>u(f=>!f),[u]),children:r.jsx(_.div,{"data-state":Zt(d),"data-disabled":o?"":void 0,...i,ref:t})})});Sn.displayName=ut;var Rn="CollapsibleTrigger",Pn=l.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,a=Jt(Rn,n);return r.jsx(_.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Zt(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:W(e.onClick,a.onOpenToggle)})});Pn.displayName=Rn;var Xt="CollapsibleContent",kn=l.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Jt(Xt,e.__scopeCollapsible);return r.jsx(De,{present:n||a.open,children:({present:o})=>r.jsx(qi,{...s,ref:t,present:o})})});kn.displayName=Xt;var qi=l.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:a,...o}=e,c=Jt(Xt,n),[i,d]=l.useState(s),u=l.useRef(null),f=H(t,u),m=l.useRef(0),h=m.current,j=l.useRef(0),C=j.current,g=c.open||i,b=l.useRef(g),v=l.useRef(void 0);return l.useEffect(()=>{const p=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(p)},[]),Pe(()=>{const p=u.current;if(p){v.current=v.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const w=p.getBoundingClientRect();m.current=w.height,j.current=w.width,b.current||(p.style.transitionDuration=v.current.transitionDuration,p.style.animationName=v.current.animationName),d(s)}},[c.open,s]),r.jsx(_.div,{"data-state":Zt(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!g,...o,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:g&&a})});function Zt(e){return e?"open":"closed"}var Ki=Sn;function wr({...e}){return r.jsx(Ki,{"data-slot":"collapsible",...e})}function Yi({...e}){return r.jsx(Pn,{"data-slot":"collapsible-trigger",...e})}function Ji({...e}){return r.jsx(kn,{"data-slot":"collapsible-content",...e})}function Xi({onSearch:e,availableTags:t,availableCategories:n,initialFilters:s}){var p,w;const[a,o]=l.useState((s==null?void 0:s.title)||""),[c,i]=l.useState(((p=s==null?void 0:s.yearFrom)==null?void 0:p.toString())||""),[d,u]=l.useState(((w=s==null?void 0:s.yearTo)==null?void 0:w.toString())||""),[f,m]=l.useState((s==null?void 0:s.tags)||[]),[h,j]=l.useState(!1);l.useEffect(()=>{var y,S;s&&(o(s.title||""),i(((y=s.yearFrom)==null?void 0:y.toString())||""),u(((S=s.yearTo)==null?void 0:S.toString())||""),m(s.tags||[]),s.tags&&s.tags.length>0&&j(!0))},[s]);const C=()=>{e({title:a,yearFrom:c?parseInt(c):null,yearTo:d?parseInt(d):null,tags:f,category:""})},g=y=>{m(S=>S.includes(y)?S.filter(A=>A!==y):[...S,y])},b=()=>{o(""),i(""),u(""),m([]),e({title:"",yearFrom:null,yearTo:null,tags:[],category:""})},v=a||c||d||f.length>0;return r.jsx($,{className:"w-full card-refined",children:r.jsxs(G,{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(B,{placeholder:"Search by title...",value:a,onChange:y=>o(y.target.value),className:"pl-10",onKeyPress:y=>y.key==="Enter"&&C()})]}),r.jsx(wr,{open:h,onOpenChange:j,children:r.jsx(Yi,{asChild:!0,children:r.jsxs(I,{variant:"outline",className:"gap-2",children:[r.jsx(Ks,{className:"w-4 h-4"}),"Filters",v&&r.jsx(U,{variant:"secondary",className:"ml-1 px-1.5 py-0.5 text-xs",children:[a&&"title",c&&"year",f.length&&"tags"].filter(Boolean).length})]})})}),r.jsxs(I,{onClick:C,className:"gap-2",children:[r.jsx(or,{className:"w-4 h-4"}),"Search"]}),v&&r.jsxs(I,{variant:"outline",onClick:b,className:"gap-2",children:[r.jsx(he,{className:"w-4 h-4"}),"Clear"]})]}),r.jsx(wr,{open:h,onOpenChange:j,children:r.jsxs(Ji,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"year-from",children:"Year From"}),r.jsx(B,{id:"year-from",type:"number",placeholder:"1900",value:c,onChange:y=>i(y.target.value),min:"1800",max:"2030"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"year-to",children:"Year To"}),r.jsx(B,{id:"year-to",type:"number",placeholder:"2030",value:d,onChange:y=>u(y.target.value),min:"1800",max:"2030"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Filter by Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(y=>r.jsxs(I,{variant:f.includes(y)?"default":"outline",size:"sm",onClick:()=>g(y),className:"h-auto py-1 px-3 text-sm transition-all duration-200 hover:scale-105 active:scale-95 active:transition-none",children:[y,f.includes(y)&&r.jsx(he,{className:"w-3 h-3 ml-1"})]},y))})]}),f.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{children:"Selected Tags:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(y=>r.jsxs(U,{variant:"secondary",className:"gap-1",children:[y,r.jsx("button",{onClick:()=>g(y),className:"hover:bg-secondary-foreground/20 rounded-full p-0.5",children:r.jsx(he,{className:"w-3 h-3"})})]},y))})]})]})})]})})}const Zi="https://collepto.3451881.workers.dev/api";class Qi{constructor(t){pt(this,"baseUrl");pt(this,"sessionToken",null);this.baseUrl=t,this.sessionToken=localStorage.getItem("collepto_session")}async request(t,n={}){const s={...n,headers:{"Content-Type":"application/json",...n.headers}};this.sessionToken&&(s.headers={...s.headers,Authorization:`Bearer ${this.sessionToken}`});try{const a=await fetch(`${this.baseUrl}${t}`,s),o=await a.json();if(!a.ok)throw new Error(o.error||`HTTP ${a.status}`);return o}catch(a){return console.error("API request failed:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}async login(t,n){const s=btoa(`${t}:${n}`),a=await this.request("/auth/login",{method:"POST",headers:{Authorization:`Basic ${s}`}});return a.success&&a.data&&(this.sessionToken=a.data.sessionId,localStorage.setItem("collepto_session",this.sessionToken)),a}async logout(){const t=await this.request("/auth/logout",{method:"POST"});return this.sessionToken=null,localStorage.removeItem("collepto_session"),t}async checkAuthStatus(){return this.request("/auth/status")}async getItems(){return this.request("/items")}async getItem(t){return this.request(`/items/${t}`)}async getItemBySlug(t){return this.request(`/items/slug/${t}`)}async searchItems(t){const n=new URLSearchParams;return t.q&&n.append("q",t.q),t.category&&n.append("category",t.category),t.yearFrom&&n.append("yearFrom",t.yearFrom.toString()),t.yearTo&&n.append("yearTo",t.yearTo.toString()),t.tags&&t.tags.length>0&&n.append("tags",t.tags.join(",")),this.request(`/items/search?${n.toString()}`)}async getBlogPosts(){return this.request("/blog")}async getBlogPost(t){return this.request(`/blog/${t}`)}async getBlogPostBySlug(t){return this.request(`/blog/slug/${t}`)}async createItem(t){return this.request("/admin/items",{method:"POST",body:JSON.stringify(t)})}async updateItem(t,n){return this.request(`/admin/items/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteItem(t){return this.request(`/admin/items/${t}`,{method:"DELETE"})}async createBlogPost(t){return this.request("/admin/blog",{method:"POST",body:JSON.stringify(t)})}async updateBlogPost(t,n){return this.request(`/admin/blog/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteBlogPost(t){return this.request(`/admin/blog/${t}`,{method:"DELETE"})}async publishBlogPost(t,n){return this.request(`/admin/blog/${t}/publish`,{method:"POST",body:JSON.stringify({published:n})})}async uploadPhoto(t,n){const s=new FormData;s.append("photo",n);const a={method:"POST",body:s};this.sessionToken&&(a.headers={Authorization:`Bearer ${this.sessionToken}`});try{const o=await fetch(`${this.baseUrl}/admin/photos/item/${t}/upload`,a),c=await o.json();if(!o.ok)throw new Error(c.error||`HTTP ${o.status}`);return c}catch(o){return console.error("Photo upload failed:",o),{success:!1,error:o instanceof Error?o.message:"Upload failed"}}}async uploadPhotoBoth(t,n,s){const a=new FormData;a.append("original",n),a.append("processed",s);const o={method:"POST",body:a};this.sessionToken&&(o.headers={Authorization:`Bearer ${this.sessionToken}`});try{const c=await fetch(`${this.baseUrl}/admin/photos/item/${t}/upload-both`,o),i=await c.json();if(!c.ok)throw new Error(i.error||`HTTP ${c.status}`);return i}catch(c){return console.error("Photo upload (both) failed:",c),{success:!1,error:c instanceof Error?c.message:"Upload failed"}}}async deletePhoto(t){return this.request(`/admin/photos/${t}`,{method:"DELETE"})}async exportData(){return this.request("/admin/export")}async downloadExport(){if(!this.sessionToken)throw new Error("Authentication required");const t=await fetch(`${this.baseUrl}/admin/export/download`,{headers:{Authorization:`Bearer ${this.sessionToken}`}});if(!t.ok)throw new Error("Export download failed");const n=await t.blob(),s=window.URL.createObjectURL(n),a=document.createElement("a");a.href=s,a.download=`collepto_export_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(s),document.body.removeChild(a)}isAuthenticated(){return!!this.sessionToken}clearSession(){this.sessionToken=null,localStorage.removeItem("collepto_session")}}const O=new Qi(Zi),el={а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"ts",ч:"ch",ш:"sh",щ:"sch",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"Y",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"H",Ц:"Ts",Ч:"Ch",Ш:"Sh",Щ:"Sch",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya"};function tl(e){return e.split("").map(t=>el[t]||t).join("")}function rl(e){return tl(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")}function In(e,t){const n=rl(e),s=t.substring(0,4);return!n||n.length<2?`item_${s}`:`${n}_${s}`}function nl(e,t){return`/items/${In(e,t)}`}function Nr(e,t){return`/blog/${In(e,t)}`}function sl(){const[e,t]=Mo(),[n,s]=l.useState([]),[a,o]=l.useState([]),[c,i]=l.useState(!0),[d,u]=l.useState(null),[f,m]=l.useState({title:"",yearFrom:null,yearTo:null,tags:[],category:""}),h=()=>{const v=n.flatMap(p=>p.tags);return[...new Set(v)].sort()},j=()=>{const v=n.map(p=>p.category).filter(Boolean);return[...new Set(v)].sort()};l.useEffect(()=>{(async()=>{try{i(!0),u(null);const p=await O.getItems();p.success&&p.data?(s(p.data),o(p.data)):u(p.error||"Failed to load items")}catch(p){console.error("Error loading items:",p),u("Failed to load items")}finally{i(!1)}})()},[]),l.useEffect(()=>{const v=e.get("tag"),p=e.get("category");if(v||p){const w={title:"",yearFrom:null,yearTo:null,tags:v?[v]:[],category:p||""};m(w),C(w)}},[e,n]);const C=v=>{m(v);let p=n;if(v.title){const w=v.title.toLowerCase();p=p.filter(y=>y.title.toLowerCase().includes(w)||y.description.toLowerCase().includes(w))}v.yearFrom&&(p=p.filter(w=>w.year>=v.yearFrom)),v.yearTo&&(p=p.filter(w=>w.year<=v.yearTo)),v.tags.length>0&&(p=p.filter(w=>v.tags.some(y=>w.tags.includes(y)))),v.category&&(p=p.filter(w=>w.category===v.category)),o(p)},g=v=>{t({tag:v})},b=v=>{t({category:v})};return c?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading collection..."})]})}):d?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-destructive text-lg mb-4",children:["Error: ",d]}),r.jsx(I,{onClick:()=>window.location.reload(),children:"Reload Page"})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("nav",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",children:r.jsx("div",{className:"container mx-auto max-w-7xl px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Моя коллекция"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(I,{variant:"default",size:"sm",className:"gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2V5a2 2 0 012-2h14a2 2 0 012 2v2a2 2 0 00-2 2H5z"})}),"Коллекция"]}),r.jsx(fe,{to:"/blog",children:r.jsxs(I,{variant:"ghost",size:"sm",className:"gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Блог"]})})]})]}),r.jsx(fe,{to:"/admin",children:r.jsx(I,{variant:"outline",size:"icon",children:r.jsx(Ys,{className:"h-4 w-4"})})})]})})}),r.jsxs("div",{className:"container mx-auto max-w-7xl p-4",children:[r.jsxs("div",{className:"text-center space-y-2 mb-6",children:[r.jsx("h1",{children:"Добро пожаловать в мою коллекцию"}),r.jsx("p",{className:"text-muted-foreground",children:"Исследуйте уникальные винтажные предметы, собранные с любовью за годы коллекционирования"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Xi,{availableTags:h(),availableCategories:j(),onSearch:C,initialFilters:f}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("p",{className:"text-muted-foreground",children:["Показано ",a.length," из ",n.length," предметов"]}),f.category&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Категория:"}),r.jsxs(U,{variant:"secondary",className:"gap-1",children:[f.category,r.jsx(I,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs hover:text-destructive",onClick:()=>{const v={...f,category:""};C(v)},children:"×"})]})]}),(f.title||f.yearFrom||f.yearTo||f.tags.length>0||f.category)&&r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>C({title:"",yearFrom:null,yearTo:null,tags:[],category:""}),className:"gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Очистить фильтры"]})]})})]}),a.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-muted-foreground",children:"Нет предметов, соответствующих вашим фильтрам."}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Попробуйте изменить критерии поиска или очистить фильтры."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(v=>r.jsx(fe,{to:nl(v.title,v.id),className:"block",children:r.jsx(Ii,{item:v,onTagClick:g,onCategoryClick:b})},v.id))})]})]})}function al({item:e,onBack:t,onTagClick:n,onCategoryClick:s}){const[a,o]=l.useState(0),c=()=>{o(d=>(d+1)%e.photos.length)},i=()=>{o(d=>(d-1+e.photos.length)%e.photos.length)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(I,{variant:"outline",onClick:t,className:"gap-2",children:[r.jsx(se,{className:"w-4 h-4"}),"Назад к коллекции"]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-md",children:[r.jsx(rt,{src:e.photos.length>0?e.photos[a]:"/placeholder-image.jpg",alt:e.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx(U,{variant:"secondary",className:"bg-white/90 text-primary cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:()=>{s==null||s(e.category),t()},children:e.category})}),e.photos.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:i,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 transition-all duration-200 hover:scale-110",children:r.jsx(Ft,{className:"w-5 h-5 text-gray-800"})}),r.jsx("button",{onClick:c,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 transition-all duration-200 hover:scale-110",children:r.jsx(Vr,{className:"w-5 h-5 text-gray-800"})}),r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:e.photos.map((d,u)=>r.jsx("button",{onClick:()=>o(u),className:`w-3 h-3 rounded-full transition-all duration-200 ${u===a?"bg-white scale-110":"bg-white/60 hover:bg-white/80"}`},u))}),r.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-2 py-1 rounded text-sm",children:[a+1," / ",e.photos.length]})]})]}),e.photos.length>1&&r.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.map((d,u)=>r.jsx("button",{onClick:()=>o(u),className:`relative aspect-square overflow-hidden rounded-md transition-all duration-200 ${u===a?"ring-2 ring-primary scale-105":"hover:scale-105 opacity-70 hover:opacity-100"}`,children:r.jsx(rt,{src:d,alt:`${e.title} - изображение ${u+1}`,className:"w-full h-full object-cover"})},u))}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx($,{className:"p-4 card-refined",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(zt,{className:"w-5 h-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Год"}),r.jsx("p",{className:"font-medium",children:e.year})]})]})}),e.condition&&r.jsx($,{className:"p-4 card-refined",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Js,{className:"w-5 h-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Состояние"}),r.jsx("p",{className:"font-medium text-sm",children:e.condition})]})]})}),e.value&&r.jsx($,{className:"p-4 card-refined",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Xs,{className:"w-5 h-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Стоимость"}),r.jsx("p",{className:"font-medium text-sm",children:e.value})]})]})}),e.acquisition&&r.jsx($,{className:"p-4 card-refined",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Zs,{className:"w-5 h-5 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Приобретение"}),r.jsx("p",{className:"font-medium text-sm",children:e.acquisition})]})]})})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h1",{className:"text-3xl leading-tight",children:e.title}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2",children:"Краткое описание"}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.description})]}),e.fullDescription&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2",children:"Подробное описание"}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.fullDescription})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"Теги"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((d,u)=>r.jsx(U,{variant:"outline",className:"cursor-pointer transition-all duration-200 hover:bg-primary hover:text-primary-foreground hover:scale-105 active:scale-95 active:transition-none select-none",onClick:()=>{n==null||n(d),t()},children:d},u))})]})]})})]})]})}function ol(){const{slug:e}=on(),t=it(),[n,s]=l.useState(null),[a,o]=l.useState(!0),[c,i]=l.useState(null);l.useEffect(()=>{(async()=>{if(!e){i("Invalid item URL"),o(!1);return}try{o(!0),i(null);const h=await O.getItemBySlug(e);h.success&&h.data?s(h.data):i(h.error||"Item not found")}catch(h){console.error("Error loading item:",h),i("Failed to load item")}finally{o(!1)}})()},[e]),l.useEffect(()=>{if(n){document.title=`${n.title} - Collepto`;const m=document.querySelector('meta[name="description"]');m&&m.setAttribute("content",n.description||`${n.title} from ${n.year}`)}return()=>{document.title="Collepto";const m=document.querySelector('meta[name="description"]');m&&m.setAttribute("content","Personal collection management system")}},[n]);const d=()=>{t("/")},u=m=>{t(`/?tag=${encodeURIComponent(m)}`)},f=m=>{t(`/?category=${encodeURIComponent(m)}`)};return a?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading item..."})]})}):c||!n?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-destructive text-lg mb-4",children:["Error: ",c||"Item not found"]}),r.jsxs(I,{onClick:d,children:[r.jsx(se,{className:"mr-2 h-4 w-4"}),"Back to Collection"]})]})}):r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(I,{variant:"outline",onClick:d,className:"mb-4",children:[r.jsx(se,{className:"mr-2 h-4 w-4"}),"Back to Collection"]})}),r.jsx(al,{item:n,onBack:d,onTagClick:u,onCategoryClick:f})]})})}const bt=5;function il({posts:e}){const[t,n]=l.useState(1),s=Math.ceil(e.length/bt),a=(t-1)*bt,o=e.slice(a,a+bt),c=i=>new Date(i).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return e.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-muted-foreground text-lg",children:"No blog posts available"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"space-y-6",children:o.map(i=>r.jsxs($,{className:"transition-all duration-200 hover:shadow-lg",children:[r.jsx(q,{className:"pb-4",children:r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(U,{variant:"outline",className:"text-xs",children:i.category}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[r.jsx(zt,{className:"w-4 h-4"}),c(i.publishDate)]}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[r.jsx(Hr,{className:"w-4 h-4"}),i.readTime," мин"]})]}),r.jsx("h3",{className:"text-xl font-semibold hover:text-primary transition-colors",children:r.jsx(fe,{to:Nr(i.title,i.id),className:"hover:underline",children:i.title})})]})})}),r.jsxs(G,{className:"space-y-4",children:[r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.excerpt}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:i.relatedItems.length>0&&`${i.relatedItems.length} связанных предмета`}),r.jsx(fe,{to:Nr(i.title,i.id),children:r.jsxs(I,{variant:"outline",size:"sm",className:"gap-2",children:["Читать полностью",r.jsx(Qs,{className:"w-4 h-4"})]})})]})]})]},i.id))}),s>1&&r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>n(i=>Math.max(1,i-1)),disabled:t===1,className:"gap-2",children:[r.jsx(Ft,{className:"w-4 h-4"}),"Предыдущая"]}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:s},(i,d)=>d+1).map(i=>r.jsx(I,{variant:t===i?"default":"outline",size:"sm",onClick:()=>n(i),className:"w-8 h-8 p-0",children:i},i))}),r.jsxs(I,{variant:"outline",size:"sm",onClick:()=>n(i=>Math.min(s,i+1)),disabled:t===s,className:"gap-2",children:["Следующая",r.jsx(Vr,{className:"w-4 h-4"})]})]})]})}function ll(){const[e,t]=l.useState([]),[n,s]=l.useState(!0),[a,o]=l.useState(null);return l.useEffect(()=>{(async()=>{try{s(!0),o(null);const i=await O.getBlogPosts();i.success&&i.data?t(i.data):o(i.error||"Failed to load blog posts")}catch(i){console.error("Error loading blog posts:",i),o("Failed to load blog posts")}finally{s(!1)}})()},[]),n?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading blog posts..."})]})}):a?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-destructive text-lg mb-4",children:["Error: ",a]}),r.jsx(I,{onClick:()=>window.location.reload(),children:"Reload Page"})]})}):r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Blog"}),r.jsxs("p",{className:"text-muted-foreground",children:[e.length," ",e.length===1?"post":"posts"]})]}),r.jsx(fe,{to:"/",children:r.jsxs(I,{variant:"outline",children:[r.jsx(se,{className:"mr-2 h-4 w-4"}),"Back to Collection"]})})]}),r.jsx(il,{posts:e})]})})}function cl({post:e,onBack:t}){if(!e)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-muted-foreground",children:"Пост не найден"}),r.jsxs(I,{variant:"outline",onClick:t,className:"mt-4",children:[r.jsx(se,{className:"w-4 h-4 mr-2"}),"Назад к блогу"]})]});const n=s=>new Date(s).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[r.jsxs(I,{variant:"ghost",onClick:t,className:"gap-2",children:[r.jsx(se,{className:"w-4 h-4"}),"Назад к блогу"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(U,{variant:"secondary",children:e.category}),r.jsx("h1",{className:"text-4xl font-bold leading-tight",children:e.title}),r.jsxs("div",{className:"flex items-center gap-6 text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zt,{className:"w-4 h-4"}),r.jsx("span",{children:n(e.publishDate)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"w-4 h-4"}),r.jsxs("span",{children:[e.readTime," мин. чтения"]})]})]})]}),r.jsx($,{children:r.jsx(G,{className:"prose prose-gray max-w-none pt-6",children:r.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:e.content.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})})}),e.relatedItems.length>0&&r.jsx("div",{className:"text-center py-4",children:r.jsxs("p",{className:"text-muted-foreground",children:["В этом посте упоминается ",e.relatedItems.length," ",e.relatedItems.length===1?"предмет":"предметов"," из коллекции"]})}),r.jsxs("div",{className:"flex justify-between items-center pt-8 border-t",children:[r.jsxs(I,{variant:"outline",onClick:t,className:"gap-2",children:[r.jsx(Ft,{className:"w-4 h-4"}),"К списку постов"]}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Понравился пост? Поделитесь им!"})}),r.jsx("div",{className:"w-32"})," "]})]})}function ul(){const{slug:e}=on(),t=it(),[n,s]=l.useState(null),[a,o]=l.useState(!0),[c,i]=l.useState(null);l.useEffect(()=>{(async()=>{if(!e){i("Invalid blog post URL"),o(!1);return}try{o(!0),i(null);const f=await O.getBlogPostBySlug(e);f.success&&f.data?s(f.data):i(f.error||"Blog post not found")}catch(f){console.error("Error loading blog post:",f),i("Failed to load blog post")}finally{o(!1)}})()},[e]),l.useEffect(()=>{if(n){document.title=`${n.title} - Collepto Blog`;const u=document.querySelector('meta[name="description"]');u&&u.setAttribute("content",n.excerpt)}return()=>{document.title="Collepto";const u=document.querySelector('meta[name="description"]');u&&u.setAttribute("content","Personal collection management system")}},[n]);const d=()=>{t("/blog")};return a?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading blog post..."})]})}):c||!n?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-destructive text-lg mb-4",children:["Error: ",c||"Blog post not found"]}),r.jsxs(I,{onClick:d,children:[r.jsx(se,{className:"mr-2 h-4 w-4"}),"Back to Blog"]})]})}):r.jsx("div",{className:"min-h-screen bg-background",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(I,{variant:"outline",onClick:d,className:"mb-4",children:[r.jsx(se,{className:"mr-2 h-4 w-4"}),"Back to Blog"]})}),r.jsx(cl,{post:n,onBack:d})]})})}const dl=qt("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function pe({className:e,variant:t,...n}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:D(dl({variant:t}),e),...n})}function ge({className:e,...t}){return r.jsx("div",{"data-slot":"alert-description",className:D("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function fl({onAuthSuccess:e}){const[t,n]=l.useState(""),[s,a]=l.useState(""),[o,c]=l.useState(!1),[i,d]=l.useState(null),[u,f]=l.useState(!0);l.useEffect(()=>{(async()=>{var j;try{const C=await O.checkAuthStatus();if(C.success&&((j=C.data)!=null&&j.authenticated)){e();return}}catch(C){console.error("Auth check failed:",C)}finally{f(!1)}})()},[e]);const m=async h=>{h.preventDefault(),c(!0),d(null);try{const j=await O.login(t,s);j.success?e():d(j.error||"Ошибка авторизации")}catch{d("Не удалось подключиться к серверу")}finally{c(!1)}};return u?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Проверка авторизации..."})]})}):r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:r.jsxs($,{className:"w-full max-w-md",children:[r.jsx(q,{children:r.jsx(re,{className:"text-center",children:"Админка Collepto"})}),r.jsx(G,{children:r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"username",children:"Логин"}),r.jsx(B,{id:"username",type:"text",value:t,onChange:h=>n(h.target.value),required:!0,disabled:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"password",children:"Пароль"}),r.jsx(B,{id:"password",type:"password",value:s,onChange:h=>a(h.target.value),required:!0,disabled:o})]}),i&&r.jsx(pe,{variant:"destructive",children:r.jsx(ge,{children:i})}),r.jsxs(I,{type:"submit",className:"w-full",disabled:o,children:[o&&r.jsx(Pt,{className:"w-4 h-4 mr-2 animate-spin"}),"Войти"]})]})})]})})}function ml(e){const t=e+"CollectionProvider",[n,s]=ve(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=g=>{const{scope:b,children:v}=g,p=ue.useRef(null),w=ue.useRef(new Map).current;return r.jsx(a,{scope:b,itemMap:w,collectionRef:p,children:v})};c.displayName=t;const i=e+"CollectionSlot",d=ze(i),u=ue.forwardRef((g,b)=>{const{scope:v,children:p}=g,w=o(i,v),y=H(b,w.collectionRef);return r.jsx(d,{ref:y,children:p})});u.displayName=i;const f=e+"CollectionItemSlot",m="data-radix-collection-item",h=ze(f),j=ue.forwardRef((g,b)=>{const{scope:v,children:p,...w}=g,y=ue.useRef(null),S=H(b,y),A=o(f,v);return ue.useEffect(()=>(A.itemMap.set(y,{ref:y,...w}),()=>void A.itemMap.delete(y))),r.jsx(h,{[m]:"",ref:S,children:p})});j.displayName=f;function C(g){const b=o(e+"CollectionConsumer",g);return ue.useCallback(()=>{const p=b.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${m}]`));return Array.from(b.itemMap.values()).sort((A,x)=>w.indexOf(A.ref.current)-w.indexOf(x.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:c,Slot:u,ItemSlot:j},C,s]}function ke(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}var hl=l.createContext(void 0);function An(e){const t=l.useContext(hl);return e||t||"ltr"}var yt="rovingFocusGroup.onEntryFocus",pl={bubbles:!1,cancelable:!0},Ge="RovingFocusGroup",[Mt,Tn,gl]=ml(Ge),[xl,Dn]=ve(Ge,[gl]),[vl,bl]=xl(Ge),Ln=l.forwardRef((e,t)=>r.jsx(Mt.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Mt.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(yl,{...e,ref:t})})}));Ln.displayName=Ge;var yl=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...m}=e,h=l.useRef(null),j=H(t,h),C=An(o),[g,b]=ct({prop:c,defaultProp:i??null,onChange:d,caller:Ge}),[v,p]=l.useState(!1),w=ke(u),y=Tn(n),S=l.useRef(!1),[A,x]=l.useState(0);return l.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(yt,w),()=>E.removeEventListener(yt,w)},[w]),r.jsx(vl,{scope:n,orientation:s,dir:C,loop:a,currentTabStopId:g,onItemFocus:l.useCallback(E=>b(E),[b]),onItemShiftTab:l.useCallback(()=>p(!0),[]),onFocusableItemAdd:l.useCallback(()=>x(E=>E+1),[]),onFocusableItemRemove:l.useCallback(()=>x(E=>E-1),[]),children:r.jsx(_.div,{tabIndex:v||A===0?-1:0,"data-orientation":s,...m,ref:j,style:{outline:"none",...e.style},onMouseDown:W(e.onMouseDown,()=>{S.current=!0}),onFocus:W(e.onFocus,E=>{const N=!S.current;if(E.target===E.currentTarget&&N&&!v){const P=new CustomEvent(yt,pl);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const k=y().filter(V=>V.focusable),R=k.find(V=>V.active),z=k.find(V=>V.id===g),me=[R,z,...k].filter(Boolean).map(V=>V.ref.current);$n(me,f)}}S.current=!1}),onBlur:W(e.onBlur,()=>p(!1))})})}),On="RovingFocusGroupItem",Mn=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:o,children:c,...i}=e,d=Ee(),u=o||d,f=bl(On,n),m=f.currentTabStopId===u,h=Tn(n),{onFocusableItemAdd:j,onFocusableItemRemove:C,currentTabStopId:g}=f;return l.useEffect(()=>{if(s)return j(),()=>C()},[s,j,C]),r.jsx(Mt.ItemSlot,{scope:n,id:u,focusable:s,active:a,children:r.jsx(_.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...i,ref:t,onMouseDown:W(e.onMouseDown,b=>{s?f.onItemFocus(u):b.preventDefault()}),onFocus:W(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:W(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=Nl(b,f.orientation,f.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=h().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const y=w.indexOf(b.currentTarget);w=f.loop?Cl(w,y+1):w.slice(y+1)}setTimeout(()=>$n(w))}}),children:typeof c=="function"?c({isCurrentTabStop:m,hasTabStop:g!=null}):c})})});Mn.displayName=On;var jl={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wl(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Nl(e,t,n){const s=wl(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return jl[s]}function $n(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function Cl(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var El=Ln,Sl=Mn,dt="Tabs",[Rl,ed]=ve(dt,[Dn]),_n=Dn(),[Pl,Qt]=Rl(dt),Fn=l.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:o,orientation:c="horizontal",dir:i,activationMode:d="automatic",...u}=e,f=An(i),[m,h]=ct({prop:s,onChange:a,defaultProp:o??"",caller:dt});return r.jsx(Pl,{scope:n,baseId:Ee(),value:m,onValueChange:h,orientation:c,dir:f,activationMode:d,children:r.jsx(_.div,{dir:f,"data-orientation":c,...u,ref:t})})});Fn.displayName=dt;var zn="TabsList",Bn=l.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,o=Qt(zn,n),c=_n(n);return r.jsx(El,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:s,children:r.jsx(_.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});Bn.displayName=zn;var Un="TabsTrigger",Wn=l.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...o}=e,c=Qt(Un,n),i=_n(n),d=Hn(c.baseId,s),u=qn(c.baseId,s),f=s===c.value;return r.jsx(Sl,{asChild:!0,...i,focusable:!a,active:f,children:r.jsx(_.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...o,ref:t,onMouseDown:W(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?c.onValueChange(s):m.preventDefault()}),onKeyDown:W(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&c.onValueChange(s)}),onFocus:W(e.onFocus,()=>{const m=c.activationMode!=="manual";!f&&!a&&m&&c.onValueChange(s)})})})});Wn.displayName=Un;var Gn="TabsContent",Vn=l.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:o,...c}=e,i=Qt(Gn,n),d=Hn(i.baseId,s),u=qn(i.baseId,s),f=s===i.value,m=l.useRef(f);return l.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),r.jsx(De,{present:a||f,children:({present:h})=>r.jsx(_.div,{"data-state":f?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":d,hidden:!h,id:u,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&o})})});Vn.displayName=Gn;function Hn(e,t){return`${e}-trigger-${t}`}function qn(e,t){return`${e}-content-${t}`}var kl=Fn,Il=Bn,Al=Wn,Tl=Vn;function Dl({className:e,...t}){return r.jsx(kl,{"data-slot":"tabs",className:D("flex flex-col gap-2",e),...t})}function Ll({className:e,...t}){return r.jsx(Il,{"data-slot":"tabs-list",className:D("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Cr({className:e,...t}){return r.jsx(Al,{"data-slot":"tabs-trigger",className:D("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Er({className:e,...t}){return r.jsx(Tl,{"data-slot":"tabs-content",className:D("flex-1 outline-none",e),...t})}function Ol(e,t=globalThis==null?void 0:globalThis.document){const n=ke(e);l.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Ml="DismissableLayer",$t="dismissableLayer.update",$l="dismissableLayer.pointerDownOutside",_l="dismissableLayer.focusOutside",Sr,Kn=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yn=l.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:i,...d}=e,u=l.useContext(Kn),[f,m]=l.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=l.useState({}),C=H(t,x=>m(x)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),p=f?g.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,y=p>=v,S=Bl(x=>{const E=x.target,N=[...u.branches].some(P=>P.contains(E));!y||N||(a==null||a(x),c==null||c(x),x.defaultPrevented||i==null||i())},h),A=Ul(x=>{const E=x.target;[...u.branches].some(P=>P.contains(E))||(o==null||o(x),c==null||c(x),x.defaultPrevented||i==null||i())},h);return Ol(x=>{p===u.layers.size-1&&(s==null||s(x),!x.defaultPrevented&&i&&(x.preventDefault(),i()))},h),l.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Sr=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Rr(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Sr)}},[f,h,n,u]),l.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Rr())},[f,u]),l.useEffect(()=>{const x=()=>j({});return document.addEventListener($t,x),()=>document.removeEventListener($t,x)},[]),r.jsx(_.div,{...d,ref:C,style:{pointerEvents:w?y?"auto":"none":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,A.onFocusCapture),onBlurCapture:W(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,S.onPointerDownCapture)})});Yn.displayName=Ml;var Fl="DismissableLayerBranch",zl=l.forwardRef((e,t)=>{const n=l.useContext(Kn),s=l.useRef(null),a=H(t,s);return l.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(_.div,{...e,ref:a})});zl.displayName=Fl;function Bl(e,t=globalThis==null?void 0:globalThis.document){const n=ke(e),s=l.useRef(!1),a=l.useRef(()=>{});return l.useEffect(()=>{const o=i=>{if(i.target&&!s.current){let d=function(){Jn($l,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Ul(e,t=globalThis==null?void 0:globalThis.document){const n=ke(e),s=l.useRef(!1);return l.useEffect(()=>{const a=o=>{o.target&&!s.current&&Jn(_l,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Rr(){const e=new CustomEvent($t);document.dispatchEvent(e)}function Jn(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?Ti(a,o):a.dispatchEvent(o)}var jt="focusScope.autoFocusOnMount",wt="focusScope.autoFocusOnUnmount",Pr={bubbles:!1,cancelable:!0},Wl="FocusScope",Xn=l.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...c}=e,[i,d]=l.useState(null),u=ke(a),f=ke(o),m=l.useRef(null),h=H(t,g=>d(g)),j=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(s){let g=function(w){if(j.paused||!i)return;const y=w.target;i.contains(y)?m.current=y:de(m.current,{select:!0})},b=function(w){if(j.paused||!i)return;const y=w.relatedTarget;y!==null&&(i.contains(y)||de(m.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&de(i)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const p=new MutationObserver(v);return i&&p.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),p.disconnect()}}},[s,i,j.paused]),l.useEffect(()=>{if(i){Ir.add(j);const g=document.activeElement;if(!i.contains(g)){const v=new CustomEvent(jt,Pr);i.addEventListener(jt,u),i.dispatchEvent(v),v.defaultPrevented||(Gl(Yl(Zn(i)),{select:!0}),document.activeElement===g&&de(i))}return()=>{i.removeEventListener(jt,u),setTimeout(()=>{const v=new CustomEvent(wt,Pr);i.addEventListener(wt,f),i.dispatchEvent(v),v.defaultPrevented||de(g??document.body,{select:!0}),i.removeEventListener(wt,f),Ir.remove(j)},0)}}},[i,u,f,j]);const C=l.useCallback(g=>{if(!n&&!s||j.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const p=g.currentTarget,[w,y]=Vl(p);w&&y?!g.shiftKey&&v===y?(g.preventDefault(),n&&de(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&de(y,{select:!0})):v===p&&g.preventDefault()}},[n,s,j.paused]);return r.jsx(_.div,{tabIndex:-1,...c,ref:h,onKeyDown:C})});Xn.displayName=Wl;function Gl(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(de(s,{select:t}),document.activeElement!==n)return}function Vl(e){const t=Zn(e),n=kr(t,e),s=kr(t.reverse(),e);return[n,s]}function Zn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kr(e,t){for(const n of e)if(!Hl(n,{upTo:t}))return n}function Hl(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ql(e){return e instanceof HTMLInputElement&&"select"in e}function de(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ql(e)&&t&&e.select()}}var Ir=Kl();function Kl(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ar(e,t),e.unshift(t)},remove(t){var n;e=Ar(e,t),(n=e[0])==null||n.resume()}}}function Ar(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Yl(e){return e.filter(t=>t.tagName!=="A")}var Jl="Portal",Qn=l.forwardRef((e,t)=>{var i;const{container:n,...s}=e,[a,o]=l.useState(!1);Pe(()=>o(!0),[]);const c=n||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return c?Hs.createPortal(r.jsx(_.div,{...s,ref:t}),c):null});Qn.displayName=Jl;var Nt=0;function Xl(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Tr()),document.body.insertAdjacentElement("beforeend",e[1]??Tr()),Nt++,()=>{Nt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nt--}},[])}function Tr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var X=function(){return X=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},X.apply(this,arguments)};function es(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Zl(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Qe="right-scroll-bar-position",et="width-before-scroll-bar",Ql="with-scroll-bars-hidden",ec="--removed-body-scroll-bar-size";function Ct(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tc(e,t){var n=l.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var rc=typeof window<"u"?l.useLayoutEffect:l.useEffect,Dr=new WeakMap;function nc(e,t){var n=tc(t||null,function(s){return e.forEach(function(a){return Ct(a,s)})});return rc(function(){var s=Dr.get(n);if(s){var a=new Set(s),o=new Set(e),c=n.current;a.forEach(function(i){o.has(i)||Ct(i,null)}),o.forEach(function(i){a.has(i)||Ct(i,c)})}Dr.set(n,e)},[e]),n}function sc(e){return e}function ac(e,t){t===void 0&&(t=sc);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var c=t(o,s);return n.push(c),function(){n=n.filter(function(i){return i!==c})}},assignSyncMedium:function(o){for(s=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){s=!0;var c=[];if(n.length){var i=n;n=[],i.forEach(o),c=n}var d=function(){var f=c;c=[],f.forEach(o)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(f){c.push(f),u()},filter:function(f){return c=c.filter(f),n}}}};return a}function oc(e){e===void 0&&(e={});var t=ac(null);return t.options=X({async:!0,ssr:!1},e),t}var ts=function(e){var t=e.sideCar,n=es(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return l.createElement(s,X({},n))};ts.isSideCarExport=!0;function ic(e,t){return e.useMedium(t),ts}var rs=oc(),Et=function(){},ft=l.forwardRef(function(e,t){var n=l.useRef(null),s=l.useState({onScrollCapture:Et,onWheelCapture:Et,onTouchMoveCapture:Et}),a=s[0],o=s[1],c=e.forwardProps,i=e.children,d=e.className,u=e.removeScrollBar,f=e.enabled,m=e.shards,h=e.sideCar,j=e.noRelative,C=e.noIsolation,g=e.inert,b=e.allowPinchZoom,v=e.as,p=v===void 0?"div":v,w=e.gapMode,y=es(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,A=nc([n,t]),x=X(X({},y),a);return l.createElement(l.Fragment,null,f&&l.createElement(S,{sideCar:rs,removeScrollBar:u,shards:m,noRelative:j,noIsolation:C,inert:g,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:w}),c?l.cloneElement(l.Children.only(i),X(X({},x),{ref:A})):l.createElement(p,X({},x,{className:d,ref:A}),i))});ft.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ft.classNames={fullWidth:et,zeroRight:Qe};var Lr,lc=function(){if(Lr)return Lr;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cc(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lc();return t&&e.setAttribute("nonce",t),e}function uc(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dc(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fc=function(){var e=0,t=null;return{add:function(n){e==0&&(t=cc())&&(uc(t,n),dc(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mc=function(){var e=fc();return function(t,n){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ns=function(){var e=mc(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},hc={left:0,top:0,right:0,gap:0},St=function(e){return parseInt(e||"",10)||0},pc=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[St(n),St(s),St(a)]},gc=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hc;var t=pc(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},xc=ns(),Se="data-scroll-locked",vc=function(e,t,n,s){var a=e.left,o=e.top,c=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ql,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(i,"px ").concat(s,`;
  }
  body[`).concat(Se,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qe,` {
    right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(et,` {
    margin-right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(Qe," .").concat(Qe,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(et," .").concat(et,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Se,`] {
    `).concat(ec,": ").concat(i,`px;
  }
`)},Or=function(){var e=parseInt(document.body.getAttribute(Se)||"0",10);return isFinite(e)?e:0},bc=function(){l.useEffect(function(){return document.body.setAttribute(Se,(Or()+1).toString()),function(){var e=Or()-1;e<=0?document.body.removeAttribute(Se):document.body.setAttribute(Se,e.toString())}},[])},yc=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;bc();var o=l.useMemo(function(){return gc(a)},[a]);return l.createElement(xc,{styles:vc(o,!t,a,n?"":"!important")})},_t=!1;if(typeof window<"u")try{var qe=Object.defineProperty({},"passive",{get:function(){return _t=!0,!0}});window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch{_t=!1}var be=_t?{passive:!1}:!1,jc=function(e){return e.tagName==="TEXTAREA"},ss=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!jc(e)&&n[t]==="visible")},wc=function(e){return ss(e,"overflowY")},Nc=function(e){return ss(e,"overflowX")},Mr=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=as(e,s);if(a){var o=os(e,s),c=o[1],i=o[2];if(c>i)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Cc=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Ec=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},as=function(e,t){return e==="v"?wc(t):Nc(t)},os=function(e,t){return e==="v"?Cc(t):Ec(t)},Sc=function(e,t){return e==="h"&&t==="rtl"?-1:1},Rc=function(e,t,n,s,a){var o=Sc(e,window.getComputedStyle(t).direction),c=o*s,i=n.target,d=t.contains(i),u=!1,f=c>0,m=0,h=0;do{if(!i)break;var j=os(e,i),C=j[0],g=j[1],b=j[2],v=g-b-o*C;(C||v)&&as(e,i)&&(m+=v,h+=C);var p=i.parentNode;i=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!d&&i!==document.body||d&&(t.contains(i)||t===i));return(f&&(a&&Math.abs(m)<1||!a&&c>m)||!f&&(a&&Math.abs(h)<1||!a&&-c>h))&&(u=!0),u},Ke=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$r=function(e){return[e.deltaX,e.deltaY]},_r=function(e){return e&&"current"in e?e.current:e},Pc=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kc=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ic=0,ye=[];function Ac(e){var t=l.useRef([]),n=l.useRef([0,0]),s=l.useRef(),a=l.useState(Ic++)[0],o=l.useState(ns)[0],c=l.useRef(e);l.useEffect(function(){c.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Zl([e.lockRef.current],(e.shards||[]).map(_r),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=l.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!c.current.allowPinchZoom;var v=Ke(g),p=n.current,w="deltaX"in g?g.deltaX:p[0]-v[0],y="deltaY"in g?g.deltaY:p[1]-v[1],S,A=g.target,x=Math.abs(w)>Math.abs(y)?"h":"v";if("touches"in g&&x==="h"&&A.type==="range")return!1;var E=Mr(x,A);if(!E)return!0;if(E?S=x:(S=x==="v"?"h":"v",E=Mr(x,A)),!E)return!1;if(!s.current&&"changedTouches"in g&&(w||y)&&(s.current=S),!S)return!0;var N=s.current||S;return Rc(N,b,g,N==="h"?w:y,!0)},[]),d=l.useCallback(function(g){var b=g;if(!(!ye.length||ye[ye.length-1]!==o)){var v="deltaY"in b?$r(b):Ke(b),p=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&Pc(S.delta,v)})[0];if(p&&p.should){b.cancelable&&b.preventDefault();return}if(!p){var w=(c.current.shards||[]).map(_r).filter(Boolean).filter(function(S){return S.contains(b.target)}),y=w.length>0?i(b,w[0]):!c.current.noIsolation;y&&b.cancelable&&b.preventDefault()}}},[]),u=l.useCallback(function(g,b,v,p){var w={name:g,delta:b,target:v,should:p,shadowParent:Tc(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(y){return y!==w})},1)},[]),f=l.useCallback(function(g){n.current=Ke(g),s.current=void 0},[]),m=l.useCallback(function(g){u(g.type,$r(g),g.target,i(g,e.lockRef.current))},[]),h=l.useCallback(function(g){u(g.type,Ke(g),g.target,i(g,e.lockRef.current))},[]);l.useEffect(function(){return ye.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",d,be),document.addEventListener("touchmove",d,be),document.addEventListener("touchstart",f,be),function(){ye=ye.filter(function(g){return g!==o}),document.removeEventListener("wheel",d,be),document.removeEventListener("touchmove",d,be),document.removeEventListener("touchstart",f,be)}},[]);var j=e.removeScrollBar,C=e.inert;return l.createElement(l.Fragment,null,C?l.createElement(o,{styles:kc(a)}):null,j?l.createElement(yc,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Tc(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Dc=ic(rs,Ac);var is=l.forwardRef(function(e,t){return l.createElement(ft,X({},e,{ref:t,sideCar:Dc}))});is.classNames=ft.classNames;const Lc=is;var Oc=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},je=new WeakMap,Ye=new WeakMap,Je={},Rt=0,ls=function(e){return e&&(e.host||ls(e.parentNode))},Mc=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=ls(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$c=function(e,t,n,s){var a=Mc(t,Array.isArray(e)?e:[e]);Je[n]||(Je[n]=new WeakMap);var o=Je[n],c=[],i=new Set,d=new Set(a),u=function(m){!m||i.has(m)||(i.add(m),u(m.parentNode))};a.forEach(u);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(h){if(i.has(h))f(h);else try{var j=h.getAttribute(s),C=j!==null&&j!=="false",g=(je.get(h)||0)+1,b=(o.get(h)||0)+1;je.set(h,g),o.set(h,b),c.push(h),g===1&&C&&Ye.set(h,!0),b===1&&h.setAttribute(n,"true"),C||h.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return f(t),i.clear(),Rt++,function(){c.forEach(function(m){var h=je.get(m)-1,j=o.get(m)-1;je.set(m,h),o.set(m,j),h||(Ye.has(m)||m.removeAttribute(s),Ye.delete(m)),j||m.removeAttribute(n)}),Rt--,Rt||(je=new WeakMap,je=new WeakMap,Ye=new WeakMap,Je={})}},_c=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t||Oc(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),$c(s,a,n,"aria-hidden")):function(){return null}},mt="Dialog",[cs,us]=ve(mt),[Fc,Y]=cs(mt),ds=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,i=l.useRef(null),d=l.useRef(null),[u,f]=ct({prop:s,defaultProp:a??!1,onChange:o,caller:mt});return r.jsx(Fc,{scope:t,triggerRef:i,contentRef:d,contentId:Ee(),titleId:Ee(),descriptionId:Ee(),open:u,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(m=>!m),[f]),modal:c,children:n})};ds.displayName=mt;var fs="DialogTrigger",ms=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Y(fs,n),o=H(t,a.triggerRef);return r.jsx(_.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rr(a.open),...s,ref:o,onClick:W(e.onClick,a.onOpenToggle)})});ms.displayName=fs;var er="DialogPortal",[zc,hs]=cs(er,{forceMount:void 0}),ps=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=Y(er,t);return r.jsx(zc,{scope:t,forceMount:n,children:l.Children.map(s,c=>r.jsx(De,{present:n||o.open,children:r.jsx(Qn,{asChild:!0,container:a,children:c})}))})};ps.displayName=er;var nt="DialogOverlay",gs=l.forwardRef((e,t)=>{const n=hs(nt,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,o=Y(nt,e.__scopeDialog);return o.modal?r.jsx(De,{present:s||o.open,children:r.jsx(Uc,{...a,ref:t})}):null});gs.displayName=nt;var Bc=ze("DialogOverlay.RemoveScroll"),Uc=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Y(nt,n);return r.jsx(Lc,{as:Bc,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(_.div,{"data-state":rr(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),xe="DialogContent",xs=l.forwardRef((e,t)=>{const n=hs(xe,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,o=Y(xe,e.__scopeDialog);return r.jsx(De,{present:s||o.open,children:o.modal?r.jsx(Wc,{...a,ref:t}):r.jsx(Gc,{...a,ref:t})})});xs.displayName=xe;var Wc=l.forwardRef((e,t)=>{const n=Y(xe,e.__scopeDialog),s=l.useRef(null),a=H(t,n.contentRef,s);return l.useEffect(()=>{const o=s.current;if(o)return _c(o)},[]),r.jsx(vs,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:W(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,i=c.button===0&&c.ctrlKey===!0;(c.button===2||i)&&o.preventDefault()}),onFocusOutside:W(e.onFocusOutside,o=>o.preventDefault())})}),Gc=l.forwardRef((e,t)=>{const n=Y(xe,e.__scopeDialog),s=l.useRef(!1),a=l.useRef(!1);return r.jsx(vs,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),vs=l.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...c}=e,i=Y(xe,n),d=l.useRef(null),u=H(t,d);return Xl(),r.jsxs(r.Fragment,{children:[r.jsx(Xn,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:r.jsx(Yn,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":rr(i.open),...c,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(Hc,{titleId:i.titleId}),r.jsx(Kc,{contentRef:d,descriptionId:i.descriptionId})]})]})}),tr="DialogTitle",bs=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Y(tr,n);return r.jsx(_.h2,{id:a.titleId,...s,ref:t})});bs.displayName=tr;var ys="DialogDescription",js=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Y(ys,n);return r.jsx(_.p,{id:a.descriptionId,...s,ref:t})});js.displayName=ys;var ws="DialogClose",Ns=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Y(ws,n);return r.jsx(_.button,{type:"button",...s,ref:t,onClick:W(e.onClick,()=>a.onOpenChange(!1))})});Ns.displayName=ws;function rr(e){return e?"open":"closed"}var Cs="DialogTitleWarning",[Vc,Es]=Oi(Cs,{contentName:xe,titleName:tr,docsSlug:"dialog"}),Hc=({titleId:e})=>{const t=Es(Cs),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qc="DialogDescriptionWarning",Kc=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Es(qc).contentName}}.`;return l.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Yc=ds,Jc=ms,Xc=ps,Zc=gs,Qc=xs,eu=bs,tu=js,Ss=Ns,Rs="AlertDialog",[ru,td]=ve(Rs,[us]),ie=us(),Ps=e=>{const{__scopeAlertDialog:t,...n}=e,s=ie(t);return r.jsx(Yc,{...s,...n,modal:!0})};Ps.displayName=Rs;var nu="AlertDialogTrigger",su=l.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=ie(n);return r.jsx(Jc,{...a,...s,ref:t})});su.displayName=nu;var au="AlertDialogPortal",ks=e=>{const{__scopeAlertDialog:t,...n}=e,s=ie(t);return r.jsx(Xc,{...s,...n})};ks.displayName=au;var ou="AlertDialogOverlay",Is=l.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=ie(n);return r.jsx(Zc,{...a,...s,ref:t})});Is.displayName=ou;var Re="AlertDialogContent",[iu,lu]=ru(Re),cu=Vo("AlertDialogContent"),As=l.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...a}=e,o=ie(n),c=l.useRef(null),i=H(t,c),d=l.useRef(null);return r.jsx(Vc,{contentName:Re,titleName:Ts,docsSlug:"alert-dialog",children:r.jsx(iu,{scope:n,cancelRef:d,children:r.jsxs(Qc,{role:"alertdialog",...o,...a,ref:i,onOpenAutoFocus:W(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=d.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[r.jsx(cu,{children:s}),r.jsx(du,{contentRef:c})]})})})});As.displayName=Re;var Ts="AlertDialogTitle",Ds=l.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=ie(n);return r.jsx(eu,{...a,...s,ref:t})});Ds.displayName=Ts;var Ls="AlertDialogDescription",Os=l.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=ie(n);return r.jsx(tu,{...a,...s,ref:t})});Os.displayName=Ls;var uu="AlertDialogAction",Ms=l.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,a=ie(n);return r.jsx(Ss,{...a,...s,ref:t})});Ms.displayName=uu;var $s="AlertDialogCancel",_s=l.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:a}=lu($s,n),o=ie(n),c=H(t,a);return r.jsx(Ss,{...o,...s,ref:c})});_s.displayName=$s;var du=({contentRef:e})=>{const t=`\`${Re}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Re}\` by passing a \`${Ls}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Re}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return l.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},fu=Ps,mu=ks,hu=Is,pu=As,gu=Ms,xu=_s,vu=Ds,bu=Os;function yu({...e}){return r.jsx(fu,{"data-slot":"alert-dialog",...e})}function ju({...e}){return r.jsx(mu,{"data-slot":"alert-dialog-portal",...e})}function wu({className:e,...t}){return r.jsx(hu,{"data-slot":"alert-dialog-overlay",className:D("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Nu({className:e,...t}){return r.jsxs(ju,{children:[r.jsx(wu,{}),r.jsx(pu,{"data-slot":"alert-dialog-content",className:D("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Cu({className:e,...t}){return r.jsx("div",{"data-slot":"alert-dialog-header",className:D("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Eu({className:e,...t}){return r.jsx("div",{"data-slot":"alert-dialog-footer",className:D("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Su({className:e,...t}){return r.jsx(vu,{"data-slot":"alert-dialog-title",className:D("text-lg font-semibold",e),...t})}function Ru({className:e,...t}){return r.jsx(bu,{"data-slot":"alert-dialog-description",className:D("text-muted-foreground text-sm",e),...t})}function Pu({className:e,...t}){return r.jsx(gu,{className:D(Yt(),e),...t})}function ku({className:e,...t}){return r.jsx(xu,{className:D(Yt({variant:"outline"}),e),...t})}function Fr({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:D("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var Iu="Separator",zr="horizontal",Au=["horizontal","vertical"],Fs=l.forwardRef((e,t)=>{const{decorative:n,orientation:s=zr,...a}=e,o=Tu(s)?s:zr,i=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return r.jsx(_.div,{"data-orientation":o,...i,...a,ref:t})});Fs.displayName=Iu;function Tu(e){return Au.includes(e)}var Du=Fs;function Lu({className:e,orientation:t="horizontal",decorative:n=!0,...s}){return r.jsx(Du,{"data-slot":"separator-root",decorative:n,orientation:t,className:D("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}var nr="Progress",sr=100,[Ou,rd]=ve(nr),[Mu,$u]=Ou(nr),zs=l.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:o=_u,...c}=e;(a||a===0)&&!Br(a)&&console.error(Fu(`${a}`,"Progress"));const i=Br(a)?a:sr;s!==null&&!Ur(s,i)&&console.error(zu(`${s}`,"Progress"));const d=Ur(s,i)?s:null,u=st(d)?o(d,i):void 0;return r.jsx(Mu,{scope:n,value:d,max:i,children:r.jsx(_.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":st(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":Ws(d,i),"data-value":d??void 0,"data-max":i,...c,ref:t})})});zs.displayName=nr;var Bs="ProgressIndicator",Us=l.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=$u(Bs,n);return r.jsx(_.div,{"data-state":Ws(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});Us.displayName=Bs;function _u(e,t){return`${Math.round(e/t*100)}%`}function Ws(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function st(e){return typeof e=="number"}function Br(e){return st(e)&&!isNaN(e)&&e>0}function Ur(e,t){return st(e)&&!isNaN(e)&&e<=t&&e>=0}function Fu(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${sr}\`.`}function zu(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${sr} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Bu=zs,Uu=Us;function Wu({className:e,value:t,...n}){return r.jsx(Bu,{"data-slot":"progress",className:D("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:r.jsx(Uu,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function Gu({itemId:e,existingPhotos:t=[],onPhotosUpdated:n,maxPhotos:s=10}){const[a,o]=l.useState(!1),[c,i]=l.useState([]),[d,u]=l.useState(null),f=t.length+c.filter(x=>x.status==="success").length<s,m=s-t.length-c.filter(x=>x.status==="success").length,h=x=>{if(!x.type.startsWith("image/"))return"Файл должен быть изображением";const E=25*1024*1024;return x.size>E?"Размер файла не должен превышать 25MB":["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/tiff"].includes(x.type.toLowerCase())?null:"Неподдерживаемый формат изображения"},j=async x=>new Promise((E,N)=>{const P=new Image;P.onload=()=>{try{let{width:R,height:z}=P;(R>1920||z>1920)&&(R>z?(z=z*1920/R,R=1920):(R=R*1920/z,z=1920));const J=document.createElement("canvas"),me=J.getContext("2d");if(!me)throw new Error("Canvas context not available");J.width=R,J.height=z,me.drawImage(P,0,0,R,z),J.toBlob(V=>{if(!V){N(new Error("Failed to process image"));return}const Le=new File([V],x.name.replace(/\.[^/.]+$/,".jpg"),{type:"image/jpeg",lastModified:Date.now()});console.log(`Image processed: ${x.size} → ${Le.size} bytes (${Math.round(R)}x${Math.round(z)}px)`),E(Le)},"image/jpeg",.8)}catch(k){console.error("Image processing error:",k),E(x)}},P.onerror=()=>{console.error("Failed to load image for processing"),E(x)},P.src=URL.createObjectURL(x)}),C=async x=>{i(E=>[...E,{file:x,progress:0,status:"uploading"}]);try{i(k=>k.map(R=>R.file===x?{...R,progress:10}:R));const E=await j(x);i(k=>k.map(R=>R.file===x?{...R,progress:20}:R));const N=setInterval(()=>{i(k=>k.map(R=>R.file===x&&R.status==="uploading"?{...R,progress:Math.min(R.progress+15,90)}:R))},300),P=await O.uploadPhotoBoth(e,x,E);if(clearInterval(N),P.success&&P.data)i(k=>k.map(R=>R.file===x?{...R,progress:100,status:"success",url:P.data.publicUrl,id:P.data.id}:R)),n==null||n();else throw new Error(P.error||"Ошибка загрузки")}catch(E){const N=E instanceof Error?E.message:"Ошибка загрузки";i(P=>P.map(k=>k.file===x?{...k,progress:0,status:"error",error:N}:k))}},g=l.useCallback(x=>{u(null);const E=Array.from(x);if(E.length>m){u(`Можно загрузить только ${m} фото. Максимум ${s} фото на предмет.`);return}const N=[],P=[];if(E.forEach(k=>{const R=h(k);R?P.push(`${k.name}: ${R}`):N.push(k)}),P.length>0){u(P.join(`
`));return}N.forEach(k=>{C(k)})},[e,m,s]),b=l.useCallback(x=>{x.preventDefault(),o(!0)},[]),v=l.useCallback(x=>{x.preventDefault(),o(!1)},[]),p=l.useCallback(x=>{x.preventDefault(),o(!1),f&&g(x.dataTransfer.files)},[f,g]),w=l.useCallback(x=>{x.target.files&&f&&g(x.target.files)},[f,g]),y=x=>{i(E=>E.filter(N=>N.file!==x))},S=x=>{i(E=>E.filter(N=>N.file!==x)),C(x)},A=async x=>{try{u(null);const E=await O.deletePhoto(x);E.success?n==null||n():u(E.error||"Ошибка удаления фото")}catch(E){u(E instanceof Error?E.message:"Ошибка удаления фото")}};return r.jsxs("div",{className:"space-y-4",children:[f&&r.jsx($,{className:`border-2 border-dashed transition-colors ${a?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,onDragOver:b,onDragLeave:v,onDrop:p,children:r.jsx(G,{className:"p-8",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(qr,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Загрузите фотографии"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Перетащите файлы сюда или нажмите для выбора"}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Можно загрузить ещё ",m," из ",s," фото"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:w,className:"hidden",id:`photo-upload-${e}`}),r.jsx("label",{htmlFor:`photo-upload-${e}`,children:r.jsx(I,{variant:"outline",className:"gap-2",asChild:!0,children:r.jsxs("span",{children:[r.jsx(Bt,{className:"w-4 h-4"}),"Выбрать файлы"]})})}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Поддерживаемые форматы: JPEG, PNG, GIF, WebP, BMP, TIFF",r.jsx("br",{}),"Максимальный размер: 25MB"]})]})]})})}),d&&r.jsxs(pe,{variant:"destructive",children:[r.jsx(Ne,{className:"h-4 w-4"}),r.jsx(ge,{className:"whitespace-pre-line",children:d})]}),c.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium",children:"Загрузка файлов"}),c.map((x,E)=>r.jsx($,{children:r.jsx(G,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsxs("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:[x.status==="uploading"&&r.jsx(Pt,{className:"w-4 h-4 animate-spin"}),x.status==="success"&&r.jsx(ea,{className:"w-4 h-4 text-green-600"}),x.status==="error"&&r.jsx(Ne,{className:"w-4 h-4 text-red-600"})]}),r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium truncate",children:x.file.name}),r.jsx(U,{variant:x.status==="success"?"default":x.status==="error"?"destructive":"secondary",children:x.status==="uploading"?"Загрузка...":x.status==="success"?"Готово":"Ошибка"})]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[(x.file.size/1024/1024).toFixed(1)," MB"]}),x.status==="uploading"&&r.jsx(Wu,{value:x.progress,className:"h-1"}),x.status==="error"&&x.error&&r.jsx("p",{className:"text-xs text-red-600",children:x.error})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[x.status==="error"&&r.jsx(I,{variant:"outline",size:"sm",onClick:()=>S(x.file),children:"Повторить"}),r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>y(x.file),children:r.jsx(he,{className:"w-4 h-4"})})]})]})})},E))]}),t.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium",children:["Загруженные фото (",t.length,")"]}),r.jsxs(U,{variant:"secondary",children:[t.length,"/",s]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(x=>r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:r.jsx(rt,{src:x.url,alt:x.filename,className:"w-full h-full object-cover"})}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors rounded-lg flex items-center justify-center",children:r.jsx(I,{variant:"destructive",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>A(x.id),children:r.jsx(he,{className:"w-4 h-4"})})})]},x.id))})]}),!f&&r.jsxs(pe,{children:[r.jsx(Ne,{className:"h-4 w-4"}),r.jsxs(ge,{children:["Достигнут лимит в ",s," фотографий для этого предмета."]})]})]})}function Vu({photos:e,onPhotosChange:t,maxPhotos:n=10}){const[s,a]=l.useState(!1),[o,c]=l.useState(null),i=e.length<n,d=n-e.length,u=p=>{if(!p.type.startsWith("image/"))return"Файл должен быть изображением";const w=25*1024*1024;return p.size>w?"Размер файла не должен превышать 25MB":["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/tiff"].includes(p.type.toLowerCase())?null:"Неподдерживаемый формат изображения"},f=async p=>new Promise((w,y)=>{const S=new Image;S.onload=()=>{try{let{width:x,height:E}=S;(x>1920||E>1920)&&(x>E?(E=E*1920/x,x=1920):(x=x*1920/E,E=1920));const N=document.createElement("canvas"),P=N.getContext("2d");if(!P)throw new Error("Canvas context not available");N.width=x,N.height=E,P.drawImage(S,0,0,x,E),N.toBlob(k=>{if(!k){y(new Error("Failed to process image"));return}const R=new File([k],p.name.replace(/\.[^/.]+$/,".jpg"),{type:"image/jpeg",lastModified:Date.now()});console.log(`Image processed: ${p.size} → ${R.size} bytes (${Math.round(x)}x${Math.round(E)}px)`),w(R)},"image/jpeg",.8)}catch(A){console.error("Image processing error:",A),w(p)}},S.onerror=()=>{console.error("Failed to load image for processing"),w(p)},S.src=URL.createObjectURL(p)}),m=l.useCallback(async p=>{c(null);const w=Array.from(p);if(w.length>d){c(`Можно загрузить только ${d} фото. Максимум ${n} фото на предмет.`);return}const y=[],S=[];if(w.forEach(A=>{const x=u(A);x?S.push(`${A.name}: ${x}`):y.push(A)}),S.length>0){c(S.join(`
`));return}try{const A=await Promise.all(y.map(async x=>{const E=await f(x);return{original:x,processed:E}}));t([...e,...A])}catch(A){console.error("Error processing images:",A),c("Ошибка обработки изображений. Попробуйте еще раз.")}},[e,t,d,n]),h=l.useCallback(p=>{p.preventDefault(),a(!0)},[]),j=l.useCallback(p=>{p.preventDefault(),a(!1)},[]),C=l.useCallback(p=>{p.preventDefault(),a(!1),i&&m(p.dataTransfer.files)},[i,m]),g=l.useCallback(p=>{p.target.files&&i&&m(p.target.files)},[i,m]),b=p=>{const w=e.filter((y,S)=>S!==p);t(w)},v=p=>URL.createObjectURL(p.processed);return r.jsxs("div",{className:"space-y-4",children:[i&&r.jsx($,{className:`border-2 border-dashed transition-colors ${s?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,onDragOver:h,onDragLeave:j,onDrop:C,children:r.jsx(G,{className:"p-6",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"mx-auto w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(qr,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-sm",children:"Добавьте фотографии"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Перетащите файлы сюда или нажмите для выбора"}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Можно добавить ещё ",d," из ",n," фото"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:g,className:"hidden",id:"photo-preview-upload"}),r.jsx("label",{htmlFor:"photo-preview-upload",children:r.jsx(I,{variant:"outline",size:"sm",className:"gap-2",asChild:!0,children:r.jsxs("span",{children:[r.jsx(Bt,{className:"w-4 h-4"}),"Выбрать файлы"]})})}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"JPEG, PNG, GIF, WebP, BMP, TIFF · Макс. 25MB"})]})]})})}),o&&r.jsxs(pe,{variant:"destructive",children:[r.jsx(Ne,{className:"h-4 w-4"}),r.jsx(ge,{className:"whitespace-pre-line",children:o})]}),e.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium text-sm",children:["Выбранные фото (",e.length,")"]}),r.jsxs(U,{variant:"secondary",className:"text-xs",children:[e.length,"/",n]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:e.map((p,w)=>r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-muted",children:r.jsx("img",{src:v(p),alt:`Предпросмотр ${w+1}`,className:"w-full h-full object-cover",onLoad:y=>{URL.revokeObjectURL(y.target.src)}})}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors rounded-lg flex items-center justify-center",children:r.jsx(I,{variant:"destructive",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>b(w),children:r.jsx(he,{className:"w-4 h-4"})})}),r.jsx("div",{className:"absolute bottom-1 left-1 right-1 bg-black/60 text-white text-xs px-2 py-1 rounded truncate",children:p.original.name})]},w))})]}),!i&&r.jsxs(pe,{children:[r.jsx(Ne,{className:"h-4 w-4"}),r.jsxs(ge,{children:["Достигнут лимит в ",n," фотографий для этого предмета."]})]})]})}function Hu({itemId:e,onSave:t,onCancel:n}){var E;const[s,a]=l.useState({title:"",description:"",fullDescription:"",year:new Date().getFullYear(),yearFrom:void 0,yearTo:void 0,country:"",organization:"",size:"",edition:"",series:"",tags:[],category:"",condition:"",acquisition:"",value:"",photos:[]}),[o,c]=l.useState(""),[i,d]=l.useState(!1),[u,f]=l.useState(!1),[m,h]=l.useState(null),[j,C]=l.useState({}),[g,b]=l.useState([]);l.useEffect(()=>{e&&v()},[e]);const v=async()=>{if(e){d(!0),h(null);try{const N=await O.getItem(e);N.success&&N.data?a(N.data):h(N.error||"Не удалось загрузить предмет")}catch{h("Ошибка загрузки предмета")}finally{d(!1)}}},p=()=>{var P,k;const N={};return(P=s.title)!=null&&P.trim()||(N.title="Название обязательно"),(k=s.category)!=null&&k.trim()||(N.category="Категория обязательна"),(!s.year||s.year<1800||s.year>2030)&&(N.year="Год должен быть между 1800 и 2030"),s.yearFrom&&s.yearTo&&s.yearFrom>s.yearTo&&(N.yearRange='Год "от" не может быть больше года "до"'),C(N),Object.keys(N).length===0},w=async()=>{var N;if(p()){f(!0),h(null);try{let P;if(e){if(P=await O.updateItem(e,s),P.success){const k=await O.getItem(e);k.success&&k.data&&t(k.data)}}else if(P=await O.createItem(s),P.success&&((N=P.data)!=null&&N.id)){const k=P.data.id;if(g.length>0)try{for(const z of g)await O.uploadPhotoBoth(k,z.original,z.processed);b([])}catch(z){console.error("Photo upload error:",z),h("Предмет создан, но не все фото загружены. Вы можете добавить их позже.")}const R=await O.getItem(k);R.success&&R.data&&t(R.data)}P.success||h(P.error||"Ошибка сохранения")}catch{h("Ошибка сохранения предмета")}finally{f(!1)}}},y=(N,P)=>{a(k=>({...k,[N]:P})),j[N]&&C(k=>{const R={...k};return delete R[N],R})},S=()=>{var N;o.trim()&&!((N=s.tags)!=null&&N.includes(o.trim()))&&(y("tags",[...s.tags||[],o.trim()]),c(""))},A=N=>{var P;y("tags",((P=s.tags)==null?void 0:P.filter(k=>k!==N))||[])},x=N=>{N.key==="Enter"&&(N.preventDefault(),S())};return i?r.jsx("div",{className:"p-8 text-center",children:r.jsx("div",{className:"text-lg font-medium",children:"Загрузка предмета..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(I,{variant:"outline",onClick:n,className:"gap-2",children:[r.jsx(se,{className:"w-4 h-4"}),"Назад"]}),r.jsx("h1",{className:"text-2xl font-semibold",children:e?"Редактировать предмет":"Новый предмет"})]}),r.jsxs(I,{onClick:w,disabled:u,className:"gap-2",children:[r.jsx(ta,{className:"w-4 h-4"}),u?"Сохранение...":e?"Сохранить":"Создать предмет"]})]}),m&&r.jsxs(pe,{variant:"destructive",children:[r.jsx(Ne,{className:"h-4 w-4"}),r.jsx(ge,{children:m})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[r.jsxs($,{children:[r.jsx(q,{children:r.jsx(re,{children:"Основная информация"})}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"title",children:"Название *"}),r.jsx(B,{id:"title",value:s.title||"",onChange:N=>y("title",N.target.value),placeholder:"Введите название предмета"}),j.title&&r.jsx("p",{className:"text-sm text-red-600",children:j.title})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"category",children:"Категория *"}),r.jsx(B,{id:"category",value:s.category||"",onChange:N=>y("category",N.target.value),placeholder:"Например: Винтажные камеры"}),j.category&&r.jsx("p",{className:"text-sm text-red-600",children:j.category})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"description",children:"Краткое описание"}),r.jsx(Fr,{id:"description",value:s.description||"",onChange:N=>y("description",N.target.value),placeholder:"Краткое описание предмета",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"fullDescription",children:"Подробное описание"}),r.jsx(Fr,{id:"fullDescription",value:s.fullDescription||"",onChange:N=>y("fullDescription",N.target.value),placeholder:"Подробное описание с историей и деталями",rows:5})]})]})]}),r.jsxs($,{children:[r.jsx(q,{children:r.jsx(re,{children:"Детали"})}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"year",children:"Год *"}),r.jsx(B,{id:"year",type:"number",min:"1800",max:"2024",value:s.year||"",onChange:N=>y("year",parseInt(N.target.value)||"")}),j.year&&r.jsx("p",{className:"text-sm text-red-600",children:j.year})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"country",children:"Страна"}),r.jsx(B,{id:"country",value:s.country||"",onChange:N=>y("country",N.target.value),placeholder:"Страна производства"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"yearFrom",children:"Год от"}),r.jsx(B,{id:"yearFrom",type:"number",min:"1800",max:"2024",value:s.yearFrom||"",onChange:N=>y("yearFrom",parseInt(N.target.value)||void 0),placeholder:"Начало диапазона"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"yearTo",children:"Год до"}),r.jsx(B,{id:"yearTo",type:"number",min:"1800",max:"2024",value:s.yearTo||"",onChange:N=>y("yearTo",parseInt(N.target.value)||void 0),placeholder:"Конец диапазона"})]})]}),j.yearRange&&r.jsx("p",{className:"text-sm text-red-600",children:j.yearRange}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"organization",children:"Организация/Издатель"}),r.jsx(B,{id:"organization",value:s.organization||"",onChange:N=>y("organization",N.target.value),placeholder:"Производитель или издатель"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"size",children:"Размер"}),r.jsx(B,{id:"size",value:s.size||"",onChange:N=>y("size",N.target.value),placeholder:"Размеры предмета"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"edition",children:"Тираж"}),r.jsx(B,{id:"edition",value:s.edition||"",onChange:N=>y("edition",N.target.value),placeholder:"Тираж или серийность"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"series",children:"Серия"}),r.jsx(B,{id:"series",value:s.series||"",onChange:N=>y("series",N.target.value),placeholder:"Серия или коллекция"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"condition",children:"Состояние"}),r.jsx(B,{id:"condition",value:s.condition||"",onChange:N=>y("condition",N.target.value),placeholder:"Состояние предмета"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"acquisition",children:"Как приобретен"}),r.jsx(B,{id:"acquisition",value:s.acquisition||"",onChange:N=>y("acquisition",N.target.value),placeholder:"История приобретения"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(F,{htmlFor:"value",children:"Стоимость"}),r.jsx(B,{id:"value",value:s.value||"",onChange:N=>y("value",N.target.value),placeholder:"Примерная стоимость"})]})]})]})]}),r.jsxs($,{children:[r.jsx(q,{children:r.jsx(re,{children:"Теги"})}),r.jsxs(G,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(B,{value:o,onChange:N=>c(N.target.value),onKeyPress:x,placeholder:"Добавить тег",className:"flex-1"}),r.jsx(I,{onClick:S,disabled:!o.trim(),children:r.jsx(kt,{className:"w-4 h-4"})})]}),s.tags&&s.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((N,P)=>r.jsxs(U,{variant:"secondary",className:"gap-1",children:[N,r.jsx("button",{onClick:()=>A(N),className:"hover:bg-secondary-foreground/20 rounded-full p-0.5",children:r.jsx(he,{className:"w-3 h-3"})})]},P))})]})]}),r.jsx(Lu,{}),r.jsxs($,{children:[r.jsx(q,{children:r.jsx(re,{children:"Фотографии предмета"})}),r.jsx(G,{children:e?r.jsx(Gu,{itemId:e,existingPhotos:((E=s.photos)==null?void 0:E.map((N,P)=>({id:`photo-${P}`,url:N,filename:`photo-${P+1}.jpg`})))||[],onPhotosUpdated:()=>{v()}}):r.jsx(Vu,{photos:g,onPhotosChange:b,maxPhotos:10})})]})]})}function qu(){const[e,t]=l.useState([]),[n,s]=l.useState([]),[a,o]=l.useState(!0),[c,i]=l.useState(null),[d,u]=l.useState("dashboard"),[f,m]=l.useState(),[h,j]=l.useState(!1),[C,g]=l.useState(null);l.useEffect(()=>{b()},[]);const b=async()=>{o(!0),i(null);try{const[x,E]=await Promise.all([O.getItems(),O.getBlogPosts()]);x.success&&x.data&&t(x.data),E.success&&E.data&&s(E.data)}catch{i("Ошибка загрузки данных")}finally{o(!1)}},v=async()=>{try{await O.logout(),window.location.reload()}catch(x){console.error("Logout failed:",x),O.clearSession(),window.location.reload()}},p=async()=>{try{await O.downloadExport()}catch(x){alert("Ошибка экспорта: "+(x instanceof Error?x.message:"Неизвестная ошибка"))}},w=()=>{m(void 0),u("item-editor")},y=async()=>{if(C)try{const x=await O.deleteItem(C.id);x.success?(t(E=>E.filter(N=>N.id!==C.id)),j(!1),g(null)):alert("Ошибка удаления: "+(x.error||"Неизвестная ошибка"))}catch(x){alert("Ошибка удаления: "+(x instanceof Error?x.message:"Неизвестная ошибка"))}},S=x=>{t(E=>{const N=E.findIndex(P=>P.id===x.id);if(N>=0){const P=[...E];return P[N]=x,P}else return[x,...E]}),u("dashboard")},A=()=>{u("dashboard"),m(void 0)};return d==="item-editor"?r.jsx("div",{className:"min-h-screen bg-background",children:r.jsx("div",{className:"container mx-auto max-w-7xl p-4",children:r.jsx(Hu,{itemId:f,onSave:S,onCancel:A})})}):a?r.jsx("div",{className:"min-h-screen bg-background p-4",children:r.jsx("div",{className:"container mx-auto max-w-7xl",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h1",{children:"Админка"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Загрузка данных..."})]})})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",children:r.jsx("div",{className:"container mx-auto max-w-7xl px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Админка Collepto"}),r.jsx(U,{variant:"secondary",children:"Администратор"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(I,{onClick:p,variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(ra,{className:"w-4 h-4"}),"Экспорт"]}),r.jsxs(I,{onClick:v,variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(Kr,{className:"w-4 h-4"}),"Выйти"]})]})]})})}),r.jsxs("div",{className:"container mx-auto max-w-7xl p-4",children:[c&&r.jsx(pe,{variant:"destructive",className:"mb-6",children:r.jsx(ge,{children:c})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs($,{children:[r.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(re,{className:"text-sm font-medium",children:"Предметы"}),r.jsx(na,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(G,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"в коллекции"})]})]}),r.jsxs($,{children:[r.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(re,{className:"text-sm font-medium",children:"Посты блога"}),r.jsx(sa,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(G,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.length}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.filter(x=>x.published).length," опубликовано"]})]})]}),r.jsxs($,{children:[r.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(re,{className:"text-sm font-medium",children:"Категории"}),r.jsx(aa,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(G,{children:[r.jsx("div",{className:"text-2xl font-bold",children:new Set(e.map(x=>x.category)).size}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"уникальных"})]})]}),r.jsxs($,{children:[r.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(re,{className:"text-sm font-medium",children:"Фотографии"}),r.jsx(Bt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(G,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.reduce((x,E)=>{var N;return x+(((N=E.photos)==null?void 0:N.length)||0)},0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"всего загружено"})]})]})]}),r.jsxs(Dl,{defaultValue:"items",className:"w-full",children:[r.jsxs(Ll,{className:"grid w-full grid-cols-2",children:[r.jsx(Cr,{value:"items",children:"Предметы коллекции"}),r.jsx(Cr,{value:"blog",children:"Блог"})]}),r.jsxs(Er,{value:"items",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Управление предметами"}),r.jsxs(I,{onClick:w,className:"gap-2",children:[r.jsx(kt,{className:"w-4 h-4"}),"Добавить предмет"]})]}),r.jsx("div",{className:"grid gap-4",children:e.map(x=>{var E,N;return r.jsx($,{children:r.jsx(G,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-medium",children:x.title}),r.jsx(U,{variant:"outline",children:x.category}),r.jsx(U,{variant:"secondary",children:x.year})]}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:x.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[r.jsxs("span",{children:[((E=x.photos)==null?void 0:E.length)||0," фото"]}),r.jsxs("span",{children:[((N=x.tags)==null?void 0:N.length)||0," тегов"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(I,{variant:"outline",size:"sm",className:"gap-1",children:[r.jsx(ir,{className:"w-3 h-3"}),"Просмотр"]}),r.jsxs(I,{variant:"outline",size:"sm",className:"gap-1",children:[r.jsx(lr,{className:"w-3 h-3"}),"Изменить"]}),r.jsxs(I,{variant:"outline",size:"sm",className:"gap-1 text-destructive",children:[r.jsx(cr,{className:"w-3 h-3"}),"Удалить"]})]})]})})},x.id)})})]}),r.jsxs(Er,{value:"blog",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Управление блогом"}),r.jsxs(I,{className:"gap-2",children:[r.jsx(kt,{className:"w-4 h-4"}),"Новый пост"]})]}),r.jsx("div",{className:"grid gap-4",children:n.map(x=>{var E;return r.jsx($,{children:r.jsx(G,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-medium",children:x.title}),r.jsx(U,{variant:x.published?"default":"secondary",children:x.published?"Опубликован":"Черновик"}),r.jsx(U,{variant:"outline",children:x.category})]}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:x.excerpt}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[r.jsx("span",{children:new Date(x.publishDate).toLocaleDateString("ru-RU")}),r.jsxs("span",{children:[x.readTime," мин чтения"]}),r.jsxs("span",{children:[((E=x.relatedItems)==null?void 0:E.length)||0," связанных предметов"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(I,{variant:"outline",size:"sm",className:"gap-1",children:[r.jsx(ir,{className:"w-3 h-3"}),"Просмотр"]}),r.jsxs(I,{variant:"outline",size:"sm",className:"gap-1",children:[r.jsx(lr,{className:"w-3 h-3"}),"Изменить"]}),r.jsxs(I,{variant:"outline",size:"sm",className:"gap-1 text-destructive",children:[r.jsx(cr,{className:"w-3 h-3"}),"Удалить"]})]})]})})},x.id)})})]})]})]}),r.jsx(yu,{open:h,onOpenChange:j,children:r.jsxs(Nu,{children:[r.jsxs(Cu,{children:[r.jsx(Su,{children:"Удалить предмет?"}),r.jsxs(Ru,{children:['Вы уверены, что хотите удалить предмет "',C==null?void 0:C.title,'"? Это действие нельзя отменить. Все связанные фотографии также будут удалены.']})]}),r.jsxs(Eu,{children:[r.jsx(ku,{onClick:()=>j(!1),children:"Отмена"}),r.jsx(Pu,{onClick:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Удалить"})]})]})})]})}function Ku(){const[e,t]=l.useState("admin-auth"),[n,s]=l.useState(!1),[a,o]=l.useState(!0);l.useEffect(()=>{(async()=>{var f;if(O.isAuthenticated())try{const m=await O.checkAuthStatus();m.success&&((f=m.data)!=null&&f.authenticated)?(s(!0),t("admin")):(O.clearSession(),s(!1),t("admin-auth"))}catch(m){console.error("Auth check failed:",m),O.clearSession(),s(!1),t("admin-auth")}else s(!1),t("admin-auth");o(!1)})()},[]);const c=()=>{s(!0),t("admin")},i=async()=>{try{await O.logout()}catch(u){console.error("Logout error:",u)}finally{s(!1),t("admin-auth")}},d=()=>{window.location.href="/"};return a?r.jsx(Lt,{defaultTheme:"light",storageKey:"collepto-theme",children:r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking authentication..."})]})})}):r.jsx(Lt,{defaultTheme:"light",storageKey:"collepto-theme",children:r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:r.jsxs("div",{className:"container flex h-14 items-center",children:[r.jsx("div",{className:"mr-4 flex",children:r.jsx("button",{className:"flex items-center space-x-2 font-bold text-xl hover:text-primary transition-colors",onClick:d,children:r.jsx("span",{children:"Collepto Admin"})})}),r.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-2",children:[r.jsxs(I,{variant:"ghost",size:"sm",onClick:d,className:"gap-2",children:[r.jsx(oa,{className:"w-4 h-4"}),"Main Site"]}),n&&r.jsxs(I,{variant:"ghost",size:"sm",onClick:i,className:"gap-2",children:[r.jsx(Kr,{className:"w-4 h-4"}),"Logout"]})]})]})}),r.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e==="admin-auth"&&r.jsx(fl,{onAuthSuccess:c}),e==="admin"&&n&&r.jsx(qu,{})]})]})})}function Yu(){return oe().pathname.startsWith("/admin")?r.jsx(Ku,{}):r.jsx(Lt,{defaultTheme:"light",storageKey:"collepto-theme",children:r.jsxs(ao,{children:[r.jsx(we,{path:"/",element:r.jsx(sl,{})}),r.jsx(we,{path:"/items/:slug",element:r.jsx(ol,{})}),r.jsx(we,{path:"/blog",element:r.jsx(ll,{})}),r.jsx(we,{path:"/blog/:slug",element:r.jsx(ul,{})}),r.jsx(we,{path:"*",element:r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Page not found"}),r.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Go home"})]})})})]})})}It.createRoot(document.getElementById("root")).render(r.jsx(ue.StrictMode,{children:r.jsx(Ao,{children:r.jsx(Yu,{})})}));
