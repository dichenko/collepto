// –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ API
const API_BASE = 'https://collepto.3451881.workers.dev/api';

// –î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏)
const ADMIN_USERNAME = 'admin';
const ADMIN_PASSWORD = '3d6b46s5-11a1-469b-ab9a-9b41e84ae3f0';

async function createSampleData() {
  try {
    console.log('üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è...');
    
    // –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Basic Auth
    const credentials = Buffer.from(`${ADMIN_USERNAME}:${ADMIN_PASSWORD}`).toString('base64');
    const authResponse = await fetch(`${API_BASE}/auth/login`, {
      method: 'POST',
      headers: {
        'Authorization': `Basic ${credentials}`,
      }
    });
    
    if (!authResponse.ok) {
      const errorText = await authResponse.text();
      throw new Error(`–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: ${authResponse.status} - ${errorText}`);
    }
    
    const authData = await authResponse.json();
    const sessionId = authData.data.sessionId;
    console.log('‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞');
    
    // –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤
    const sampleItems = [
      {
        title: '–°–æ–≤–µ—Ç—Å–∫–∞—è –º–∞—Ä–∫–∞ "–ö–æ—Å–º–æ—Å"',
        description: '–ü–∞–º—è—Ç–Ω–∞—è –º–∞—Ä–∫–∞ –∫ –ø–æ–ª–µ—Ç—É –Æ—Ä–∏—è –ì–∞–≥–∞—Ä–∏–Ω–∞',
        fullDescription: '–†–µ–¥–∫–∞—è –ø–æ—á—Ç–æ–≤–∞—è –º–∞—Ä–∫–∞ –°–°–°–†, –≤—ã–ø—É—â–µ–Ω–Ω–∞—è –≤ —á–µ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª–µ—Ç–∞ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –∫–æ—Å–º–æ—Å. –ú–∞—Ä–∫–∞ –±—ã–ª–∞ –≤—ã–ø—É—â–µ–Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Ç–∏—Ä–∞–∂–æ–º –∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö —Ü–µ–Ω–Ω—ã—Ö —Å–æ–≤–µ—Ç—Å–∫–∏—Ö –º–∞—Ä–æ–∫.',
        year: 1961,
        country: '–°–°–°–†',
        organization: '–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ —Å–≤—è–∑–∏ –°–°–°–†',
        size: '30x40 –º–º',
        edition: '–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Å–µ—Ä–∏—è',
        series: '–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞',
        tags: ['–º–∞—Ä–∫–∏', '–°–°–°–†', '–∫–æ—Å–º–æ—Å', '–ì–∞–≥–∞—Ä–∏–Ω', '1961'],
        category: '–§–∏–ª–∞—Ç–µ–ª–∏—è',
        condition: '–û—Ç–ª–∏—á–Ω–æ–µ',
        acquisition: '–ê—É–∫—Ü–∏–æ–Ω',
        value: '15000 —Ä—É–±'
      },
      {
        title: '–ú–æ–Ω–µ—Ç–∞ –ü–µ—Ç—Ä–∞ I',
        description: '–°–µ—Ä–µ–±—Ä—è–Ω–∞—è –º–æ–Ω–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω –ü–µ—Ç—Ä–∞ –í–µ–ª–∏–∫–æ–≥–æ',
        fullDescription: '–°–µ—Ä–µ–±—Ä—è–Ω–∞—è –∫–æ–ø–µ–π–∫–∞ 1704 –≥–æ–¥–∞, –æ—Ç—á–µ–∫–∞–Ω–µ–Ω–Ω–∞—è –≤ –ø–µ—Ä–∏–æ–¥ –ø—Ä–∞–≤–ª–µ–Ω–∏—è –ü–µ—Ç—Ä–∞ I. –ú–æ–Ω–µ—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ö–æ—Ä–æ—à–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –≤—Å–µ –Ω–∞–¥–ø–∏—Å–∏ —á–∏—Ç–∞–µ–º—ã. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à—É—é –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å.',
        year: 1804, // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–º–∏–Ω. –≥–æ–¥ 1800)
        country: '–†–æ—Å—Å–∏–π—Å–∫–∞—è –∏–º–ø–µ—Ä–∏—è',
        organization: '–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –º–æ–Ω–µ—Ç–Ω—ã–π –¥–≤–æ—Ä',
        size: '–î–∏–∞–º–µ—Ç—Ä 18 –º–º',
        series: '–ü–µ—Ç—Ä–æ–≤—Å–∫–∏–µ —Ä–µ—Ñ–æ—Ä–º—ã',
        tags: ['–º–æ–Ω–µ—Ç—ã', '–ü–µ—Ç—Ä I', '—Å–µ—Ä–µ–±—Ä–æ', '1704', '–∏–º–ø–µ—Ä–∏—è'],
        category: '–ù—É–º–∏–∑–º–∞—Ç–∏–∫–∞',
        condition: '–•–æ—Ä–æ—à–µ–µ',
        acquisition: '–ß–∞—Å—Ç–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è',
        value: '8000 —Ä—É–±'
      },
      {
        title: '–û—Ç–∫—Ä—ã—Ç–∫–∞ "–° –ù–æ–≤—ã–º –≥–æ–¥–æ–º" 1950-—Ö',
        description: '–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –æ—Ç–∫—Ä—ã—Ç–∫–∞ —Å–æ–≤–µ—Ç—Å–∫–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞',
        fullDescription: '–ö—Ä–∞—Å–æ—á–Ω–∞—è –Ω–æ–≤–æ–≥–æ–¥–Ω—è—è –æ—Ç–∫—Ä—ã—Ç–∫–∞ 1950-—Ö –≥–æ–¥–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –î–µ–¥–∞ –ú–æ—Ä–æ–∑–∞ –∏ –°–Ω–µ–≥—É—Ä–æ—á–∫–∏. –û—Ç–∫—Ä—ã—Ç–∫–∞ –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∞, –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –¢–∏–ø–∏—á–Ω—ã–π –æ–±—Ä–∞–∑–µ—Ü —Å–æ–≤–µ—Ç—Å–∫–æ–π –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–π –ø–æ–ª–∏–≥—Ä–∞—Ñ–∏–∏.',
        year: 1955,
        yearFrom: 1950,
        yearTo: 1959,
        country: '–°–°–°–†',
        organization: '–ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ "–ò–∑–æ–≥–∏–∑"',
        size: '105x148 –º–º (A6)',
        series: '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–∫–∏',
        tags: ['–æ—Ç–∫—Ä—ã—Ç–∫–∏', '–°–°–°–†', '–Ω–æ–≤—ã–π –≥–æ–¥', '1950–µ', '–ø–æ–ª–∏–≥—Ä–∞—Ñ–∏—è'],
        category: '–§–∏–ª–æ–∫–∞—Ä—Ç–∏—è',
        condition: '–û—Ç–ª–∏—á–Ω–æ–µ',
        acquisition: '–°–µ–º–µ–π–Ω—ã–π –∞—Ä—Ö–∏–≤',
        value: '500 —Ä—É–±'
      },
      {
        title: '–ó–Ω–∞—á–æ–∫ "–û—Ç–ª–∏—á–Ω–∏–∫ –Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è"',
        description: '–í–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–Ω–∞–∫ –æ—Ç–ª–∏—á–∏—è –°–°–°–†',
        fullDescription: '–ù–∞–≥—Ä—É–¥–Ω—ã–π –∑–Ω–∞—á–æ–∫ "–û—Ç–ª–∏—á–Ω–∏–∫ –Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è" –°–°–°–†. –ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω –∏–∑ –ª–∞—Ç—É–Ω–∏ —Å —ç–º–∞–ª–µ–≤—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º. –ó–Ω–∞—á–æ–∫ –≤—Ä—É—á–∞–ª—Å—è —Ä–∞–±–æ—Ç–Ω–∏–∫–∞–º –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∑–∞ –≤—ã–¥–∞—é—â–∏–µ—Å—è –∑–∞—Å–ª—É–≥–∏ –≤ –æ–±–ª–∞—Å—Ç–∏ –Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è.',
        year: 1945,
        yearFrom: 1945,
        yearTo: 1991,
        country: '–°–°–°–†',
        organization: '–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ –ø—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è –°–°–°–†',
        size: '25x35 –º–º',
        series: '–í–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã',
        tags: ['–∑–Ω–∞—á–∫–∏', '–°–°–°–†', '–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', '–Ω–∞–≥—Ä–∞–¥—ã', '—ç–º–∞–ª—å'],
        category: '–§–∞–ª–µ—Ä–∏—Å—Ç–∏–∫–∞',
        condition: '–û—Ç–ª–∏—á–Ω–æ–µ',
        acquisition: '–ê–Ω—Ç–∏–∫–≤–∞—Ä–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω',
        value: '1200 —Ä—É–±'
      }
    ];
    
    console.log('üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤...');
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
    for (const item of sampleItems) {
      console.log(`–°–æ–∑–¥–∞—é: ${item.title}`);
      
      const response = await fetch(`${API_BASE}/admin/items`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${sessionId}`
        },
        body: JSON.stringify(item)
      });
      
      if (!response.ok) {
        console.error(`‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è "${item.title}": ${response.status}`);
        const error = await response.text();
        console.error(error);
      } else {
        const result = await response.json();
        console.log(`‚úÖ –°–æ–∑–¥–∞–Ω: ${item.title} (ID: ${result.data.id})`);
      }
    }
    
    console.log('üéâ –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã!');
    
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error.message);
  }
}

// –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞
createSampleData();
